{"version":3,"file":"static/js/3273.f53c407b.chunk.js","mappings":"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","sources":["components/Form/index.tsx","pages/Contract/ContractTypeList/useContractType.tsx","pages/Contract/CreateServicesArising/CreateServicesArisingForm.tsx","pages/Contract/CreateServicesArising/index.tsx","utils/index.ts"],"sourcesContent":["import React from 'react';\nimport { Form as AntdForm } from 'antd';\nimport type { Control, FieldPath, FieldValues } from 'react-hook-form';\nimport { useController } from 'react-hook-form';\nimport _ from 'lodash'\n\ntype AntdFormItemProps = React.ComponentProps<typeof AntdForm.Item>;\n\nexport type FormItemProps<TFieldValues extends FieldValues = FieldValues> = {\n    children: React.ReactNode;\n    control?: Control<TFieldValues>;\n    name: FieldPath<TFieldValues>;\n} & Omit<AntdFormItemProps, 'name' | 'normalize' | 'rules' | 'validateStatus'>;\n\n// TODO: Support `onBlur` `ref`\n// FIXME: `Touched` does not change in devtool\nexport const FormItem = <TFieldValues extends FieldValues = FieldValues>({\n    children,\n    control,\n    name,\n    help,\n    hasFeedback = false,\n    ...props\n}: FormItemProps<TFieldValues>) => {\n    const { field, fieldState, formState: { errors } } = useController({ name, control });\n    const handleNormalize: AntdFormItemProps['normalize'] = (value) => {\n        field.onChange(value);\n        return value;\n    };\n    return (\n        <AntdForm.Item\n            hasFeedback={hasFeedback}\n            name={name as string}\n            // initialValue={field.value}\n            normalize={handleNormalize}\n            validateStatus={fieldState.invalid ? 'error' : undefined}\n            help={(errors[name]?.message ?? help) as string}\n            {...props}\n        >\n            {children}\n        </AntdForm.Item>\n    );\n};","import { useFirestoreQuery } from \"@react-query-firebase/firestore\";\r\nimport { query, collection } from \"firebase/firestore\";\r\nimport { firestore } from \"../../../lib/firebase\";\r\nimport { ContractType } from \"../../../models/ContractModel\";\r\n\r\nexport function useContractType() {\r\n  const ref = query(collection(firestore, \"contractType\"));\r\n  // Provide the query to the hook\r\n  const queryContractType = useFirestoreQuery([\"contractType\"], ref);\r\n  const snapshot = queryContractType.data;\r\n  let data: any[] = [];\r\n  snapshot?.forEach((docSnapshot) => {\r\n    data.push({ id: docSnapshot.id, ...docSnapshot.data() });\r\n  });\r\n\r\n  const refetch = async () => {\r\n    try {\r\n      await queryContractType.refetch(); // You can use refetch to fetch data again\r\n    } catch (error) {\r\n      console.error(\"Error refetching wedding dress data:\", error);\r\n    }\r\n  };\r\n\r\n  return {\r\n    isError: queryContractType.isError,\r\n    isLoading: queryContractType.isLoading,\r\n    data: data as ContractType[],\r\n    refetch,\r\n  };\r\n}\r\n","import { yupResolver } from \"@hookform/resolvers/yup\";\nimport { useFirestoreCollectionMutation } from \"@react-query-firebase/firestore\";\nimport { Button, Form as FormAntDeisgn, Input, InputNumber, message } from \"antd\";\nimport type { FormInstance } from \"antd/es/form\";\nimport { collection } from \"firebase/firestore\";\nimport { isEmpty } from \"lodash\";\nimport { useRef, useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { useQueryClient } from \"react-query\";\nimport * as yup from \"yup\";\nimport { FormItem } from \"../../../components/Form\";\nimport { firestore } from \"../../../lib/firebase\";\nimport { generateSlugUrl } from \"../../../utils\";\nimport { useContractType } from \"../ContractTypeList/useContractType\";\nimport { ContractType, ServicesArising } from \"../../../models/ContractModel\";\n\n\nconst defaultValues = {\n  serviceName: \"\",\n  servicePrice: \"\",\n};\n\nconst schema = yup\n  .object({\n    serviceName: yup.string().required(\"Vui lòng nhập tên danh mục phát sinh\"),\n    servicePrice: yup.string().required(\"Vui lòng nhập giá danh mục phát sinh\"),\n  })\n  .required();\n\nexport default function CreateServicesArisingForm() {\n  const formRef = useRef<FormInstance>(null);\n  const [form] = FormAntDeisgn.useForm();\n  const [messageApi, contextHolder] = message.useMessage();\n  const [loading, setLoading] = useState(false);\n  const weddingDressRef = collection(firestore, \"servicesArising\");\n  const mutation = useFirestoreCollectionMutation(weddingDressRef);\n  const { refetch } = useContractType();\n  const queryClient = useQueryClient();\n\n  const {\n    control,\n    handleSubmit,\n    formState: { errors },\n    reset,\n  } = useForm<any>({\n    defaultValues,\n    resolver: yupResolver(schema),\n  });\n\n  return (\n    <>\n      {contextHolder}\n      <FormAntDeisgn\n        form={form}\n        name=\"control-wedding-dress-type-ref\"\n        ref={formRef}\n        layout=\"vertical\"\n        initialValues={defaultValues}\n        onFinish={handleSubmit(async (data) => {\n          setLoading(true);\n          const payload: ServicesArising = {\n            ...data,\n            serviceType: generateSlugUrl(data?.serviceName || ''),\n          };\n          mutation.mutate(payload);\n          queryClient.invalidateQueries(\"servicesArising\");\n          setTimeout(async () => await refetch(), 300);\n          messageApi.open({\n            type: \"success\",\n            content: \"Tạo tên danh mục phát sinh thành công!\",\n            duration: 5,\n          });\n          setLoading(false);\n          form.resetFields();\n          formRef.current?.resetFields();\n          reset();\n        })}\n      >\n        <div className=\"grid grid-cols-1 gap-6\">\n          <FormItem\n            control={control}\n            name=\"serviceName\"\n            label=\"Tên danh mục phát sinh\"\n          >\n            <Input allowClear placeholder=\"Nhập tên danh mục phát sinh\" />\n          </FormItem>\n          <FormItem control={control} name=\"servicePrice\" label=\"Giá của danh mục phát sinh\">\n            <InputNumber\n              style={{ width: \"100%\" }}\n              placeholder=\"Nhập giá của danh mục phát sinh\"\n              formatter={(value) =>\n                `${value}`.replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\")\n              }\n            />\n          </FormItem>\n        </div>\n        <Button\n          loading={loading}\n          disabled={!isEmpty(errors)}\n          type=\"primary\"\n          htmlType=\"submit\"\n          block\n          size=\"large\"\n        >\n          Gửi\n        </Button>\n      </FormAntDeisgn>\n    </>\n  );\n}\n","import React from \"react\";\r\nimport { Breadcrumb } from \"antd\";\r\nimport CreateServicesArisingForm from \"./CreateServicesArisingForm\";\r\n\r\nconst CreateServicesArising = () => {\r\n  return (\r\n    <div className=\"m-2 p-2 md:p-10 bg-white rounded-3xl\">\r\n      <div className=\"mb-4\">\r\n        <Breadcrumb\r\n          items={[\r\n            {\r\n              href: \"/\",\r\n              title: \"Trang chủ\",\r\n            },\r\n            {\r\n              title: \"Tạo danh mục phát sinh\",\r\n            },\r\n          ]}\r\n        />\r\n      </div>\r\n      <CreateServicesArisingForm />\r\n    </div>\r\n  );\r\n};\r\nexport default CreateServicesArising;\r\n","import { MenuProps } from \"antd\";\r\nimport { chain, isEmpty, isNil } from \"lodash\";\r\n\r\nexport type StatusColorType =\r\n  | \"pending\"\r\n  | \"active\"\r\n  | \"complete\"\r\n  | \"rejected\"\r\n  | \"canceled\";\r\n\r\nexport type StatusOnlineType = \"online\" | \"offline\";\r\n\r\nconst getStatusColor = (color: StatusColorType = \"pending\") => {\r\n  const defaultColor = {\r\n    pending: \"orange\",\r\n    active: \"cyan\",\r\n    complete: \"green\",\r\n    rejected: \"red\",\r\n    canceled: \"red\",\r\n  };\r\n  return defaultColor[color];\r\n};\r\n\r\nconst getStatusOnline = (color: StatusOnlineType = \"offline\") => {\r\n  const defaultColor = {\r\n    offline: \"gray\",\r\n    online: \"green\",\r\n  };\r\n  return defaultColor[color];\r\n};\r\n\r\nfunction generateSlugUrl(str: string) {\r\n  // Remove diacritics\r\n  str = str\r\n    ?.normalize(\"NFD\")\r\n    .replace(/[\\u0300-\\u036f]/g, \"\")\r\n    ?.replace(\"đ\", \"d\");\r\n  // Replace spaces with hyphens and convert to lowercase\r\n  str = str?.replace(/\\s+/g, \"-\").toLowerCase();\r\n  return str;\r\n}\r\n\r\nconst regexPassword =\r\n  /^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$/;\r\n\r\nconst isVietnamesePhoneNumber = (number: string) => {\r\n  return /((^(\\+84|84|0|0084){1})(3|5|7|8|9))+([0-9]{8})$/.test(number);\r\n};\r\n\r\nconst formatCurrency = (number: string) => {\r\n  if (isNil(number) || isEmpty(number)) return \"--\";\r\n  return parseInt(number).toLocaleString(\"vi-VN\", {\r\n    style: \"currency\",\r\n    currency: \"VND\",\r\n  });\r\n};\r\n\r\nconst formatNumber = (num: number) => {\r\n  if (num === 0) return `${num.toString()}`;\r\n  if (num >= 1000000000) {\r\n    return `${(num / 1000000000).toFixed(0)} tỷ`;\r\n  } else if (num >= 1000000) {\r\n    return `${(num / 1000000).toFixed(0)} tr`;\r\n  } else {\r\n    return `${(num / 1000).toFixed(0)} k`;\r\n  }\r\n};\r\n\r\nexport {\r\n  isVietnamesePhoneNumber,\r\n  formatCurrency,\r\n  getStatusColor,\r\n  getStatusOnline,\r\n  regexPassword,\r\n  formatNumber,\r\n  generateSlugUrl,\r\n};\r\n\r\ntype PermissionKey =\r\n  | \"ecommerce\"\r\n  | \"employees\"\r\n  | \"contracts\"\r\n  | \"wedding-dresses\"\r\n  | \"member-management\"\r\n  | \"pricing\"\r\n  | \"page-management\"\r\n  | \"customer-contact\"\r\n  | \"booking-schedule\"\r\n  | \"machine-schedule\";\r\n\r\ntype MenuItem = Required<MenuProps>[\"items\"][number];\r\n\r\nexport const canView = (\r\n  permissions: Partial<Record<PermissionKey, string[]>>,\r\n  key: PermissionKey\r\n) => {\r\n  return permissions?.[key]?.includes(\"view\");\r\n};\r\n\r\nexport const canCreate = (\r\n  permissions: Partial<Record<PermissionKey, string[]>>,\r\n  key: PermissionKey\r\n) => {\r\n  return permissions?.[key]?.includes(\"create\");\r\n};\r\n\r\nexport const canEdit = (\r\n  permissions: Partial<Record<PermissionKey, string[]>>,\r\n  key: PermissionKey\r\n) => {\r\n  return permissions?.[key]?.includes(\"edit\");\r\n};\r\n\r\nexport const canDelete = (\r\n  permissions: Partial<Record<PermissionKey, string[]>>,\r\n  key: PermissionKey\r\n) => {\r\n  return permissions?.[key]?.includes(\"delete\");\r\n};\r\n\r\n// Helper để tránh false/null trong mảng\r\nexport const canViewItem = (\r\n  key: PermissionKey,\r\n  item: MenuItem,\r\n  permissions: Partial<Record<PermissionKey, string[]>>\r\n): MenuItem | null => (canView(permissions, key) ? item : null);\r\n\r\nexport const last3Digits = (phone: string) =>\r\n  chain(phone)\r\n    .replace(/\\D/g, \"\") // bỏ mọi ký tự không phải số\r\n    .toArray() // chuyển thành mảng ký tự\r\n    .takeRight(3) // lấy 3 ký tự cuối\r\n    .join(\"\") // ghép lại thành string\r\n    .value();\r\n\r\nexport const lastWord = (s: string) =>\r\n  chain(s)\r\n    .trim() // bỏ khoảng trắng đầu/cuối\r\n    .split(/\\s+/) // tách theo 1+ khoảng trắng\r\n    .last() // lấy phần tử cuối\r\n    .defaultTo(\"\") // phòng chuỗi rỗng\r\n    .value();\r\n"],"names":["FormItem","_ref","_errors$name$message","_errors$name","children","control","name","help","_ref$hasFeedback","hasFeedback","props","_objectWithoutProperties","_excluded","_useController","useController","field","fieldState","errors","formState","_jsx","AntdForm","Item","_objectSpread","normalize","value","onChange","validateStatus","invalid","undefined","message","useContractType","ref","query","collection","firestore","queryContractType","useFirestoreQuery","snapshot","data","forEach","docSnapshot","push","id","refetch","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_context","prev","next","t0","console","error","stop","apply","arguments","isError","isLoading","defaultValues","serviceName","servicePrice","schema","yup","required","CreateServicesArisingForm","formRef","useRef","_FormAntDeisgn$useFor","FormAntDeisgn","useForm","form","_slicedToArray","_message$useMessage","useMessage","_message$useMessage2","messageApi","contextHolder","_useState","useState","_useState2","loading","setLoading","weddingDressRef","mutation","useFirestoreCollectionMutation","queryClient","useQueryClient","_useForm","resolver","yupResolver","handleSubmit","reset","_jsxs","_Fragment","layout","initialValues","onFinish","_callee2","_formRef$current","payload","_context2","serviceType","generateSlugUrl","mutate","invalidateQueries","setTimeout","abrupt","sent","open","type","content","duration","resetFields","current","_x","className","label","Input","allowClear","placeholder","InputNumber","style","width","formatter","concat","replace","Button","disabled","isEmpty","htmlType","block","size","Breadcrumb","items","href","title","getStatusColor","pending","active","complete","rejected","canceled","length","getStatusOnline","offline","online","str","_str","_str$normalize$replac","_str2","toLowerCase","regexPassword","isVietnamesePhoneNumber","number","test","formatCurrency","isNil","parseInt","toLocaleString","currency","formatNumber","num","toString","toFixed","canCreate","permissions","key","_permissions$key2","includes","canEdit","_permissions$key3","canDelete","_permissions$key4","canViewItem","item","_permissions$key","canView","last3Digits","phone","chain","toArray","takeRight","join","lastWord","s","trim","split","last","defaultTo"],"sourceRoot":""}