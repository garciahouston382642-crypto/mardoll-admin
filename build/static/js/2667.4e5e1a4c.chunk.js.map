{"version":3,"file":"static/js/2667.4e5e1a4c.chunk.js","mappings":"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","sources":["components/Form/index.tsx","pages/Contract/ContractTypeList/useContractType.tsx","pages/Contract/CreateContractType/CreateContractTypeForm.tsx","pages/Contract/CreateContractType/index.tsx","utils/index.ts"],"sourcesContent":["import React from 'react';\nimport { Form as AntdForm } from 'antd';\nimport type { Control, FieldPath, FieldValues } from 'react-hook-form';\nimport { useController } from 'react-hook-form';\nimport _ from 'lodash'\n\ntype AntdFormItemProps = React.ComponentProps<typeof AntdForm.Item>;\n\nexport type FormItemProps<TFieldValues extends FieldValues = FieldValues> = {\n    children: React.ReactNode;\n    control?: Control<TFieldValues>;\n    name: FieldPath<TFieldValues>;\n} & Omit<AntdFormItemProps, 'name' | 'normalize' | 'rules' | 'validateStatus'>;\n\n// TODO: Support `onBlur` `ref`\n// FIXME: `Touched` does not change in devtool\nexport const FormItem = <TFieldValues extends FieldValues = FieldValues>({\n    children,\n    control,\n    name,\n    help,\n    hasFeedback = false,\n    ...props\n}: FormItemProps<TFieldValues>) => {\n    const { field, fieldState, formState: { errors } } = useController({ name, control });\n    const handleNormalize: AntdFormItemProps['normalize'] = (value) => {\n        field.onChange(value);\n        return value;\n    };\n    return (\n        <AntdForm.Item\n            hasFeedback={hasFeedback}\n            name={name as string}\n            // initialValue={field.value}\n            normalize={handleNormalize}\n            validateStatus={fieldState.invalid ? 'error' : undefined}\n            help={(errors[name]?.message ?? help) as string}\n            {...props}\n        >\n            {children}\n        </AntdForm.Item>\n    );\n};","import { useFirestoreQuery } from \"@react-query-firebase/firestore\";\r\nimport { query, collection } from \"firebase/firestore\";\r\nimport { firestore } from \"../../../lib/firebase\";\r\nimport { ContractType } from \"../../../models/ContractModel\";\r\n\r\nexport function useContractType() {\r\n  const ref = query(collection(firestore, \"contractType\"));\r\n  // Provide the query to the hook\r\n  const queryContractType = useFirestoreQuery([\"contractType\"], ref);\r\n  const snapshot = queryContractType.data;\r\n  let data: any[] = [];\r\n  snapshot?.forEach((docSnapshot) => {\r\n    data.push({ id: docSnapshot.id, ...docSnapshot.data() });\r\n  });\r\n\r\n  const refetch = async () => {\r\n    try {\r\n      await queryContractType.refetch(); // You can use refetch to fetch data again\r\n    } catch (error) {\r\n      console.error(\"Error refetching wedding dress data:\", error);\r\n    }\r\n  };\r\n\r\n  return {\r\n    isError: queryContractType.isError,\r\n    isLoading: queryContractType.isLoading,\r\n    data: data as ContractType[],\r\n    refetch,\r\n  };\r\n}\r\n","import { yupResolver } from \"@hookform/resolvers/yup\";\nimport { useFirestoreCollectionMutation } from \"@react-query-firebase/firestore\";\nimport {\n  Button,\n  Form as FormAntDeisgn,\n  Input,\n  InputNumber,\n  message,\n} from \"antd\";\nimport type { FormInstance } from \"antd/es/form\";\nimport { collection, doc, setDoc } from \"firebase/firestore\";\nimport { isEmpty } from \"lodash\";\nimport { useRef, useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { useQueryClient } from \"react-query\";\nimport * as yup from \"yup\";\nimport { FormItem } from \"../../../components/Form\";\nimport { firestore } from \"../../../lib/firebase\";\nimport { generateSlugUrl } from \"../../../utils\";\nimport { useContractType } from \"../ContractTypeList/useContractType\";\nimport { ContractType } from \"../../../models/ContractModel\";\n\nconst defaultValues = {\n  contractName: \"\",\n  contractPrice: \"\",\n};\n\nconst schema = yup\n  .object({\n    contractName: yup.string().required(\"Vui lòng nhập tên loại hợp đồng\"),\n    contractPrice: yup.string().required(\"Vui lòng nhập giá của loại hợp đồng\"),\n  })\n  .required();\n\nexport default function CreateContractTypeForm() {\n  const formRef = useRef<FormInstance>(null);\n  const [form] = FormAntDeisgn.useForm();\n  const [messageApi, contextHolder] = message.useMessage();\n  const [loading, setLoading] = useState(false);\n  const weddingDressRef = collection(firestore, \"contractType\");\n  const mutation = useFirestoreCollectionMutation(weddingDressRef);\n  const { refetch } = useContractType();\n  const queryClient = useQueryClient();\n\n  const createContractType = async (payload: Omit<ContractType, \"id\">) => {\n    const colRef = collection(firestore, \"contractType\");\n    const ref = doc(colRef); // Firestore tự sinh id\n    const data: ContractType = { ...payload, id: ref.id }; // add id vào payload\n    await setDoc(ref, data);\n    return data; // data giờ có luôn id\n  }\n\n  const {\n    control,\n    handleSubmit,\n    formState: { errors },\n    reset,\n  } = useForm<any>({\n    defaultValues,\n    resolver: yupResolver(schema),\n  });\n\n  return (\n    <>\n      {contextHolder}\n      <FormAntDeisgn\n        form={form}\n        name=\"control-wedding-dress-type-ref\"\n        ref={formRef}\n        layout=\"vertical\"\n        initialValues={defaultValues}\n        onFinish={handleSubmit(async (data) => {\n          setLoading(true);\n          const payload: ContractType = {\n            ...data,\n            contractType: generateSlugUrl(data?.contractName || \"\"),\n          };\n\n          const created = await createContractType(payload); // created.id có sẵn\n          console.log(\"Doc created with id:\", created);\n          queryClient.invalidateQueries({ queryKey: [\"contractType\"] });\n          setTimeout(async () => await refetch(), 300);\n          messageApi.open({\n            type: \"success\",\n            content: \"Tạo tên loại hợp đồng thành công!\",\n            duration: 5,\n          });\n          setLoading(false);\n          form.resetFields();\n          formRef.current?.resetFields();\n          reset();\n        })}\n      >\n        <div className=\"grid grid-cols-1 gap-6\">\n          <FormItem\n            control={control}\n            name=\"contractName\"\n            label=\"Tên loại hợp đồng\"\n          >\n            <Input allowClear placeholder=\"Nhập tên loại hợp đồng\" />\n          </FormItem>\n          <FormItem\n            control={control}\n            name=\"contractPrice\"\n            label=\"Giá của loại hợp đồng\"\n          >\n            <InputNumber\n              style={{ width: \"100%\" }}\n              placeholder=\"Nhập giá của loại hợp đồng\"\n              formatter={(value) =>\n                `${value}`.replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\")\n              }\n            />\n          </FormItem>\n        </div>\n        <Button\n          loading={loading}\n          disabled={!isEmpty(errors)}\n          type=\"primary\"\n          htmlType=\"submit\"\n          block\n          size=\"large\"\n        >\n          Gửi\n        </Button>\n      </FormAntDeisgn>\n    </>\n  );\n}\n","import React from \"react\";\nimport { Breadcrumb } from \"antd\";\nimport CreateContractTypeForm from \"./CreateContractTypeForm\";\n\nconst CreateContractType = () => {\n  return (\n    <div className=\"m-2 p-2 md:p-10 bg-white rounded-3xl\">\n      <div className=\"mb-4\">\n        <Breadcrumb\n          items={[\n            {\n              href: \"/\",\n              title: \"Trang chủ\",\n            },\n            {\n              title: \"Tạo loại hợp đồng\",\n            },\n          ]}\n        />\n      </div>\n      <CreateContractTypeForm />\n    </div>\n  );\n};\nexport default CreateContractType;\n","import { MenuProps } from \"antd\";\r\nimport { chain, isEmpty, isNil } from \"lodash\";\r\n\r\nexport type StatusColorType =\r\n  | \"pending\"\r\n  | \"active\"\r\n  | \"complete\"\r\n  | \"rejected\"\r\n  | \"canceled\";\r\n\r\nexport type StatusOnlineType = \"online\" | \"offline\";\r\n\r\nconst getStatusColor = (color: StatusColorType = \"pending\") => {\r\n  const defaultColor = {\r\n    pending: \"orange\",\r\n    active: \"cyan\",\r\n    complete: \"green\",\r\n    rejected: \"red\",\r\n    canceled: \"red\",\r\n  };\r\n  return defaultColor[color];\r\n};\r\n\r\nconst getStatusOnline = (color: StatusOnlineType = \"offline\") => {\r\n  const defaultColor = {\r\n    offline: \"gray\",\r\n    online: \"green\",\r\n  };\r\n  return defaultColor[color];\r\n};\r\n\r\nfunction generateSlugUrl(str: string) {\r\n  // Remove diacritics\r\n  str = str\r\n    ?.normalize(\"NFD\")\r\n    .replace(/[\\u0300-\\u036f]/g, \"\")\r\n    ?.replace(\"đ\", \"d\");\r\n  // Replace spaces with hyphens and convert to lowercase\r\n  str = str?.replace(/\\s+/g, \"-\").toLowerCase();\r\n  return str;\r\n}\r\n\r\nconst regexPassword =\r\n  /^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$/;\r\n\r\nconst isVietnamesePhoneNumber = (number: string) => {\r\n  return /((^(\\+84|84|0|0084){1})(3|5|7|8|9))+([0-9]{8})$/.test(number);\r\n};\r\n\r\nconst formatCurrency = (number: string) => {\r\n  if (isNil(number) || isEmpty(number)) return \"--\";\r\n  return parseInt(number).toLocaleString(\"vi-VN\", {\r\n    style: \"currency\",\r\n    currency: \"VND\",\r\n  });\r\n};\r\n\r\nconst formatNumber = (num: number) => {\r\n  if (num === 0) return `${num.toString()}`;\r\n  if (num >= 1000000000) {\r\n    return `${(num / 1000000000).toFixed(0)} tỷ`;\r\n  } else if (num >= 1000000) {\r\n    return `${(num / 1000000).toFixed(0)} tr`;\r\n  } else {\r\n    return `${(num / 1000).toFixed(0)} k`;\r\n  }\r\n};\r\n\r\nexport {\r\n  isVietnamesePhoneNumber,\r\n  formatCurrency,\r\n  getStatusColor,\r\n  getStatusOnline,\r\n  regexPassword,\r\n  formatNumber,\r\n  generateSlugUrl,\r\n};\r\n\r\ntype PermissionKey =\r\n  | \"ecommerce\"\r\n  | \"employees\"\r\n  | \"contracts\"\r\n  | \"wedding-dresses\"\r\n  | \"member-management\"\r\n  | \"pricing\"\r\n  | \"page-management\"\r\n  | \"customer-contact\"\r\n  | \"booking-schedule\"\r\n  | \"machine-schedule\";\r\n\r\ntype MenuItem = Required<MenuProps>[\"items\"][number];\r\n\r\nexport const canView = (\r\n  permissions: Partial<Record<PermissionKey, string[]>>,\r\n  key: PermissionKey\r\n) => {\r\n  return permissions?.[key]?.includes(\"view\");\r\n};\r\n\r\nexport const canCreate = (\r\n  permissions: Partial<Record<PermissionKey, string[]>>,\r\n  key: PermissionKey\r\n) => {\r\n  return permissions?.[key]?.includes(\"create\");\r\n};\r\n\r\nexport const canEdit = (\r\n  permissions: Partial<Record<PermissionKey, string[]>>,\r\n  key: PermissionKey\r\n) => {\r\n  return permissions?.[key]?.includes(\"edit\");\r\n};\r\n\r\nexport const canDelete = (\r\n  permissions: Partial<Record<PermissionKey, string[]>>,\r\n  key: PermissionKey\r\n) => {\r\n  return permissions?.[key]?.includes(\"delete\");\r\n};\r\n\r\n// Helper để tránh false/null trong mảng\r\nexport const canViewItem = (\r\n  key: PermissionKey,\r\n  item: MenuItem,\r\n  permissions: Partial<Record<PermissionKey, string[]>>\r\n): MenuItem | null => (canView(permissions, key) ? item : null);\r\n\r\nexport const last3Digits = (phone: string) =>\r\n  chain(phone)\r\n    .replace(/\\D/g, \"\") // bỏ mọi ký tự không phải số\r\n    .toArray() // chuyển thành mảng ký tự\r\n    .takeRight(3) // lấy 3 ký tự cuối\r\n    .join(\"\") // ghép lại thành string\r\n    .value();\r\n\r\nexport const lastWord = (s: string) =>\r\n  chain(s)\r\n    .trim() // bỏ khoảng trắng đầu/cuối\r\n    .split(/\\s+/) // tách theo 1+ khoảng trắng\r\n    .last() // lấy phần tử cuối\r\n    .defaultTo(\"\") // phòng chuỗi rỗng\r\n    .value();\r\n"],"names":["FormItem","_ref","_errors$name$message","_errors$name","children","control","name","help","_ref$hasFeedback","hasFeedback","props","_objectWithoutProperties","_excluded","_useController","useController","field","fieldState","errors","formState","_jsx","AntdForm","Item","_objectSpread","normalize","value","onChange","validateStatus","invalid","undefined","message","useContractType","ref","query","collection","firestore","queryContractType","useFirestoreQuery","snapshot","data","forEach","docSnapshot","push","id","refetch","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_context","prev","next","t0","console","error","stop","apply","arguments","isError","isLoading","defaultValues","contractName","contractPrice","schema","yup","required","CreateContractTypeForm","formRef","useRef","_FormAntDeisgn$useFor","FormAntDeisgn","useForm","form","_slicedToArray","_message$useMessage","useMessage","_message$useMessage2","messageApi","contextHolder","_useState","useState","_useState2","loading","setLoading","weddingDressRef","useFirestoreCollectionMutation","queryClient","useQueryClient","createContractType","payload","colRef","doc","setDoc","abrupt","_x","_useForm","resolver","yupResolver","handleSubmit","reset","_jsxs","_Fragment","layout","initialValues","onFinish","_ref2","_callee3","_formRef$current","created","_context3","contractType","generateSlugUrl","sent","log","invalidateQueries","queryKey","setTimeout","_callee2","_context2","open","type","content","duration","resetFields","current","_x2","className","label","Input","allowClear","placeholder","InputNumber","style","width","formatter","concat","replace","Button","disabled","isEmpty","htmlType","block","size","Breadcrumb","items","href","title","getStatusColor","pending","active","complete","rejected","canceled","length","getStatusOnline","offline","online","str","_str","_str$normalize$replac","_str2","toLowerCase","regexPassword","isVietnamesePhoneNumber","number","test","formatCurrency","isNil","parseInt","toLocaleString","currency","formatNumber","num","toString","toFixed","canCreate","permissions","key","_permissions$key2","includes","canEdit","_permissions$key3","canDelete","_permissions$key4","canViewItem","item","_permissions$key","canView","last3Digits","phone","chain","toArray","takeRight","join","lastWord","s","trim","split","last","defaultTo"],"sourceRoot":""}