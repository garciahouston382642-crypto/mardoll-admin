{"version":3,"file":"static/js/8788.8aed13a8.chunk.js","mappings":"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","sources":["components/Form/index.tsx","pages/Login/LoginForm/index.tsx","pages/Login/index.tsx","utils/index.ts"],"sourcesContent":["import React from 'react';\nimport { Form as AntdForm } from 'antd';\nimport type { Control, FieldPath, FieldValues } from 'react-hook-form';\nimport { useController } from 'react-hook-form';\nimport _ from 'lodash'\n\ntype AntdFormItemProps = React.ComponentProps<typeof AntdForm.Item>;\n\nexport type FormItemProps<TFieldValues extends FieldValues = FieldValues> = {\n    children: React.ReactNode;\n    control?: Control<TFieldValues>;\n    name: FieldPath<TFieldValues>;\n} & Omit<AntdFormItemProps, 'name' | 'normalize' | 'rules' | 'validateStatus'>;\n\n// TODO: Support `onBlur` `ref`\n// FIXME: `Touched` does not change in devtool\nexport const FormItem = <TFieldValues extends FieldValues = FieldValues>({\n    children,\n    control,\n    name,\n    help,\n    hasFeedback = false,\n    ...props\n}: FormItemProps<TFieldValues>) => {\n    const { field, fieldState, formState: { errors } } = useController({ name, control });\n    const handleNormalize: AntdFormItemProps['normalize'] = (value) => {\n        field.onChange(value);\n        return value;\n    };\n    return (\n        <AntdForm.Item\n            hasFeedback={hasFeedback}\n            name={name as string}\n            // initialValue={field.value}\n            normalize={handleNormalize}\n            validateStatus={fieldState.invalid ? 'error' : undefined}\n            help={(errors[name]?.message ?? help) as string}\n            {...props}\n        >\n            {children}\n        </AntdForm.Item>\n    );\n};","import { Button, Checkbox, Form, FormInstance, Input } from \"antd\";\r\nimport React, { useRef, useState } from \"react\";\r\nimport { EyeInvisibleOutlined, EyeTwoTone } from \"@ant-design/icons\";\r\nimport { FormItem } from \"../../../components/Form\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport {\r\n  query,\r\n  collection,\r\n  where,\r\n  limit,\r\n  getDocs,\r\n  doc,\r\n  updateDoc,\r\n} from \"firebase/firestore\";\r\nimport * as yup from \"yup\";\r\nimport { toast } from \"react-toastify\";\r\nimport { yupResolver } from \"@hookform/resolvers/yup\";\r\nimport { regexPassword } from \"../../../utils\";\r\nimport { isEmpty } from \"lodash\";\r\nimport { hash } from \"bcryptjs\";\r\nimport { firestore } from \"../../../lib/firebase\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { useLocalStorage } from \"../../../hooks/useLocalStorage\";\r\nimport { useUser } from \"../../../store/useUser\";\r\n\r\nconst schema = yup\r\n  .object({\r\n    email: yup.string().required(\"Vui lòng nhập email\"),\r\n    password: yup\r\n      .string()\r\n      .min(8, \"Độ dài từ 8-50 kí tự\")\r\n      .max(50, \"Độ dài từ 8-50 kí tự\")\r\n      .matches(\r\n        regexPassword,\r\n        \"Chứa ít nhất một kí tự thường, một kí tự hoa, một kí tự đặc biệt và một số\"\r\n      )\r\n      .required(\"Vui lòng nhập mật khẩu\"),\r\n  })\r\n  .required();\r\n\r\nexport default function LoginForm() {\r\n  const [token, setToken] = useLocalStorage(\"token\", null);\r\n  const [remember, setRemember] = useLocalStorage(\"remember\", false);\r\n  const [formLogin, setFormLogin] = useLocalStorage(\"formLogin\", {\r\n    email: \"\",\r\n    password: \"\",\r\n  });\r\n  const [form] = Form.useForm();\r\n  const [loading, setLoading] = useState(false);\r\n  const formRef = useRef<FormInstance>(null);\r\n  const accountRef = collection(firestore, \"employee\");\r\n  const { setUser } = useUser();\r\n  const navigate = useNavigate();\r\n\r\n  const defaultValues = {\r\n    email: formLogin.email,\r\n    password: formLogin.password,\r\n    remember,\r\n  };\r\n\r\n  const {\r\n    control,\r\n    handleSubmit,\r\n    formState: { errors },\r\n    reset,\r\n  } = useForm<any>({\r\n    defaultValues,\r\n    resolver: yupResolver(schema),\r\n  });\r\n\r\n  return (\r\n    <>\r\n      <Form\r\n        className=\"space-y-4 md:space-y-6\"\r\n        form={form}\r\n        name=\"control-contect-ref\"\r\n        ref={formRef}\r\n        layout=\"vertical\"\r\n        initialValues={defaultValues}\r\n        onFinish={handleSubmit(async (data) => {\r\n          try {\r\n            setLoading(true);\r\n            if (data.remember) {\r\n              setRemember(data.remember);\r\n              setFormLogin({ email: data.email, password: data.password });\r\n            } else {\r\n              setRemember(false);\r\n              setFormLogin({ email: \"\", password: \"\" });\r\n            }\r\n            const accountQuery = query(\r\n              accountRef,\r\n              where(\"email\", \"==\", data.email),\r\n              where(\"password\", \"==\", data.password),\r\n              limit(1)\r\n            );\r\n            const docSnap = await getDocs(accountQuery);\r\n            if (!docSnap.empty) {\r\n              let payload: any = [];\r\n              docSnap.forEach((doc) => {\r\n                payload.push({ id: doc.id, ...doc.data() });\r\n              });\r\n              const passwordHash = await hash(\r\n                `${data.email}-${data.password}`,\r\n                10\r\n              );\r\n              setUser({ ...payload[0], password: null, isUserValid: true });\r\n              const docRef = doc(accountRef, payload[0].id);\r\n              await updateDoc(docRef, { ...payload[0], token: passwordHash });\r\n              setToken(passwordHash);\r\n              form.resetFields();\r\n              formRef.current?.resetFields();\r\n              reset();\r\n              toast.success(\"Đăng nhập thành công !\", {\r\n                position: toast.POSITION.TOP_RIGHT,\r\n              });\r\n              navigate(\"/\");\r\n            } else {\r\n              toast.error(\"Sai email hoặc mật khẩu !\", {\r\n                position: toast.POSITION.TOP_RIGHT,\r\n              });\r\n            }\r\n            setLoading(false);\r\n          } catch (error) {\r\n            console.log(error, \"error firebase\");\r\n          }\r\n        })}\r\n      >\r\n        <FormItem control={control} name=\"email\" label=\"Email\">\r\n          <Input\r\n            allowClear\r\n            className=\"h-[48px]\"\r\n            placeholder=\"Vui lòng nhập email\"\r\n          />\r\n        </FormItem>\r\n        <FormItem control={control} name=\"password\" label=\"Mật khẩu\">\r\n          <Input.Password\r\n            allowClear\r\n            className=\"h-[48px]\"\r\n            type=\"password\"\r\n            iconRender={(visible) =>\r\n              visible ? <EyeTwoTone /> : <EyeInvisibleOutlined />\r\n            }\r\n            placeholder=\"Vui lòng nhập mật khẩu\"\r\n          />\r\n        </FormItem>\r\n        <FormItem control={control} name=\"remember\" valuePropName=\"checked\">\r\n          <Checkbox>Remember me</Checkbox>\r\n        </FormItem>\r\n        <Button\r\n          loading={loading}\r\n          disabled={!isEmpty(errors)}\r\n          type=\"primary\"\r\n          htmlType=\"submit\"\r\n          block\r\n          size=\"large\"\r\n        >\r\n          Đăng nhập\r\n        </Button>\r\n      </Form>\r\n    </>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport LoginForm from \"./LoginForm\";\r\nimport { Alert } from \"antd\";\r\n\r\nexport default function Login() {\r\n  return (\r\n    <section className=\"bg-gray-5 bg-cover bg-[50%] bg-[rgb(55_65_81_/_0.6)] bg-blend-multiply bg-[url(https://flowbite.s3.amazonaws.com/blocks/marketing-ui/authentication/background.jpg)]\">\r\n      <div className=\"flex flex-col items-center justify-center px-6 py-8 mx-auto lg:py-0 h-screen\">\r\n        <a\r\n          href=\"#\"\r\n          className=\"flex items-center mb-6 text-2xl font-semibold text-white\"\r\n        >\r\n          <img\r\n            className=\"w-8 h-8 mr-2\"\r\n            src=\"/marrdoll_studio_logo.jpeg\"\r\n            alt=\"logo\"\r\n          />\r\n          Mardoll Studio\r\n        </a>\r\n        <div className=\"w-full bg-white rounded-lg shadow dark:border md:mt-0 sm:max-w-md xl:p-0\">\r\n          <div className=\"p-6 space-y-4 md:space-y-6 sm:p-8\">\r\n            <h1 className=\"text-xl font-bold leading-tight tracking-tight text-gray-900 md:text-2xl\">\r\n              Đăng nhập vào tài khoản của bạn\r\n            </h1>\r\n            <LoginForm />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n","import { MenuProps } from \"antd\";\r\nimport { chain, isEmpty, isNil } from \"lodash\";\r\n\r\nexport type StatusColorType =\r\n  | \"pending\"\r\n  | \"active\"\r\n  | \"complete\"\r\n  | \"rejected\"\r\n  | \"canceled\";\r\n\r\nexport type StatusOnlineType = \"online\" | \"offline\";\r\n\r\nconst getStatusColor = (color: StatusColorType = \"pending\") => {\r\n  const defaultColor = {\r\n    pending: \"orange\",\r\n    active: \"cyan\",\r\n    complete: \"green\",\r\n    rejected: \"red\",\r\n    canceled: \"red\",\r\n  };\r\n  return defaultColor[color];\r\n};\r\n\r\nconst getStatusOnline = (color: StatusOnlineType = \"offline\") => {\r\n  const defaultColor = {\r\n    offline: \"gray\",\r\n    online: \"green\",\r\n  };\r\n  return defaultColor[color];\r\n};\r\n\r\nfunction generateSlugUrl(str: string) {\r\n  // Remove diacritics\r\n  str = str\r\n    ?.normalize(\"NFD\")\r\n    .replace(/[\\u0300-\\u036f]/g, \"\")\r\n    ?.replace(\"đ\", \"d\");\r\n  // Replace spaces with hyphens and convert to lowercase\r\n  str = str?.replace(/\\s+/g, \"-\").toLowerCase();\r\n  return str;\r\n}\r\n\r\nconst regexPassword =\r\n  /^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$/;\r\n\r\nconst isVietnamesePhoneNumber = (number: string) => {\r\n  return /((^(\\+84|84|0|0084){1})(3|5|7|8|9))+([0-9]{8})$/.test(number);\r\n};\r\n\r\nconst formatCurrency = (number: string) => {\r\n  if (isNil(number) || isEmpty(number)) return \"--\";\r\n  return parseInt(number).toLocaleString(\"vi-VN\", {\r\n    style: \"currency\",\r\n    currency: \"VND\",\r\n  });\r\n};\r\n\r\nconst formatNumber = (num: number) => {\r\n  if (num === 0) return `${num.toString()}`;\r\n  if (num >= 1000000000) {\r\n    return `${(num / 1000000000).toFixed(0)} tỷ`;\r\n  } else if (num >= 1000000) {\r\n    return `${(num / 1000000).toFixed(0)} tr`;\r\n  } else {\r\n    return `${(num / 1000).toFixed(0)} k`;\r\n  }\r\n};\r\n\r\nexport {\r\n  isVietnamesePhoneNumber,\r\n  formatCurrency,\r\n  getStatusColor,\r\n  getStatusOnline,\r\n  regexPassword,\r\n  formatNumber,\r\n  generateSlugUrl,\r\n};\r\n\r\ntype PermissionKey =\r\n  | \"ecommerce\"\r\n  | \"employees\"\r\n  | \"contracts\"\r\n  | \"wedding-dresses\"\r\n  | \"member-management\"\r\n  | \"pricing\"\r\n  | \"page-management\"\r\n  | \"customer-contact\"\r\n  | \"booking-schedule\"\r\n  | \"machine-schedule\";\r\n\r\ntype MenuItem = Required<MenuProps>[\"items\"][number];\r\n\r\nexport const canView = (\r\n  permissions: Partial<Record<PermissionKey, string[]>>,\r\n  key: PermissionKey\r\n) => {\r\n  return permissions?.[key]?.includes(\"view\");\r\n};\r\n\r\nexport const canCreate = (\r\n  permissions: Partial<Record<PermissionKey, string[]>>,\r\n  key: PermissionKey\r\n) => {\r\n  return permissions?.[key]?.includes(\"create\");\r\n};\r\n\r\nexport const canEdit = (\r\n  permissions: Partial<Record<PermissionKey, string[]>>,\r\n  key: PermissionKey\r\n) => {\r\n  return permissions?.[key]?.includes(\"edit\");\r\n};\r\n\r\nexport const canDelete = (\r\n  permissions: Partial<Record<PermissionKey, string[]>>,\r\n  key: PermissionKey\r\n) => {\r\n  return permissions?.[key]?.includes(\"delete\");\r\n};\r\n\r\n// Helper để tránh false/null trong mảng\r\nexport const canViewItem = (\r\n  key: PermissionKey,\r\n  item: MenuItem,\r\n  permissions: Partial<Record<PermissionKey, string[]>>\r\n): MenuItem | null => (canView(permissions, key) ? item : null);\r\n\r\nexport const last3Digits = (phone: string) =>\r\n  chain(phone)\r\n    .replace(/\\D/g, \"\") // bỏ mọi ký tự không phải số\r\n    .toArray() // chuyển thành mảng ký tự\r\n    .takeRight(3) // lấy 3 ký tự cuối\r\n    .join(\"\") // ghép lại thành string\r\n    .value();\r\n\r\nexport const lastWord = (s: string) =>\r\n  chain(s)\r\n    .trim() // bỏ khoảng trắng đầu/cuối\r\n    .split(/\\s+/) // tách theo 1+ khoảng trắng\r\n    .last() // lấy phần tử cuối\r\n    .defaultTo(\"\") // phòng chuỗi rỗng\r\n    .value();\r\n"],"names":["FormItem","_ref","_errors$name$message","_errors$name","children","control","name","help","_ref$hasFeedback","hasFeedback","props","_objectWithoutProperties","_excluded","_useController","useController","field","fieldState","errors","formState","_jsx","AntdForm","Item","_objectSpread","normalize","value","onChange","validateStatus","invalid","undefined","message","schema","yup","email","required","password","min","max","matches","regexPassword","LoginForm","_useLocalStorage","useLocalStorage","_useLocalStorage2","_slicedToArray","setToken","_useLocalStorage3","_useLocalStorage4","remember","setRemember","_useLocalStorage5","_useLocalStorage6","formLogin","setFormLogin","_Form$useForm","Form","useForm","form","_useState","useState","_useState2","loading","setLoading","formRef","useRef","accountRef","collection","firestore","setUser","useUser","navigate","useNavigate","defaultValues","_useForm","resolver","yupResolver","handleSubmit","reset","_Fragment","_jsxs","className","ref","layout","initialValues","onFinish","_asyncToGenerator","_regeneratorRuntime","mark","_callee","data","accountQuery","docSnap","_formRef$current","payload","passwordHash","docRef","wrap","_context","prev","next","query","where","limit","getDocs","sent","empty","forEach","doc","push","id","hash","concat","isUserValid","updateDoc","token","resetFields","current","toast","success","position","POSITION","TOP_RIGHT","error","t0","console","log","stop","_x","apply","arguments","label","Input","allowClear","placeholder","Password","type","iconRender","visible","EyeTwoTone","EyeInvisibleOutlined","valuePropName","Checkbox","Button","disabled","isEmpty","htmlType","block","size","Login","href","src","alt","getStatusColor","pending","active","complete","rejected","canceled","length","getStatusOnline","offline","online","generateSlugUrl","str","_str","_str$normalize$replac","_str2","replace","toLowerCase","isVietnamesePhoneNumber","number","test","formatCurrency","isNil","parseInt","toLocaleString","style","currency","formatNumber","num","toString","toFixed","canCreate","permissions","key","_permissions$key2","includes","canEdit","_permissions$key3","canDelete","_permissions$key4","canViewItem","item","_permissions$key","canView","last3Digits","phone","chain","toArray","takeRight","join","lastWord","s","trim","split","last","defaultTo"],"sourceRoot":""}