"use strict";(self.webpackChunkmardoll_admin=self.webpackChunkmardoll_admin||[]).push([[2263],{10049:function(e,n,r){var t=r(1413),o=r(44925),c=r(93296),i=r(41932),a=r(2641),l=(r(72791),r(80184)),u=["children","override"],s=c.Z.useToken;n.Z=function(e){var n=e.children,r=e.override,c=(0,o.Z)(e,u),d=s().token,f=(null===d||void 0===d?void 0:d[r])||r,h={token:(0,t.Z)((0,t.Z)({},d),{},{colorPrimary:f,colorPrimaryHover:f,colorPrimaryBorderHover:f,colorPrimaryTextHover:f})};return(0,l.jsx)(i.ZP,{theme:h,children:(0,l.jsx)(a.ZP,(0,t.Z)((0,t.Z)({},c),{},{children:n}))})}},47701:function(e,n,r){r.d(n,{x:function(){return u}});var t=r(1413),o=r(44925),c=(r(72791),r(93070)),i=r(61134),a=r(80184),l=["children","control","name","help","hasFeedback"],u=function(e){var n,r,u=e.children,s=e.control,d=e.name,f=e.help,h=e.hasFeedback,p=void 0!==h&&h,v=(0,o.Z)(e,l),m=(0,i.bc)({name:d,control:s}),x=m.field,g=m.fieldState,Z=m.formState.errors;return(0,a.jsx)(c.Z.Item,(0,t.Z)((0,t.Z)({hasFeedback:p,name:d,normalize:function(e){return x.onChange(e),e},validateStatus:g.invalid?"error":void 0,help:null!==(n=null===(r=Z[d])||void 0===r?void 0:r.message)&&void 0!==n?n:f},v),{},{children:u}))}},2263:function(e,n,r){r.r(n),r.d(n,{default:function(){return J}});var t=r(1413),o=r(74165),c=r(15861),i=r(29439),a=r(11730),l=r(28624),u=r(86005),s=r(31773),d=r(2641),f=r(61431),h=r(91082),p=r(10183),v=r(1630),m=r(56207),x=r(9773),g=r(12481),Z=r(72791),y=r(96263),j=r.n(y),k=r(56355),w=r(16856),C=r(91933),T=r(10049),P=r(54174),b=r(61758),N=r(28248),S=r(25850),F=r(44695),D=r(93070),z=r(4206),V=r(98597),E=r(763),I=r(61134),L=r(8007),R=r(47701),Q=r(80184),G=L.Ry({contractName:L.Z_().required("Vui l\xf2ng nh\u1eadp t\xean t\xean lo\u1ea1i h\u1ee3p \u0111\u1ed3ng"),contractPrice:L.Z_().required("Vui l\xf2ng nh\u1eadp gi\xe1 c\u1ee7a lo\u1ea1i h\u1ee3p \u0111\u1ed3ng")}).required();function H(e){var n=e.defaultValues,r=e.handleCancel,a=e.refetch,l=(0,Z.useRef)(null),s=D.Z.useForm(),f=(0,i.Z)(s,1)[0],h=z.ZP.useMessage(),p=(0,i.Z)(h,2),v=p[0],m=p[1],x=(0,Z.useState)(!1),y=(0,i.Z)(x,2),j=y[0],k=y[1],w=(0,g.hJ)(P.R,"contractType"),T=(0,C.useQueryClient)(),b=(0,I.cI)({mode:"onChange",defaultValues:n,resolver:(0,F.X)(G)}),N=b.control,L=b.handleSubmit,H=b.formState.errors,J=b.reset;b.setValue,b.getValues;return(0,Z.useEffect)((function(){f.setFieldsValue({id:null===n||void 0===n?void 0:n.id,contractName:n.contractName,contractPrice:n.contractPrice,contractType:n.contractType})}),[n,f]),(0,Q.jsxs)(Q.Fragment,{children:[m,(0,Q.jsxs)(D.Z,{form:f,name:"control-contract-edit-ref",ref:l,layout:"vertical",initialValues:n,onFinish:L(function(){var e=(0,c.Z)((0,o.Z)().mark((function e(i){var u,s,d;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k(!0),s=(0,t.Z)((0,t.Z)({},i),{},{contractType:(0,S.$5)(null===i||void 0===i?void 0:i.contractName)}),console.log("payload",s),d=(0,g.JU)(w,n.id),e.next=6,(0,g.r7)(d,s);case 6:T.invalidateQueries("contractType"),setTimeout((0,c.Z)((0,o.Z)().mark((function e(){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),300),v.open({type:"success",content:"C\u1eadp nh\u1eadp lo\u1ea1i h\u1ee3p \u0111\u1ed3ng th\xe0nh c\xf4ng!",duration:5}),k(!1),null===r||void 0===r||r(),f.resetFields(),null===(u=l.current)||void 0===u||u.resetFields(),J();case 14:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),children:[(0,Q.jsxs)("div",{className:"grid grid-cols-1 xl:grid-cols-2 xl:gap-6",children:[(0,Q.jsx)(R.x,{control:N,name:"contractName",label:"T\xean lo\u1ea1i h\u1ee3p \u0111\u1ed3ng",children:(0,Q.jsx)(u.Z,{allowClear:!0,placeholder:"Nh\u1eadp t\xean lo\u1ea1i h\u1ee3p \u0111\u1ed3ng"})}),(0,Q.jsx)(R.x,{control:N,name:"contractPrice",label:"Gi\xe1 c\u1ee7a lo\u1ea1i h\u1ee3p \u0111\u1ed3ng",children:(0,Q.jsx)(V.Z,{style:{width:"100%"},placeholder:"Nh\u1eadp gi\xe1 h\u1ee3p \u0111\u1ed3ng",formatter:function(e){return"".concat(e).replace(/\B(?=(\d{3})+(?!\d))/g,",")}})})]}),(0,Q.jsx)(d.ZP,{loading:j,disabled:!(0,E.isEmpty)(H),type:"primary",htmlType:"submit",block:!0,size:"large",children:"G\u1eedi"})]})]})}var J=function(){var e=(0,Z.useState)(""),n=(0,i.Z)(e,2),r=n[0],y=n[1],F=(0,Z.useState)(""),D=(0,i.Z)(F,2),z=D[0],V=D[1],E=(0,Z.useRef)(null),I=(0,C.useQueryClient)(),L=(0,N.L)(),R=L.data,G=L.isLoading,J=L.refetch,O=(0,g.hJ)(P.R,"contractType"),$=(0,Z.useState)(!1),_=(0,i.Z)($,2),B=_[0],K=_[1],X=(0,Z.useState)({contractName:"",contractPrice:"",contractType:"",id:""}),q=(0,i.Z)(X,2),A=q[0],M=q[1],U=function(){K(!1)},W=function(e,n,r){n(),y(e[0]),V(r)},Y=function(e){return(0,c.Z)((0,o.Z)().mark((function n(){var r;return(0,o.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=(0,g.JU)(O,null===e||void 0===e?void 0:e.id),n.next=3,(0,g.oe)(r);case 3:I.invalidateQueries("contractType"),setTimeout((0,c.Z)((0,o.Z)().mark((function e(){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),300);case 5:case"end":return n.stop()}}),n)})))},ee=function(e){return function(){M((0,t.Z)({},e)),K(!0)}},ne=[{title:"M\xe3 lo\u1ea1i h\u1ee3p \u0111\u1ed3ng",dataIndex:"contractType",key:"contractType",sorter:function(e,n){return e.contractType.localeCompare(n.contractType)},sortDirections:["descend","ascend"]},(0,t.Z)({title:"T\xean lo\u1ea1i h\u1ee3p \u0111\u1ed3ng",dataIndex:"contractName",key:"contractName",sorter:function(e,n){return e.contractName.localeCompare(n.contractName)},sortDirections:["descend","ascend"]},function(e){return{filterDropdown:function(n){var r=n.setSelectedKeys,t=n.selectedKeys,o=n.confirm,c=n.clearFilters,i=n.close;return(0,Q.jsxs)("div",{style:{padding:8},onKeyDown:function(e){return e.stopPropagation()},children:[(0,Q.jsx)(u.Z,{ref:E,placeholder:"Search ".concat(e),value:t[0],onChange:function(e){return r(e.target.value?[e.target.value]:[])},onPressEnter:function(){return W(t,o,e)},style:{marginBottom:8,display:"block"}}),(0,Q.jsxs)(s.Z,{children:[(0,Q.jsx)(d.ZP,{type:"primary",onClick:function(){return W(t,o,e)},icon:(0,Q.jsx)(a.Z,{}),size:"small",style:{width:90},children:"Search"}),(0,Q.jsx)(d.ZP,{onClick:function(){return c&&function(e){e(),y("")}(c)},size:"small",style:{width:90},children:"Reset"}),(0,Q.jsx)(d.ZP,{type:"link",size:"small",onClick:function(){o({closeDropdown:!1}),y(t[0]),V(e)},children:"Filter"}),(0,Q.jsx)(d.ZP,{type:"link",size:"small",onClick:function(){i()},children:"Close"})]})]})},filterIcon:function(e){return(0,Q.jsx)(a.Z,{style:{color:e?"#1677ff":void 0}})},onFilter:function(n,r){return"".concat((null===r||void 0===r?void 0:r[e])||"").toString().toLowerCase().includes(n.toLowerCase())},onFilterDropdownOpenChange:function(e){e&&setTimeout((function(){var e;return null===(e=E.current)||void 0===e?void 0:e.select()}),100)},render:function(n,t){return(0,Q.jsx)(Q.Fragment,{children:z===e?(0,Q.jsx)(j(),{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[r],autoEscape:!0,textToHighlight:n?n.toString():""}):n})}}}("contractName")),{title:"Gi\xe1 lo\u1ea1i h\u1ee3p \u0111\u1ed3ng",dataIndex:"contractPrice",key:"contractPrice",sorter:function(e,n){return e.contractPrice.localeCompare(n.contractPrice)},sortDirections:["descend","ascend"],render:function(e){return(0,Q.jsx)("p",{children:(0,S.xG)(e)})}},{title:"Ch\u1ec9nh s\u1eeda",dataIndex:"",key:"x",render:function(e,n){return(0,Q.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Q.jsx)(f.Z,{title:"Ch\u1ec9nh s\u1eeda",children:(0,Q.jsx)(T.Z,{override:b.O.primary,type:"primary",size:"small",icon:(0,Q.jsx)(k.fmQ,{}),onClick:ee(n)})}),(0,Q.jsx)(f.Z,{title:"Xo\xe1",children:(0,Q.jsx)(h.Z,{title:"X\xf3a lo\u1ea1i h\u1ee3p \u0111\u1ed3ng",description:"B\u1ea1n c\xf3 ch\u1eafc l\xe0 mu\u1ed1n x\xf3a lo\u1ea1i h\u1ee3p \u0111\u1ed3ng?",icon:(0,Q.jsx)(l.Z,{style:{color:b.O.red2}}),onConfirm:Y(n),children:(0,Q.jsx)(T.Z,{override:b.O.red2,type:"primary",size:"small",icon:(0,Q.jsx)(w.FH3,{})})})})]})}}];return G?(0,Q.jsxs)("div",{className:"m-2 p-2 md:p-10 bg-white rounded-3xl",children:[(0,Q.jsx)(p.Z,{active:!0}),(0,Q.jsx)(p.Z,{active:!0})]}):(0,Q.jsxs)("div",{className:"m-2 p-2 md:p-10 bg-white rounded-3xl",children:[(0,Q.jsx)("div",{className:"mb-4",children:(0,Q.jsx)(v.Z,{items:[{href:"/",title:"Trang ch\u1ee7"},{title:"Danh s\xe1ch lo\u1ea1i h\u1ee3p \u0111\u1ed3ng"}]})}),(0,Q.jsx)(m.Z,{rowKey:function(e){return e.id},columns:ne,dataSource:R,bordered:!0,scroll:{x:800}}),(0,Q.jsx)(x.Z,{title:"C\u1eadp nh\u1eadt lo\u1ea1i h\u1ee3p \u0111\u1ed3ng",open:B,footer:null,onCancel:U,destroyOnClose:!0,bodyStyle:{overflowY:"scroll",height:"calc(100vh - 250px)"},children:(0,Q.jsx)(H,{defaultValues:A,handleCancel:U,refetch:J})})]})}},28248:function(e,n,r){r.d(n,{L:function(){return u}});var t=r(74165),o=r(15861),c=r(1413),i=r(20028),a=r(12481),l=r(54174);function u(){var e=(0,a.IO)((0,a.hJ)(l.R,"contractType")),n=(0,i.sQ)(["contractType"],e),r=n.data,u=[];null===r||void 0===r||r.forEach((function(e){u.push((0,c.Z)({id:e.id},e.data()))}));var s=function(){var e=(0,o.Z)((0,t.Z)().mark((function e(){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.refetch();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error("Error refetching wedding dress data:",e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}();return{isError:n.isError,isLoading:n.isLoading,data:u,refetch:s}}},25850:function(e,n,r){r.d(n,{$5:function(){return i},Dw:function(){return c},Gw:function(){return a},Hl:function(){return l},J5:function(){return f},Q_:function(){return m},Rf:function(){return v},cX:function(){return p},k7:function(){return h},uf:function(){return s},xG:function(){return u},yA:function(){return d},z2:function(){return o}});var t=r(763),o=function(){return{pending:"orange",active:"cyan",complete:"green",rejected:"red",canceled:"red"}[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"pending"]},c=function(){return{offline:"gray",online:"green"}[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"offline"]};function i(e){var n,r,t;return e=null===(t=e=null===(n=e)||void 0===n||null===(r=n.normalize("NFD").replace(/[\u0300-\u036f]/g,""))||void 0===r?void 0:r.replace("\u0111","d"))||void 0===t?void 0:t.replace(/\s+/g,"-").toLowerCase()}var a=/^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$/,l=function(e){return/((^(\+84|84|0|0084){1})(3|5|7|8|9))+([0-9]{8})$/.test(e)},u=function(e){return(0,t.isNil)(e)||(0,t.isEmpty)(e)?"--":parseInt(e).toLocaleString("vi-VN",{style:"currency",currency:"VND"})},s=function(e){return 0===e?"".concat(e.toString()):e>=1e9?"".concat((e/1e9).toFixed(0)," t\u1ef7"):e>=1e6?"".concat((e/1e6).toFixed(0)," tr"):"".concat((e/1e3).toFixed(0)," k")},d=function(e,n){var r;return null===e||void 0===e||null===(r=e[n])||void 0===r?void 0:r.includes("create")},f=function(e,n){var r;return null===e||void 0===e||null===(r=e[n])||void 0===r?void 0:r.includes("edit")},h=function(e,n){var r;return null===e||void 0===e||null===(r=e[n])||void 0===r?void 0:r.includes("delete")},p=function(e,n,r){return function(e,n){var r;return null===e||void 0===e||null===(r=e[n])||void 0===r?void 0:r.includes("view")}(r,e)?n:null},v=function(e){return(0,t.chain)(e).replace(/\D/g,"").toArray().takeRight(3).join("").value()},m=function(e){return(0,t.chain)(e).trim().split(/\s+/).last().defaultTo("").value()}}}]);
//# sourceMappingURL=2263.ff9a54a3.chunk.js.map