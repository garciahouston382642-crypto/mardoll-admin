{"version":3,"file":"static/js/4511.c1767879.chunk.js","mappings":"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","sources":["components/Editor/Parser.ts","components/Editor/index.tsx","pages/Contract/ContractTypeList/useContractType.tsx","pages/Contract/CreateContract/CreateContractForm.tsx","pages/Contract/CreateContract/index.tsx","pages/Contract/ServicesArisingList/useServicesArising.tsx"],"sourcesContent":["import { remark } from \"remark\";\r\nimport remarkHtml from \"remark-html\";\r\n\r\nimport rehypeParse from \"rehype-parse\";\r\nimport rehypeRemark from \"rehype-remark\";\r\nimport remarkStringify from \"remark-stringify\";\r\n\r\nexport function markdownToHtml(markdownText: string) {\r\n  const file = remark().use(remarkHtml).processSync(markdownText);\r\n  return String(file);\r\n}\r\n\r\nexport function htmlToMarkdown(htmlText: string) {\r\n  const file = remark()\r\n    .use(rehypeParse, { emitParseErrors: true, duplicateAttribute: false })\r\n    .use(rehypeRemark)\r\n    .use(remarkStringify)\r\n    .processSync(htmlText);\r\n\r\n  return String(file);\r\n}\r\n","import { useEffect, useRef, useState } from \"react\";\r\nimport ReactQuill, { Quill } from \"react-quill\";\r\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\r\n// @ts-ignore\r\nimport * as Emoji from \"quill-emoji\";\r\nimport { markdownToHtml, htmlToMarkdown } from \"./Parser\";\r\n\r\nimport \"react-quill/dist/quill.snow.css\";\r\nimport \"quill-emoji/dist/quill-emoji.css\";\r\n\r\nQuill.register(\"modules/emoji\", Emoji);\r\n\r\nexport interface EditorContentChanged {\r\n  html: string;\r\n  markdown: string;\r\n}\r\n\r\nexport interface EditorProps {\r\n  value?: string;\r\n  onChange?: (changes: EditorContentChanged) => void;\r\n}\r\n\r\nconst TOOLBAR_OPTIONS = [\r\n  [{ header: [1, 2, 3, false] }],\r\n  [\"bold\", \"italic\", \"underline\", \"strike\", \"blockquote\", \"link\"],\r\n  [{ list: \"ordered\" }, { list: \"bullet\" }],\r\n  [{ indent: \"-1\" }, { indent: \"+1\" }],\r\n  [\"emoji\"],\r\n  [\"clean\"],\r\n];\r\n\r\nexport default function Editor(props: EditorProps) {\r\n  const [value, setValue] = useState<string>(\r\n    (props?.value?.[0] as any)?.html || (props?.value as any)?.html\r\n  );\r\n  const reactQuillRef = useRef<ReactQuill>(null);\r\n\r\n  const onChange = (content: string) => {\r\n    setValue(content);\r\n    if (props.onChange) {\r\n      props.onChange({\r\n        html: content,\r\n        markdown: htmlToMarkdown(content),\r\n      });\r\n    }\r\n  };\r\n  useEffect(\r\n    () =>\r\n      setValue((props?.value?.[0] as any)?.html || (props?.value as any)?.html),\r\n    [props?.value]\r\n  );\r\n\r\n  return (\r\n    <ReactQuill\r\n      ref={reactQuillRef}\r\n      theme=\"snow\"\r\n      placeholder=\"Nhập chú thích của hợp đồng\"\r\n      modules={{\r\n        toolbar: {\r\n          container: TOOLBAR_OPTIONS,\r\n        },\r\n        \"emoji-toolbar\": true,\r\n        \"emoji-textarea\": false,\r\n        \"emoji-shortname\": true,\r\n      }}\r\n      className=\"h-[360px]\"\r\n      value={value}\r\n      onChange={onChange}\r\n    />\r\n  );\r\n}\r\n","import { useFirestoreQuery } from \"@react-query-firebase/firestore\";\r\nimport { query, collection } from \"firebase/firestore\";\r\nimport { firestore } from \"../../../lib/firebase\";\r\nimport { ContractType } from \"../../../models/ContractModel\";\r\n\r\nexport function useContractType() {\r\n  const ref = query(collection(firestore, \"contractType\"));\r\n  // Provide the query to the hook\r\n  const queryContractType = useFirestoreQuery([\"contractType\"], ref);\r\n  const snapshot = queryContractType.data;\r\n  let data: any[] = [];\r\n  snapshot?.forEach((docSnapshot) => {\r\n    data.push({ id: docSnapshot.id, ...docSnapshot.data() });\r\n  });\r\n\r\n  const refetch = async () => {\r\n    try {\r\n      await queryContractType.refetch(); // You can use refetch to fetch data again\r\n    } catch (error) {\r\n      console.error(\"Error refetching wedding dress data:\", error);\r\n    }\r\n  };\r\n\r\n  return {\r\n    isError: queryContractType.isError,\r\n    isLoading: queryContractType.isLoading,\r\n    data: data as ContractType[],\r\n    refetch,\r\n  };\r\n}\r\n","import React, { useEffect, useMemo, useRef, useState } from \"react\";\nimport {\n  Button,\n  Form as FormAntDeisgn,\n  Input,\n  message,\n  Select,\n  Upload,\n  InputNumber,\n  Switch,\n  Space,\n  Typography,\n  Badge,\n  DatePicker,\n  Card,\n  Checkbox,\n  Popconfirm,\n  Radio,\n} from \"antd\";\nimport type { FormInstance } from \"antd/es/form\";\nimport { useForm, useWatch } from \"react-hook-form\";\nimport { yupResolver } from \"@hookform/resolvers/yup\";\nimport * as yup from \"yup\";\nimport type { SelectProps, UploadProps } from \"antd\";\nimport {\n  InboxOutlined,\n  EyeInvisibleOutlined,\n  EyeTwoTone,\n} from \"@ant-design/icons\";\nimport { capitalize, filter, find, isEmpty, map, reduce, remove } from \"lodash\";\nimport { FormItem } from \"../../../components/Form\";\nimport { RcFile } from \"antd/es/upload\";\nimport { firestore, storage } from \"../../../lib/firebase\";\nimport { ref, uploadBytesResumable, getDownloadURL } from \"firebase/storage\";\nimport { collection } from \"firebase/firestore\";\nimport { useFirestoreCollectionMutation } from \"@react-query-firebase/firestore\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport {\n  StatusColorType,\n  formatCurrency,\n  getStatusColor,\n  isVietnamesePhoneNumber,\n  regexPassword,\n} from \"../../../utils\";\nimport dayjs, { Dayjs } from \"dayjs\";\nimport { ContractModel } from \"../../../models\";\nimport { useContract } from \"../useContract\";\nimport { useQueryClient } from \"react-query\";\nimport Editor from \"../../../components/Editor\";\nimport Viewer from \"../../../components/Editor/Viewer\";\nimport { useContractType } from \"../ContractTypeList/useContractType\";\nimport { useServicesArising } from \"../ServicesArisingList/useServicesArising\";\nimport { cn } from \"../../../lib/cs\";\nimport { useUser } from \"../../../store/useUser\";\nimport { PrintContract } from \"../../../components/ComponentToPrint/PrintContract\";\nimport { generateSlugUrl } from \"../../../utils\";\n\nconst { Dragger } = Upload;\n\nconst currentDate = dayjs();\nconst dateFormat = \"DD-MM-YYYY\";\n\nconst defaultValues = {\n  contractType: undefined,\n  userName: \"\",\n  status: \"\",\n  phone: \"\",\n  address: \"\",\n  discount: \"\",\n  firstCheckDeposit: false,\n  servicesArisingPrice: \"\",\n  firstDepositPrice: \"\",\n  firstDepositPriceDate: \"\",\n  secondCheckDeposit: false,\n  secondDepositPrice: \"\",\n  secondDepositPriceDate: \"\",\n  createDate: currentDate as Dayjs,\n  shootingDate: currentDate as Dayjs,\n  dueDate: dayjs(currentDate.add(3, \"day\")),\n  contractPrice: \"\",\n  contractImage: [],\n  notes: \"\",\n  customerType: \"offline\" as \"online\" | \"offline\", // mặc định\n};\n\nconst statusList = [\"active\", \"complete\"];\n\nconst schema = yup\n  .object({\n    // contractType: yup.mixed().required(\"Vui lòng chọn loại hợp đồng\"),\n    status: yup.string().required(\"Vui lòng chọn trạng thái hợp đồng\"),\n    phone: yup\n      .string()\n      .required(\"Vui lòng nhập số điện thoại của bạn!\")\n      .test(\"phone\", \"Số điên thoại sai định dạng\", (str, context) => {\n        return isVietnamesePhoneNumber(str);\n      }),\n    createDate: yup.date().required(\"Chọn ngày ký hợp đồng\"),\n    shootingDate: yup.date(),\n    // .required(\"Chọn ngày ký hợp đồng\"),\n    dueDate: yup.date(),\n    // .min(\n    //   currentDate,\n    //   \"Ngày hoàn thành hợp đồng lớn hơn hoặc bằng ngày hiện tại!\"\n    // ),\n    address: yup.string().required(\"Vui lòng địa chỉ\"),\n    customerType: yup\n      .mixed<\"online\" | \"offline\">()\n      .oneOf([\"online\", \"offline\"])\n      .required(\"Vui lòng chọn loại khách hàng\"),\n    // contractImage: yup\n    //   .mixed()\n    //   .required(\"Vui lòng upload file hình ảnh\")\n    //   .test(\"fileEmpty\", \"Vui lòng upload file hình ảnh\", (value: any) => {\n    //     if (value?.length === 0) return false;\n    //     return true;\n    //   }),\n  })\n  .required();\n\nexport default function CreateContractForm() {\n  const formRef = useRef<FormInstance>(null);\n  const [form] = FormAntDeisgn.useForm();\n  const [messageApi, contextHolder] = message.useMessage();\n  const [loading, setLoading] = useState(false);\n  const contractRef = collection(firestore, \"contract\");\n  const [fileList, setFileList] = useState<any[]>([]);\n  const mutation = useFirestoreCollectionMutation(contractRef);\n  const [uploadedImageUrls, setUploadedImageUrls] = useState<any[]>([]);\n  const [listItems, setListItems] = useState<any>([]);\n  const [listContractItems, setListContractItems] = useState<any>([]);\n  const [selectedItem, setSelectedItem] = useState<any>(null);\n  const [quantity, setQuantity] = useState(1);\n  const [discountArising, setDiscountArising] = useState(0);\n  const [showQuantityInput, setShowQuantityInput] = useState(false);\n  const [selectedContractItem, setSelectedContractItem] = useState<any>(null);\n  const [quantityContract, setQuantityContract] = useState(1);\n  const [discountContract, setDiscountContract] = useState(0);\n  const [showQuantityContractInput, setShowQuantityContractInput] =\n    useState(false);\n  const { refetch } = useContract();\n  const { data: contractTypeData } = useContractType();\n  const { data: servicesArisingData } = useServicesArising();\n  const queryClient = useQueryClient();\n  const uuId = uuidv4();\n  const { user } = useUser();\n  const isAdmin = user?.permission === \"admin\";\n  const {\n    control,\n    handleSubmit,\n    formState: { errors },\n    reset,\n    setValue,\n    getValues,\n  } = useForm<any>({\n    defaultValues,\n    resolver: yupResolver(schema),\n  });\n\n  const handleUpload = async (info: any) => {\n    if (info.file.status === \"done\") {\n      setFileList((prev) => [\n        ...prev,\n        {\n          id: uuidv4(),\n          url: info.file.url,\n          name: info.file.name,\n          alt: info.file.name.substr(0, info.file.name.lastIndexOf(\".\")),\n        },\n      ]);\n      setValue(\"contractImage\", [\n        ...fileList,\n        {\n          id: uuidv4(),\n          url: info.file.url,\n          name: info.file.name,\n          alt: info.file.name.substr(0, info.file.name.lastIndexOf(\".\")),\n        },\n      ]);\n      message.success(`${info.file.name} file uploaded successfully`);\n    } else if (info.file.status === \"error\") {\n      message.error(`${info.file.name} file upload failed.`);\n    }\n  };\n\n  const handleChange: UploadProps[\"onChange\"] = ({ fileList: newFileList }) => {\n    if (fileList.length > 0) {\n      const matchingUrls = fileList?.reduce((result: any, image: any) => {\n        if (newFileList.some((file: any) => image?.id?.includes(file?.id))) {\n          result.push(image);\n        }\n        return result;\n      }, []);\n      setFileList(matchingUrls);\n      setValue(\"contractImage\", matchingUrls);\n    }\n  };\n\n  const customRequest = async ({ file, onSuccess, onError }: any) => {\n    try {\n      // const storageRef = ref(storage, `/files/${file.name}`);\n\n      // const uploadTask = uploadBytesResumable(storageRef, file);\n\n      // uploadTask.on(\n      //   \"state_changed\",\n      //   (snapshot) => {\n      //     const percent = Math.round(\n      //       (snapshot.bytesTransferred / snapshot.totalBytes) * 100\n      //     );\n\n      //     // update progress\n      //     // setPercent(percent);\n      //   },\n      //   (err) => console.log(err),\n      //   () => {\n      //     // download url\n      //     getDownloadURL(uploadTask.snapshot.ref).then((url) => {\n      //       onSuccess();\n      //       handleUpload({\n      //         file: {\n      //           status: \"done\",\n      //           name: file.name,\n      //           url,\n      //         },\n      //       });\n      //     });\n      //   }\n      // );\n      const reader = new FileReader();\n      reader.readAsDataURL(file);\n      reader.onload = (e: any) => {\n        const originalImage = new Image() as any;\n        originalImage.src = e.target.result;\n\n        originalImage.onload = () => {\n          // Define your desired dimensions\n          const maxWidth = 400;\n          const maxHeight = 400;\n\n          // Calculate the new dimensions while preserving the aspect ratio\n          const aspectRatio = originalImage.width / originalImage.height;\n          let newWidth, newHeight;\n          if (\n            originalImage.width > maxWidth ||\n            originalImage.height > maxHeight\n          ) {\n            if (aspectRatio > 1) {\n              newWidth = maxWidth;\n              newHeight = maxWidth / aspectRatio;\n            } else {\n              newWidth = maxHeight * aspectRatio;\n              newHeight = maxHeight;\n            }\n          } else {\n            newWidth = originalImage.width;\n            newHeight = originalImage.height;\n          }\n\n          // Create a canvas element to draw the resized image\n          const canvas = document.createElement(\"canvas\");\n          const ctx = canvas.getContext(\"2d\") as any;\n          canvas.width = newWidth;\n          canvas.height = newHeight;\n\n          // Draw the resized image on the canvas\n          ctx.drawImage(originalImage, 0, 0, newWidth, newHeight);\n\n          // Convert the canvas to a Blob (image file)\n          canvas.toBlob((blob: any) => {\n            // Create a new File object from the Blob\n            const resizedFile = new File([blob], file.name, {\n              type: file.type,\n            });\n            const storageRef = ref(\n              storage,\n              `/manager-page/${resizedFile.name}`\n            );\n            const uploadTask = uploadBytesResumable(storageRef, resizedFile);\n\n            uploadTask.on(\n              \"state_changed\",\n              (snapshot) => {\n                const percent = Math.round(\n                  (snapshot.bytesTransferred / snapshot.totalBytes) * 100\n                );\n\n                // update progress\n                // setPercent(percent);\n              },\n              (err) => console.log(err),\n              () => {\n                // download url\n                getDownloadURL(uploadTask.snapshot.ref).then((url) => {\n                  onSuccess();\n                  handleUpload({\n                    file: {\n                      status: \"done\",\n                      name: resizedFile.name,\n                      url,\n                    },\n                  });\n                });\n              }\n            );\n          }, file.type);\n        };\n      };\n    } catch (error) {\n      console.error(\"Error uploading file:\", error);\n      onError();\n    }\n  };\n  const props: UploadProps = {\n    name: \"file\",\n    multiple: true,\n    listType: \"picture\",\n    // beforeUpload,\n    fileList,\n    customRequest,\n    onChange: handleChange,\n    onDrop(e) {\n      console.log(\"Dropped files\", e.dataTransfer.files);\n    },\n  };\n\n  const contractNameValue = FormAntDeisgn.useWatch(\"contractType\", form);\n  // const contractPriceValue = FormAntDeisgn.useWatch(\"contractPrice\", form);\n\n  const contractPriceValue = reduce(\n    listContractItems,\n    (total: number, item: any) => {\n      return total + +item?.price * item?.quantity || 0;\n    },\n    0\n  );\n\n  const servicesArisingPriceValue = reduce(\n    listItems,\n    (total: number, item: any) => {\n      return total + +item?.price * item?.quantity || 0;\n    },\n    0\n  );\n  useEffect(() => {\n    const servicesArisingDiscountValue = reduce(\n      listItems,\n      (total: number, item: any) => {\n        return total + +item?.discount || 0;\n      },\n      0\n    );\n    const contractDiscountValue = reduce(\n      listContractItems,\n      (total: number, item: any) => {\n        return total + +item?.discount || 0;\n      },\n      0\n    );\n    form.setFieldValue(\n      \"discount\",\n      +contractDiscountValue + +servicesArisingDiscountValue\n    );\n    setValue(\n      \"discount\",\n      +contractDiscountValue + +servicesArisingDiscountValue\n    );\n  }, [listContractItems, listItems]);\n  const discountValue = FormAntDeisgn.useWatch(\"discount\", form);\n  const firstDepositPriceValue = FormAntDeisgn.useWatch(\n    \"firstDepositPrice\",\n    form\n  );\n  const secondDepositPriceValue = FormAntDeisgn.useWatch(\n    \"secondDepositPrice\",\n    form\n  );\n  const firstCheckDepositValue = FormAntDeisgn.useWatch(\n    \"firstCheckDeposit\",\n    form\n  );\n  const secondCheckDepositValue = FormAntDeisgn.useWatch(\n    \"secondCheckDeposit\",\n    form\n  );\n\n  const options: SelectProps[\"options\"] = map(servicesArisingData, (data) => {\n    const findSelectedArising = find(listItems, [\"value\", data.serviceName]);\n    const renderLabelArising = () => {\n      return (\n        <span\n          onClick={(e) => {\n            const isExistItem = find(listItems, { value: data.serviceName });\n            const payload = {\n              key: generateSlugUrl(`${data.serviceName}`),\n              value: data.serviceName,\n              label: data.serviceName,\n              quantity: isExistItem?.quantity || quantity,\n              discount: isExistItem?.discount || discountContract,\n            };\n            isExistItem?.quantity && setQuantity(isExistItem?.quantity);\n            isExistItem?.discount >= 0 &&\n              setDiscountArising(isExistItem?.discount);\n            setSelectedItem(data.serviceName);\n            if (!isExistItem) {\n              const isExistContract = find(servicesArisingData, {\n                serviceName: payload?.value,\n              });\n              setListItems([\n                ...listContractItems,\n                { ...payload, price: isExistContract?.servicePrice || 0 },\n              ]);\n            }\n            setShowQuantityInput(true);\n          }}\n        >\n          {!isEmpty(findSelectedArising)\n            ? `${data.serviceName} - (${findSelectedArising?.quantity}) ${\n                findSelectedArising?.discount > 0\n                  ? `- (discount ${formatCurrency(\n                      `${findSelectedArising?.discount}`\n                    )})`\n                  : \"\"\n              }`\n            : data.serviceName}\n        </span>\n      );\n    };\n    return {\n      value: data.serviceName,\n      label: renderLabelArising(),\n    };\n  });\n  const contractTypeOptions: SelectProps[\"options\"] = useMemo(\n    () =>\n      map(contractTypeData, (data) => {\n        const findSelectedContract = find(listContractItems, [\n          \"value\",\n          data.contractName,\n        ]);\n        const renderLabelContract = () => {\n          return (\n            <span\n              onClick={(e) => {\n                const isExistItem = find(listContractItems, {\n                  value: data.contractName,\n                });\n                const payload = {\n                  key: generateSlugUrl(`${data.contractName}`),\n                  value: data.contractName,\n                  label: data.contractName,\n                  quantity: isExistItem?.quantity || quantity,\n                  discount: isExistItem?.discount || discountContract,\n                };\n                isExistItem?.quantity &&\n                  setQuantityContract(isExistItem?.quantity);\n                isExistItem?.discount >= 0 &&\n                  setDiscountContract(isExistItem?.discount);\n                setSelectedContractItem(data.contractName);\n                if (!isExistItem) {\n                  const isExistContract = find(contractTypeData, {\n                    contractName: payload?.value,\n                  });\n                  setListContractItems([\n                    ...listContractItems,\n                    { ...payload, price: isExistContract?.contractPrice || 0 },\n                  ]);\n                }\n                setShowQuantityContractInput(true);\n              }}\n            >\n              {!isEmpty(findSelectedContract)\n                ? `${data.contractName} - (${findSelectedContract?.quantity}) ${\n                    findSelectedContract?.discount > 0\n                      ? `- (discount ${formatCurrency(\n                          `${findSelectedContract?.discount}`\n                        )})`\n                      : \"\"\n                  }`\n                : data.contractName}\n            </span>\n          );\n        };\n        return {\n          value: data.contractName,\n          label: renderLabelContract(),\n        };\n      }),\n    [contractTypeData, listContractItems]\n  );\n\n  useEffect(() => {\n    form.setFieldValue(\"contractPrice\", `${+contractPriceValue}`);\n    setValue(\"contractPrice\", `${+contractPriceValue}`);\n  });\n\n  useEffect(() => {\n    // form.setFieldValue(\"contractPrice\", contractPriceValue);\n    setValue(\"contractPriceItems\", listContractItems);\n  }, [listContractItems]);\n\n  useEffect(() => {\n    form.setFieldValue(\"servicesArisingPrice\", `${+servicesArisingPriceValue}`);\n    setValue(\"servicesArisingPrice\", `${+servicesArisingPriceValue}`);\n    setValue(\"servicesArisingItems\", listItems);\n  }, [listItems]);\n\n  useEffect(() => {\n    form.setFieldValue(\"status\", \"active\");\n    setValue(\"status\", \"active\");\n  }, []);\n\n  const totalPrice = `${\n    +contractPriceValue +\n    +servicesArisingPriceValue -\n    (+discountValue + +firstDepositPriceValue + +secondDepositPriceValue)\n  }`;\n\n  const handleSelect = (value: any) => {\n    // When an item is selected, show the quantity input field\n    const payload = {\n      key: generateSlugUrl(`${value}`),\n      value,\n      label: value,\n      quantity: quantity,\n      discount: discountArising,\n    };\n    setSelectedItem(value);\n    const isExistItem = find(listItems, { value: payload?.value });\n    if (!isExistItem) {\n      const servicesArising = find(servicesArisingData, {\n        serviceName: payload?.value,\n      });\n      setListItems([\n        ...listItems,\n        { ...payload, price: servicesArising?.servicePrice || 0 },\n      ]);\n    }\n    setShowQuantityInput(true);\n  };\n\n  const handleSelectContract = (value: any) => {\n    // When an item is selected, show the quantity input field\n    // const payload = {\n    //   key: generateSlugUrl(`${value}`),\n    //   value,\n    //   label: value,\n    //   quantity: quantityContract,\n    //   discount: discountContract,\n    // };\n    // setSelectedContractItem(value);\n    // const isExistItem = find(listContractItems, { value: payload?.value });\n    // if (!isExistItem) {\n    //   const isExistContract = find(contractTypeData, {\n    //     contractName: payload?.value,\n    //   });\n    //   setListContractItems([\n    //     ...listContractItems,\n    //     { ...payload, price: isExistContract?.contractPrice || 0 },\n    //   ]);\n    // }\n    // setShowQuantityContractInput(true);\n    const isExistItem = find(listContractItems, { value });\n    const payload = {\n      key: generateSlugUrl(`${value}`),\n      value,\n      label: value,\n      quantity: isExistItem?.quantity || quantity,\n      discount: isExistItem?.discount || discountContract,\n    };\n    isExistItem?.quantity && setQuantityContract(isExistItem?.quantity);\n    isExistItem?.discount && setDiscountContract(isExistItem?.discount);\n    setSelectedContractItem(value);\n    if (!isExistItem) {\n      const isExistContract = find(contractTypeData, {\n        contractName: payload?.value,\n      });\n      setListContractItems([\n        ...listContractItems,\n        { ...payload, price: isExistContract?.contractPrice || 0 },\n      ]);\n    }\n    setShowQuantityContractInput(true);\n  };\n\n  const handleDeSelectContract = (value: string) => {\n    setListContractItems(\n      filter(listContractItems, (item: any) => item?.value !== value)\n    );\n  };\n\n  const handleDeSelect = (value: string) => {\n    setListItems(filter(listItems, (item: any) => item?.value !== value));\n  };\n  const handleAddContractItem = () => {\n    // Perform actions with selected item and quantity\n    const updateItems = map(listContractItems, (item) => {\n      if (item.key === generateSlugUrl(`${selectedContractItem}`)) {\n        return {\n          ...item,\n          quantity: quantityContract,\n          discount: discountContract,\n        };\n      }\n      return item;\n    });\n    // Reset the state and hide the quantity input field\n    setSelectedContractItem(null);\n    setListContractItems(updateItems);\n    setQuantityContract(1);\n    setDiscountContract(0);\n    setShowQuantityContractInput(false);\n  };\n\n  const handleAddItem = () => {\n    // Perform actions with selected item and quantity\n    const updateItems = map(listItems, (item) => {\n      if (item.key === generateSlugUrl(`${selectedItem}`)) {\n        return {\n          ...item,\n          quantity: quantity,\n          discount: discountArising,\n        };\n      }\n      return item;\n    });\n    // Reset the state and hide the quantity input field\n    setSelectedItem(null);\n    setListItems(updateItems);\n    setQuantity(1);\n    setDiscountArising(0);\n    setShowQuantityInput(false);\n  };\n\n  const removeDiacritics = (text: string) =>\n    text.normalize(\"NFD\").replace(/[\\u0300-\\u036f]/g, \"\");\n\n  return (\n    <>\n      {contextHolder}\n      <div className=\"py-6\">\n        <PrintContract getValues={getValues} />\n      </div>\n      <FormAntDeisgn\n        form={form}\n        name=\"control-create-contract-ref\"\n        ref={formRef}\n        layout=\"vertical\"\n        initialValues={defaultValues}\n        onFinish={handleSubmit((data) => {\n          const payload: ContractModel & { customerType: \"online\" | \"offline\" } = {\n            ...data,\n            firstPaymentMethod: data?.firstPaymentMethod || \"\",\n            secondPaymentMethod: data?.secondPaymentMethod || \"\",\n            customerType: data.customerType,\n            servicesArising:\n              map(listItems, (item) => {\n                return item?.value;\n              }) || [],\n            contractType:\n              map(listContractItems, (item) => {\n                return item?.value;\n              }) || [],\n            contractPriceItems: listContractItems,\n            servicesArisingItems: listItems,\n            totalContractPrice: data?.contractPrice || \"\",\n            contractImage: fileList,\n            shootingDate: data?.shootingDate?.toISOString?.() || \"\",\n            createDate: data?.createDate?.toISOString?.() || \"\",\n            dueDate: data?.dueDate?.toISOString?.() || \"\",\n            secondDepositPriceDate:\n              data?.secondDepositPriceDate?.toISOString?.() || \"\",\n            firstDepositPriceDate:\n              data?.firstDepositPriceDate?.toISOString?.() || \"\",\n            notes: data?.notes ? [data?.notes] : [],\n            totalPrice: `${\n              +contractPriceValue + +servicesArisingPriceValue - +discountValue\n            }`,\n          };\n          console.log(\"payload\", payload);\n          mutation.mutate(payload);\n          queryClient.invalidateQueries(\"contract\");\n          setTimeout(async () => await refetch(), 300);\n          setLoading(true);\n          messageApi.open({\n            type: \"success\",\n            content: \"Tạo hợp đồng thành công!\",\n            duration: 5,\n          });\n          setLoading(false);\n          form.resetFields();\n          formRef.current?.resetFields();\n          reset();\n          // setFileList([]);\n        })}\n      >\n        <div className=\"grid grid-cols-1 xl:grid-cols-3 xl:gap-6\">\n          <div>\n            <Popconfirm\n              title=\"Nhập số lượng\"\n              open={showQuantityContractInput}\n              description={\n                <div className=\"flex gap-2\">\n                  <Input\n                    type=\"number\"\n                    min={1}\n                    value={quantityContract}\n                    onChange={(e) =>\n                      setQuantityContract(parseInt(e.target.value))\n                    }\n                  />\n                  <InputNumber\n                    defaultValue={0}\n                    value={discountContract}\n                    style={{ width: \"100%\" }}\n                    placeholder=\"Nhập discount\"\n                    onChange={(e) => setDiscountContract(e as number)}\n                    formatter={(value) =>\n                      `${value}`.replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\")\n                    }\n                  />\n                </div>\n              }\n              onConfirm={handleAddContractItem}\n              onCancel={() => setShowQuantityContractInput(false)}\n              okText=\"Thêm\"\n              cancelText=\"Huỷ\"\n            ></Popconfirm>\n            <FormItem\n              control={control}\n              name=\"contractType\"\n              label=\"Loại hợp đồng\"\n            >\n              <Select\n                mode=\"multiple\"\n                showSearch\n                style={{ width: \"100%\" }}\n                placeholder=\"Chọn loại hợp đồng\"\n                options={contractTypeOptions}\n                onDeselect={handleDeSelectContract}\n                onSelect={handleSelectContract}\n                filterOption={(input, option: any) => {\n                  return removeDiacritics(\n                    option?.value?.toLowerCase()\n                  ).includes(removeDiacritics(input.toLowerCase()));\n                }}\n              />\n            </FormItem>\n          </div>\n          <div>\n            <Popconfirm\n              title=\"Nhập số lượng và discount\"\n              open={showQuantityInput}\n              description={\n                <div className=\"flex gap-2\">\n                  <Input\n                    type=\"number\"\n                    min={1}\n                    value={quantity}\n                    onChange={(e) => setQuantity(parseInt(e.target.value))}\n                  />\n                  <InputNumber\n                    defaultValue={0}\n                    value={discountArising}\n                    style={{ width: \"100%\" }}\n                    placeholder=\"Nhập discount\"\n                    onChange={(e) => setDiscountArising(e as number)}\n                    formatter={(value) =>\n                      `${value}`.replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\")\n                    }\n                  />\n                </div>\n              }\n              onConfirm={handleAddItem}\n              onCancel={() => setShowQuantityInput(false)}\n              okText=\"Thêm\"\n              cancelText=\"Huỷ\"\n            ></Popconfirm>\n            <FormItem\n              control={control}\n              name=\"servicesArising\"\n              label=\"Danh mục phát sinh\"\n            >\n              <Select\n                mode=\"multiple\"\n                // allowClear\n                showSearch\n                style={{ width: \"100%\" }}\n                placeholder=\"Chọn danh mục phát sinh\"\n                options={options}\n                onDeselect={handleDeSelect}\n                onSelect={handleSelect}\n                filterOption={(input, option: any) => {\n                  return removeDiacritics(\n                    option?.value?.toLowerCase()\n                  ).includes(removeDiacritics(input.toLowerCase()));\n                }}\n              />\n            </FormItem>\n          </div>\n          <FormItem control={control} name=\"status\" label=\"Trạng thái\">\n            <Select showSearch>\n              {statusList.map((sts, index) => {\n                return (\n                  <Select.Option key={index} value={sts}>\n                    <Badge\n                      color={getStatusColor(\n                        (`${sts}`.toLowerCase() as StatusColorType) || \"pending\"\n                      )}\n                      text={capitalize(sts)}\n                    />\n                  </Select.Option>\n                );\n              })}\n            </Select>\n          </FormItem>\n        </div>\n        <div className=\"grid grid-cols-1 xl:grid-cols-3 xl:gap-6\">\n          <FormItem control={control} name=\"userName\" label=\"Tên khách hàng\">\n            <Input allowClear placeholder=\"Nhập tên khách hàng\" />\n          </FormItem>\n          <FormItem control={control} name=\"phone\" label=\"Số điện thoại\">\n            <Input allowClear placeholder=\"Nhập số điện thoại\" />\n          </FormItem>\n          <FormItem control={control} name=\"address\" label=\"Địa chỉ\">\n            <Input allowClear placeholder=\"Nhập địa chỉ\" />\n          </FormItem>\n        </div>\n        <div className=\"grid grid-cols-1 xl:grid-cols-3 xl:gap-6\">\n          <FormItem\n            control={control}\n            name=\"contractPrice\"\n            label=\"Giá hợp đồng\"\n            valuePropName=\"value\"\n          >\n            <InputNumber\n              disabled\n              style={{ width: \"100%\" }}\n              placeholder=\"Giá hợp đồng\"\n              formatter={(value) =>\n                `${value}`.replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\")\n              }\n            />\n          </FormItem>\n          <FormItem\n            control={control}\n            name=\"servicesArisingPrice\"\n            label=\"Giá mục phát sinh\"\n            valuePropName=\"value\"\n          >\n            <InputNumber\n              disabled\n              style={{ width: \"100%\" }}\n              placeholder=\"Giá mục phát sinh\"\n              formatter={(value) =>\n                `${value}`.replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\")\n              }\n            />\n          </FormItem>\n          <FormItem\n            control={control}\n            name=\"discount\"\n            label=\"Tổng discount\"\n            valuePropName=\"value\"\n          >\n            <InputNumber\n              disabled\n              style={{ width: \"100%\" }}\n              placeholder=\"Tổng discount\"\n              formatter={(value) =>\n                `${value}`.replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\")\n              }\n            />\n          </FormItem>\n        </div>\n        <div className=\"pb-6\">\n          <Space>\n            <span className=\"text-lg font-semibold text-gray-900\">\n              Thành tiền:\n            </span>\n            <span className=\"text-lg font-semibold text-blue-600\">\n              {formatCurrency(\n                `${+contractPriceValue + +servicesArisingPriceValue}`\n              )}\n            </span>\n          </Space>\n        </div>\n        <div className=\"pb-6\">\n          <Space>\n            <span className=\"text-lg font-semibold text-gray-900\">\n              Thanh toán còn lại:\n            </span>\n            <span className=\"text-lg font-semibold text-blue-600\">\n              {formatCurrency(totalPrice)}\n            </span>\n          </Space>\n        </div>\n\n        <div className=\"grid grid-cols-1 xl:grid-cols-3 xl:gap-6\">\n          <FormItem\n            control={control}\n            name=\"createDate\"\n            label=\"Ngày ký hợp đồng\"\n          >\n            <DatePicker\n              format={dateFormat}\n              placeholder=\"Vui lòng chọn ngày ký hợp đồng\"\n              style={{ width: \"100%\" }}\n            />\n          </FormItem>\n          <FormItem control={control} name=\"shootingDate\" label=\"Ngày bấm máy\">\n            <DatePicker\n              format={dateFormat}\n              placeholder=\"Vui lòng chọn ngày bấm máy\"\n              style={{ width: \"100%\" }}\n            />\n          </FormItem>\n          <FormItem\n            control={control}\n            name=\"dueDate\"\n            label=\"Ngày hoàn thành hợp đồng\"\n          >\n            <DatePicker\n              format={dateFormat}\n              placeholder=\"Vui lòng chọn ngày hoàn thành hợp đồng\"\n              style={{ width: \"100%\" }}\n            />\n          </FormItem>\n          <FormItem\n            control={control}\n            name=\"customerType\"\n            label=\"Kênh khách hàng\"\n          >\n            <Radio.Group optionType=\"button\" buttonStyle=\"solid\">\n              <Radio.Button value=\"online\">Online</Radio.Button>\n              <Radio.Button value=\"offline\">Offline</Radio.Button>\n            </Radio.Group>\n          </FormItem>\n        </div>\n        {/* <div className=\"py-6\">\n          <FormItem\n            control={control}\n            name=\"contractImage\"\n            // valuePropName='fileList'\n            label=\"Upload hình ảnh hợp đồng\"\n          >\n            <Dragger {...props}>\n              <p className=\"ant-upload-drag-icon\">\n                <InboxOutlined />\n              </p>\n              <p className=\"ant-upload-text\">\n                Nhấp hoặc kéo tệp vào khu vực này để tải lên\n              </p>\n              <p className=\"ant-upload-hint\">\n                Hỗ trợ tải lên một lần hoặc hàng loạt. Nghiêm cấm tải lên dữ\n                liệu công ty hoặc các thông tin khác\n              </p>\n            </Dragger>\n          </FormItem>\n        </div> */}\n        <div className=\"grid grid-cols-1 xl:grid-cols-2 xl:gap-6 pb-6\">\n          <Card\n            size=\"small\"\n            title=\"Cọc lần 1\"\n            extra={\n              <FormItem\n                style={{ marginBottom: 0 }}\n                control={control}\n                name=\"firstCheckDeposit\"\n                valuePropName=\"checked\"\n              >\n                <Checkbox />\n              </FormItem>\n            }\n          >\n            <div className=\"grid grid-cols-1 xl:grid-cols-2 xl:gap-6 pb-6\">\n              <FormItem\n                control={control}\n                name=\"firstDepositPrice\"\n                label=\"Tiền cọc lần 1\"\n              >\n                <InputNumber\n                  disabled={!firstCheckDepositValue}\n                  style={{ width: \"100%\" }}\n                  placeholder=\"Nhập tiền cọc lần 1\"\n                  formatter={(value) =>\n                    `${value}`.replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\")\n                  }\n                />\n              </FormItem>\n              <FormItem\n                control={control}\n                name=\"firstDepositPriceDate\"\n                label=\"Ngày cọc lần 1\"\n              >\n                <DatePicker\n                  disabled={!firstCheckDepositValue}\n                  format={dateFormat}\n                  placeholder=\"Vui lòng chọn ngày cọc lần 1\"\n                  style={{ width: \"100%\" }}\n                />\n              </FormItem>\n              <FormItem\n                control={control}\n                name=\"firstPaymentMethod\"\n                label=\"Phương thức thanh toán\"\n              >\n                <Select\n                  style={{ width: 140 }}\n                  disabled={!firstCheckDepositValue}\n                  options={[\n                    { value: \"Chuyển khoản\", label: \"Chuyển khoản\" },\n                    { value: \"Tiền mặt\", label: \"Tiền mặt\" },\n                  ]}\n                />\n              </FormItem>\n            </div>\n          </Card>\n          <Card\n            size=\"small\"\n            title=\"Cọc lần 2\"\n            extra={\n              <FormItem\n                style={{ marginBottom: 0 }}\n                control={control}\n                name=\"secondCheckDeposit\"\n                valuePropName=\"checked\"\n              >\n                <Checkbox />\n              </FormItem>\n            }\n          >\n            <div className=\"grid grid-cols-1 xl:grid-cols-2 xl:gap-6 pb-6\">\n              <FormItem\n                control={control}\n                name=\"secondDepositPrice\"\n                label=\"Tiền cọc lần 2\"\n              >\n                <InputNumber\n                  disabled={!secondCheckDepositValue}\n                  style={{ width: \"100%\" }}\n                  placeholder=\"Nhập tiền cọc lần 2\"\n                  formatter={(value) =>\n                    `${value}`.replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\")\n                  }\n                />\n              </FormItem>\n              <FormItem\n                control={control}\n                name=\"secondDepositPriceDate\"\n                label=\"Ngày cọc lần 2\"\n              >\n                <DatePicker\n                  disabled={!secondCheckDepositValue}\n                  format={dateFormat}\n                  placeholder=\"Vui lòng chọn ngày cọc lần 2\"\n                  style={{ width: \"100%\" }}\n                />\n              </FormItem>\n              <FormItem\n                control={control}\n                name=\"secondPaymentMethod\"\n                label=\"Phương thức thanh toán\"\n              >\n                <Select\n                  style={{ width: 140 }}\n                  disabled={!secondCheckDepositValue}\n                  options={[\n                    { value: \"Chuyển khoản\", label: \"Chuyển khoản\" },\n                    { value: \"Tiền mặt\", label: \"Tiền mặt\" },\n                  ]}\n                />\n              </FormItem>\n            </div>\n          </Card>\n        </div>\n\n        <div className=\"pb-6\">\n          <FormItem control={control} name=\"notes\" label=\"Ghi chú\">\n            <Editor />\n          </FormItem>\n        </div>\n        {/* <Viewer value={`**anh yeu em**\n        1. [13213123](13213123)2. **anh yeu em**`} /> */}\n        <Button\n          loading={loading}\n          disabled={!isEmpty(errors)}\n          type=\"primary\"\n          htmlType=\"submit\"\n          block\n          size=\"large\"\n          className=\"mt-6\"\n        >\n          Tạo hợp đồng\n        </Button>\n      </FormAntDeisgn>\n    </>\n  );\n}\n","import React from \"react\";\nimport { Breadcrumb } from \"antd\";\nimport CreateContractForm from \"./CreateContractForm\";\nimport { useUser } from \"../../../store/useUser\";\nimport { canCreate } from \"../../../utils\";\n\nconst CreateContract = () => {\n  const { user } = useUser();\n  const userPermissions = user?.permissions || {};\n  return (\n    <div className=\"m-2 p-2 md:p-10 bg-white rounded-3xl\">\n      {canCreate(userPermissions, \"contracts\") && (\n        <>\n          <div className=\"mb-4\">\n            <Breadcrumb\n              items={[\n                {\n                  href: \"/\",\n                  title: \"Trang chủ\",\n                },\n                {\n                  title: \"Tạo hợp đồng\",\n                },\n              ]}\n            />\n          </div>\n          <CreateContractForm />\n        </>\n      )}\n    </div>\n  );\n};\nexport default CreateContract;\n","import { useFirestoreQuery } from \"@react-query-firebase/firestore\";\r\nimport { query, collection } from \"firebase/firestore\";\r\nimport { firestore } from \"../../../lib/firebase\";\r\nimport { ContractType, ServicesArising } from \"../../../models/ContractModel\";\r\n\r\nexport function useServicesArising() {\r\n  const ref = query(collection(firestore, \"servicesArising\"));\r\n  // Provide the query to the hook\r\n  const queryServicesArising = useFirestoreQuery([\"servicesArising\"], ref);\r\n  const snapshot = queryServicesArising.data;\r\n  let data: any[] = [];\r\n  snapshot?.forEach((docSnapshot) => {\r\n    data.push({ id: docSnapshot.id, ...docSnapshot.data() });\r\n  });\r\n\r\n  const refetch = async () => {\r\n    try {\r\n      await queryServicesArising.refetch(); // You can use refetch to fetch data again\r\n    } catch (error) {\r\n      console.error(\"Error refetching wedding dress data:\", error);\r\n    }\r\n  };\r\n\r\n  return {\r\n    isError: queryServicesArising.isError,\r\n    isLoading: queryServicesArising.isLoading,\r\n    data: data as ServicesArising[],\r\n    refetch,\r\n  };\r\n}\r\n"],"names":["htmlToMarkdown","htmlText","file","remark","use","rehypeParse","emitParseErrors","duplicateAttribute","rehypeRemark","remarkStringify","processSync","String","Quill","register","Emoji","TOOLBAR_OPTIONS","header","list","indent","Editor","props","_props$value","_props$value$","_props$value2","_useState","useState","value","html","_useState2","_slicedToArray","setValue","reactQuillRef","useRef","useEffect","_props$value3","_props$value3$","_props$value4","_jsx","ReactQuill","ref","theme","placeholder","modules","toolbar","container","className","onChange","content","markdown","useContractType","query","collection","firestore","queryContractType","useFirestoreQuery","snapshot","data","forEach","docSnapshot","push","_objectSpread","id","refetch","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_context","prev","next","t0","console","error","stop","apply","arguments","isError","isLoading","currentDate","Upload","Dragger","dayjs","dateFormat","defaultValues","contractType","undefined","userName","status","phone","address","discount","firstCheckDeposit","servicesArisingPrice","firstDepositPrice","firstDepositPriceDate","secondCheckDeposit","secondDepositPrice","secondDepositPriceDate","createDate","shootingDate","dueDate","add","contractPrice","contractImage","notes","customerType","statusList","schema","yup","required","test","str","context","isVietnamesePhoneNumber","oneOf","CreateContractForm","formRef","_FormAntDeisgn$useFor","FormAntDeisgn","useForm","form","_message$useMessage","message","useMessage","_message$useMessage2","messageApi","contextHolder","loading","setLoading","contractRef","_useState3","_useState4","fileList","mutation","useFirestoreCollectionMutation","_useState5","_useState6","_useState7","_useState8","listItems","setListItems","_useState9","_useState10","listContractItems","setListContractItems","_useState11","_useState12","selectedItem","setSelectedItem","_useState13","_useState14","quantity","setQuantity","_useState15","_useState16","discountArising","setDiscountArising","_useState17","_useState18","showQuantityInput","setShowQuantityInput","_useState19","_useState20","selectedContractItem","setSelectedContractItem","_useState21","_useState22","quantityContract","setQuantityContract","_useState23","_useState24","discountContract","setDiscountContract","_useState25","_useState26","showQuantityContractInput","setShowQuantityContractInput","useContract","contractTypeData","servicesArisingData","useServicesArising","queryClient","useQueryClient","user","uuidv4","useUser","_useForm","permission","resolver","yupResolver","control","handleSubmit","errors","formState","reset","getValues","contractPriceValue","useWatch","reduce","total","item","price","servicesArisingPriceValue","servicesArisingDiscountValue","contractDiscountValue","setFieldValue","discountValue","firstDepositPriceValue","secondDepositPriceValue","firstCheckDepositValue","secondCheckDepositValue","options","map","findSelectedArising","find","serviceName","label","onClick","e","isExistItem","payload","key","generateSlugUrl","concat","isExistContract","_toConsumableArray","servicePrice","children","isEmpty","formatCurrency","contractTypeOptions","useMemo","findSelectedContract","contractName","totalPrice","removeDiacritics","text","normalize","replace","_jsxs","_Fragment","PrintContract","name","layout","initialValues","onFinish","_data$shootingDate","_data$shootingDate$to","_data$createDate","_data$createDate$toIS","_data$dueDate","_data$dueDate$toISOSt","_data$secondDepositPr","_data$secondDepositPr2","_data$firstDepositPri","_data$firstDepositPri2","_formRef$current","firstPaymentMethod","secondPaymentMethod","servicesArising","contractPriceItems","servicesArisingItems","totalContractPrice","toISOString","call","log","mutate","invalidateQueries","setTimeout","_callee3","_context3","abrupt","sent","open","type","duration","resetFields","current","Popconfirm","title","description","Input","min","parseInt","target","InputNumber","defaultValue","style","width","formatter","onConfirm","updateItems","onCancel","okText","cancelText","FormItem","Select","mode","showSearch","onDeselect","filter","onSelect","filterOption","input","option","_option$value","toLowerCase","includes","_option$value2","sts","index","Option","Badge","color","getStatusColor","capitalize","allowClear","valuePropName","disabled","Space","DatePicker","format","Radio","optionType","buttonStyle","Card","size","extra","marginBottom","Checkbox","Button","htmlType","block","userPermissions","permissions","canCreate","Breadcrumb","items","href","queryServicesArising"],"sourceRoot":""}