"use strict";(self.webpackChunkmardoll_admin=self.webpackChunkmardoll_admin||[]).push([[2667],{47701:function(n,e,r){r.d(e,{x:function(){return l}});var t=r(1413),i=r(44925),c=(r(72791),r(93070)),o=r(61134),a=r(80184),u=["children","control","name","help","hasFeedback"],l=function(n){var e,r,l=n.children,s=n.control,d=n.name,f=n.help,p=n.hasFeedback,h=void 0!==p&&p,v=(0,i.Z)(n,u),g=(0,o.bc)({name:d,control:s}),m=g.field,Z=g.fieldState,x=g.formState.errors;return(0,a.jsx)(c.Z.Item,(0,t.Z)((0,t.Z)({hasFeedback:h,name:d,normalize:function(n){return m.onChange(n),n},validateStatus:Z.invalid?"error":void 0,help:null!==(e=null===(r=x[d])||void 0===r?void 0:r.message)&&void 0!==e?e:f},v),{},{children:l}))}},28248:function(n,e,r){r.d(e,{L:function(){return l}});var t=r(74165),i=r(15861),c=r(1413),o=r(20028),a=r(12481),u=r(54174);function l(){var n=(0,a.IO)((0,a.hJ)(u.R,"contractType")),e=(0,o.sQ)(["contractType"],n),r=e.data,l=[];null===r||void 0===r||r.forEach((function(n){l.push((0,c.Z)({id:n.id},n.data()))}));var s=function(){var n=(0,i.Z)((0,t.Z)().mark((function n(){return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e.refetch();case 3:n.next=8;break;case 5:n.prev=5,n.t0=n.catch(0),console.error("Error refetching wedding dress data:",n.t0);case 8:case"end":return n.stop()}}),n,null,[[0,5]])})));return function(){return n.apply(this,arguments)}}();return{isError:e.isError,isLoading:e.isLoading,data:l,refetch:s}}},82667:function(n,e,r){r.r(e),r.d(e,{default:function(){return R}});var t=r(72791),i=r(1630),c=r(74165),o=r(1413),a=r(15861),u=r(29439),l=r(44695),s=r(20028),d=r(93070),f=r(4206),p=r(86005),h=r(98597),v=r(2641),g=r(12481),m=r(763),Z=r(61134),x=r(91933),y=r(8007),w=r(47701),b=r(54174),k=r(25850),j=r(28248),N=r(80184),T={contractName:"",contractPrice:""},F=y.Ry({contractName:y.Z_().required("Vui l\xf2ng nh\u1eadp t\xean lo\u1ea1i h\u1ee3p \u0111\u1ed3ng"),contractPrice:y.Z_().required("Vui l\xf2ng nh\u1eadp gi\xe1 c\u1ee7a lo\u1ea1i h\u1ee3p \u0111\u1ed3ng")}).required();function S(){var n=(0,t.useRef)(null),e=d.Z.useForm(),r=(0,u.Z)(e,1)[0],i=f.ZP.useMessage(),y=(0,u.Z)(i,2),S=y[0],R=y[1],C=(0,t.useState)(!1),E=(0,u.Z)(C,2),L=E[0],V=E[1],z=(0,g.hJ)(b.R,"contractType"),D=((0,s.b)(z),(0,j.L)().refetch),J=(0,x.useQueryClient)(),P=function(){var n=(0,a.Z)((0,c.Z)().mark((function n(e){var r,t,i;return(0,c.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=(0,g.hJ)(b.R,"contractType"),t=(0,g.JU)(r),i=(0,o.Z)((0,o.Z)({},e),{},{id:t.id}),n.next=5,(0,g.pl)(t,i);case 5:return n.abrupt("return",i);case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),$=(0,Z.cI)({defaultValues:T,resolver:(0,l.X)(F)}),_=$.control,q=$.handleSubmit,G=$.formState.errors,I=$.reset;return(0,N.jsxs)(N.Fragment,{children:[R,(0,N.jsxs)(d.Z,{form:r,name:"control-wedding-dress-type-ref",ref:n,layout:"vertical",initialValues:T,onFinish:q(function(){var e=(0,a.Z)((0,c.Z)().mark((function e(t){var i,u,l;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return V(!0),u=(0,o.Z)((0,o.Z)({},t),{},{contractType:(0,k.$5)((null===t||void 0===t?void 0:t.contractName)||"")}),e.next=4,P(u);case 4:l=e.sent,console.log("Doc created with id:",l),J.invalidateQueries({queryKey:["contractType"]}),setTimeout((0,a.Z)((0,c.Z)().mark((function n(){return(0,c.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,D();case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)}))),300),S.open({type:"success",content:"T\u1ea1o t\xean lo\u1ea1i h\u1ee3p \u0111\u1ed3ng th\xe0nh c\xf4ng!",duration:5}),V(!1),r.resetFields(),null===(i=n.current)||void 0===i||i.resetFields(),I();case 13:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),children:[(0,N.jsxs)("div",{className:"grid grid-cols-1 gap-6",children:[(0,N.jsx)(w.x,{control:_,name:"contractName",label:"T\xean lo\u1ea1i h\u1ee3p \u0111\u1ed3ng",children:(0,N.jsx)(p.Z,{allowClear:!0,placeholder:"Nh\u1eadp t\xean lo\u1ea1i h\u1ee3p \u0111\u1ed3ng"})}),(0,N.jsx)(w.x,{control:_,name:"contractPrice",label:"Gi\xe1 c\u1ee7a lo\u1ea1i h\u1ee3p \u0111\u1ed3ng",children:(0,N.jsx)(h.Z,{style:{width:"100%"},placeholder:"Nh\u1eadp gi\xe1 c\u1ee7a lo\u1ea1i h\u1ee3p \u0111\u1ed3ng",formatter:function(n){return"".concat(n).replace(/\B(?=(\d{3})+(?!\d))/g,",")}})})]}),(0,N.jsx)(v.ZP,{loading:L,disabled:!(0,m.isEmpty)(G),type:"primary",htmlType:"submit",block:!0,size:"large",children:"G\u1eedi"})]})]})}var R=function(){return(0,N.jsxs)("div",{className:"m-2 p-2 md:p-10 bg-white rounded-3xl",children:[(0,N.jsx)("div",{className:"mb-4",children:(0,N.jsx)(i.Z,{items:[{href:"/",title:"Trang ch\u1ee7"},{title:"T\u1ea1o lo\u1ea1i h\u1ee3p \u0111\u1ed3ng"}]})}),(0,N.jsx)(S,{})]})}},25850:function(n,e,r){r.d(e,{$5:function(){return o},Dw:function(){return c},Gw:function(){return a},Hl:function(){return u},J5:function(){return f},Q_:function(){return g},Rf:function(){return v},cX:function(){return h},k7:function(){return p},uf:function(){return s},xG:function(){return l},yA:function(){return d},z2:function(){return i}});var t=r(763),i=function(){return{pending:"orange",active:"cyan",complete:"green",rejected:"red",canceled:"red"}[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"pending"]},c=function(){return{offline:"gray",online:"green"}[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"offline"]};function o(n){var e,r,t;return n=null===(t=n=null===(e=n)||void 0===e||null===(r=e.normalize("NFD").replace(/[\u0300-\u036f]/g,""))||void 0===r?void 0:r.replace("\u0111","d"))||void 0===t?void 0:t.replace(/\s+/g,"-").toLowerCase()}var a=/^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$/,u=function(n){return/((^(\+84|84|0|0084){1})(3|5|7|8|9))+([0-9]{8})$/.test(n)},l=function(n){return(0,t.isNil)(n)||(0,t.isEmpty)(n)?"--":parseInt(n).toLocaleString("vi-VN",{style:"currency",currency:"VND"})},s=function(n){return 0===n?"".concat(n.toString()):n>=1e9?"".concat((n/1e9).toFixed(0)," t\u1ef7"):n>=1e6?"".concat((n/1e6).toFixed(0)," tr"):"".concat((n/1e3).toFixed(0)," k")},d=function(n,e){var r;return null===n||void 0===n||null===(r=n[e])||void 0===r?void 0:r.includes("create")},f=function(n,e){var r;return null===n||void 0===n||null===(r=n[e])||void 0===r?void 0:r.includes("edit")},p=function(n,e){var r;return null===n||void 0===n||null===(r=n[e])||void 0===r?void 0:r.includes("delete")},h=function(n,e,r){return function(n,e){var r;return null===n||void 0===n||null===(r=n[e])||void 0===r?void 0:r.includes("view")}(r,n)?e:null},v=function(n){return(0,t.chain)(n).replace(/\D/g,"").toArray().takeRight(3).join("").value()},g=function(n){return(0,t.chain)(n).trim().split(/\s+/).last().defaultTo("").value()}}}]);
//# sourceMappingURL=2667.4e5e1a4c.chunk.js.map