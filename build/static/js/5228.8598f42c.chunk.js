"use strict";(self.webpackChunkmardoll_admin=self.webpackChunkmardoll_admin||[]).push([[5228],{10049:function(e,n,t){var r=t(1413),c=t(44925),s=t(93296),a=t(41932),i=t(2641),l=(t(72791),t(80184)),o=["children","override"],d=s.Z.useToken;n.Z=function(e){var n=e.children,t=e.override,s=(0,c.Z)(e,o),u=d().token,x=(null===u||void 0===u?void 0:u[t])||t,p={token:(0,r.Z)((0,r.Z)({},u),{},{colorPrimary:x,colorPrimaryHover:x,colorPrimaryBorderHover:x,colorPrimaryTextHover:x})};return(0,l.jsx)(a.ZP,{theme:p,children:(0,l.jsx)(i.ZP,(0,r.Z)((0,r.Z)({},s),{},{children:n}))})}},99995:function(e,n,t){t.d(n,{t:function(){return j}});var r=t(29439),c=t(72791),s=t(61146),a=t(97892),i=t.n(a),l=t(763),o=t(39126),d=t(93899),u=t(25850),x=t(8975),p=t(80184);function h(e){return(0,p.jsx)(x.U,{children:e.value})}var m=function(e,n){var t=e.getValues()||{},r=t.notes,c=void 0===r?{}:r,s=t.servicesArisingPrice,a=void 0===s?"0":s,x=t.contractType,m=void 0===x?[]:x,v=t.contractPrice,f=void 0===v?"0":v,g=t.discount,b=void 0===g?"":g,j=t.userName,N=void 0===j?"--":j,y=t.phone,w=void 0===y?"--":y,k=t.shootingDate,D=t.secondPaymentMethod,P=t.firstPaymentMethod,T=t.firstDepositPrice,S=void 0===T?0:T,Z=t.firstDepositPriceDate,Y=void 0===Z?void 0:Z,G=t.createDate,M=t.secondDepositPrice,C=void 0===M?0:M,F=t.secondDepositPriceDate,z=void 0===F?void 0:F,A=t.servicesArisingItems,E=void 0===A?[]:A,H=t.contractPriceItems,I=void 0===H?[]:H,R=t.customerType,_=void 0===R?"offline":R,B=(0,l.replace)(i()(G).format("DD-MM-YYYY"),/-/g,"");return(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)("div",{className:(0,d.cn)("roxanatech-print p-6 hidden",e.loading&&"block"),ref:n,children:[(0,p.jsx)("div",{className:"flash"}),(0,p.jsxs)("div",{className:"roxanatech-introduce bg-black px-4 py-4 mb-4",children:[(0,p.jsxs)("div",{className:"flex justify-between",children:[(0,p.jsx)("img",{src:"/marrdoll_studio_logo.jpeg",className:"h-[90px] w-[120px] object-cover mb-2"}),(0,p.jsx)("p",{className:"uppercase text-xl font-semibold text-white flex flex-col mb-6 justify-end m-0 p-0",children:"H\u1ee3p \u0111\u1ed3ng online"})]}),(0,p.jsx)("div",{className:"h-[2px] w-full bg-[#ffffff]"}),(0,p.jsxs)("div",{className:"flex justify-between items-end mt-4",children:[(0,p.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,p.jsxs)("p",{className:"text-white p-0 m-0",children:[(0,p.jsx)(o.lfG,{size:12})," 0706.190.865 - 0388.167.546"]}),(0,p.jsxs)("p",{className:"text-white p-0 m-0",children:[(0,p.jsx)(o.k1O,{size:12})," FB/MardollStudio"]}),(0,p.jsx)("p",{className:"text-white p-0 m-0 uppercase",children:"49 T\xfa M\u1ee1 - P.Nh\u01a1n B\xecnh - TP.Quy Nh\u01a1n - B\xecnh \u0110\u1ecbnh"})]}),(0,p.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,p.jsxs)("p",{className:"text-white text-end p-0 m-0 text-lg",children:["Ng\xe0y: ",i()(G).format("DD-MM-YYYY")]}),(0,p.jsxs)("p",{className:"text-white text-end p-0 m-0 text-lg",children:["M\xe3 Kh\xe1ch H\xe0ng: ",B,"_",(0,u.Q_)(N),"_",(0,u.Rf)(w)]})]})]})]}),(0,p.jsxs)("div",{className:"flex justify-between border-b-2 border-solid border-white border-b-teal-500 pb-4",children:[(0,p.jsxs)("div",{className:"roxanatech-contract-userinfo",children:[(0,p.jsx)("p",{className:"uppercase font-semibold text-2xl text-gray-900 m-0 p-0",children:"kh\xe1ch h\xe0ng"}),(0,p.jsxs)("p",{className:"uppercase font-semibold text-base text-gray-900 m-0 p-0",children:[N," - ",_]}),(0,p.jsxs)("p",{className:"uppercase text-base text-gray-900 m-0 p-0",children:["S\u0110T: ",w]})]}),(0,p.jsxs)("div",{className:"roxanatech-contract-serviceinfo",children:[(0,p.jsx)("p",{className:"uppercase text-end font-semibold text-2xl text-gray-900 m-0 p-0",children:"m\xf4 t\u1ea3 d\u1ecbch v\u1ee5"}),(0,l.map)(m,(function(e){return(0,p.jsx)("p",{className:"uppercase text-end text-base text-gray-900 m-0 p-0",children:e})})),(0,p.jsxs)("p",{className:"uppercase text-end text-base text-gray-900 m-0 p-0",children:["ng\xe0y ch\u1ee5p ",i()(k).format("DD-MM-YYYY")]})]})]}),(0,p.jsxs)("table",{className:"mt-4 bg-white border-collapse w-full",children:[(0,p.jsxs)("tr",{children:[(0,p.jsx)("th",{className:"bg-white border text-center px-10 py-4 uppercase",children:"M\xd4 T\u1ea2"}),(0,p.jsx)("th",{className:"bg-white border text-center px-2 py-4 uppercase",children:"S\u1ed0 L\u01b0\u1ee3ng"}),(0,p.jsx)("th",{className:"bg-white border text-center py-4 uppercase",children:"\u0110\u01a0N GI\xc1"}),(0,p.jsx)("th",{className:"bg-white border text-center px-1 py-4 uppercase",children:"DISCOUNT"}),(0,p.jsx)("th",{className:"bg-white border text-center px-2 py-4 uppercase",children:"TH\xc0NH TI\u1ec0N"})]}),null===I||void 0===I?void 0:I.map((function(e,n){return(0,p.jsxs)("tr",{className:"hover:bg-gray-50 focus:bg-gray-300 active:bg-red-200",children:[(0,p.jsx)("td",{className:"border px-6 py-4",children:null===e||void 0===e?void 0:e.value}),(0,p.jsx)("td",{className:"border px-2 py-4 text-center",children:null===e||void 0===e?void 0:e.quantity}),(0,p.jsx)("td",{className:"border px-2 py-4 text-center",children:(0,u.xG)("".concat((null===e||void 0===e?void 0:e.price)||0))}),(0,p.jsxs)("td",{className:"border px-2 py-4 text-center",children:["-",(0,u.xG)("".concat((null===e||void 0===e?void 0:e.discount)||0))]}),(0,p.jsx)("td",{className:"border px-2 py-4 text-center",children:(0,u.xG)("".concat(+(null===e||void 0===e?void 0:e.price)*+(null===e||void 0===e?void 0:e.quantity)-+(null===e||void 0===e?void 0:e.discount)))})]},n)})),null===E||void 0===E?void 0:E.map((function(e,n){return(0,p.jsxs)("tr",{className:"hover:bg-gray-50 focus:bg-gray-300 active:bg-red-200",children:[(0,p.jsx)("td",{className:"border px-6 py-4",children:null===e||void 0===e?void 0:e.value}),(0,p.jsx)("td",{className:"border px-2 py-4 text-center",children:null===e||void 0===e?void 0:e.quantity}),(0,p.jsx)("td",{className:"border px-2 py-4 text-center",children:(0,u.xG)("".concat(null===e||void 0===e?void 0:e.price))}),(0,p.jsxs)("td",{className:"border px-2 py-4 text-center",children:["-",(0,u.xG)("".concat(null===e||void 0===e?void 0:e.discount))]}),(0,p.jsx)("td",{className:"border px-2 py-4 text-center",children:(0,u.xG)("".concat(+(null===e||void 0===e?void 0:e.price)*+(null===e||void 0===e?void 0:e.quantity)-+(null===e||void 0===e?void 0:e.discount)))})]},n)})),(0,p.jsx)("tr",{className:"hover:bg-gray-50 focus:bg-gray-300 active:bg-red-200",children:(0,p.jsxs)("td",{className:"border px-8",colSpan:5,children:[(0,p.jsx)("p",{className:"uppercase text-gray-900 font-semibold",children:"Ghi ch\xfa:"}),function(){var e;return(0,p.jsx)(h,{value:(null===c||void 0===c||null===(e=c[0])||void 0===e?void 0:e.markdown)||""})}()]})}),(0,p.jsxs)("tr",{className:"hover:bg-gray-50 focus:bg-gray-300 active:bg-red-200",children:[(0,p.jsx)("td",{className:"border px-8 py-4",colSpan:2,children:(0,p.jsx)("span",{className:"uppercase text-gray-900 font-semibold",children:"T\u1ed5ng h\u1ee3p \u0111\u1ed3ng"})}),(0,p.jsx)("td",{className:"border px-8 py-4 text-center",colSpan:3,children:(0,p.jsx)("span",{className:"uppercase text-gray-900 font-normal",children:(0,u.xG)("".concat(+f+ +a))})})]}),(0,p.jsxs)("tr",{className:"hover:bg-gray-50 focus:bg-gray-300 active:bg-red-200",children:[(0,p.jsx)("td",{className:"border px-8 py-4",colSpan:2,children:(0,p.jsx)("span",{className:"uppercase text-gray-900 font-semibold",children:"T\u1ed5ng gi\u1ea3m"})}),(0,p.jsx)("td",{className:"border px-8 py-4 text-center",colSpan:3,children:(0,p.jsxs)("span",{className:"uppercase text-gray-900 font-normal",children:["-",(0,u.xG)("".concat(b))]})})]}),(0,p.jsxs)("tr",{className:"hover:bg-gray-50 focus:bg-gray-300 active:bg-red-200",children:[(0,p.jsx)("td",{className:"border px-8 py-4",colSpan:2,children:(0,p.jsx)("span",{className:"uppercase text-gray-900 font-semibold",children:"C\u1ecdc l\u1ea7n 1"})}),(0,p.jsx)("td",{className:"border px-8 py-4 text-center",colSpan:3,children:(0,p.jsx)("span",{className:"uppercase text-gray-900 font-normal",children:(0,l.isNil)(S)&&(0,l.isEmpty)(S)?"--":"".concat((0,u.xG)("".concat(S))," ").concat("--"!==(0,u.xG)("".concat(S))?"- (".concat(i()(Y).format("DD.MM.YYYY"),")"):""," ").concat((0,l.isNil)(P)?"":P)})})]}),(0,p.jsxs)("tr",{className:"hover:bg-gray-50 focus:bg-gray-300 active:bg-red-200",children:[(0,p.jsx)("td",{className:"border px-8 py-4",colSpan:2,children:(0,p.jsx)("span",{className:"uppercase text-gray-900 font-semibold",children:"C\u1ecdc l\u1ea7n 2"})}),(0,p.jsx)("td",{className:"border px-8 py-4 text-center",colSpan:3,children:(0,p.jsx)("span",{className:"uppercase text-gray-900 font-normal",children:(0,l.isNil)(C)&&(0,l.isEmpty)(C)?"--":"".concat((0,u.xG)("".concat(C))," ").concat("--"!==(0,u.xG)("".concat(C))?"- (".concat(i()(z).format("DD-MM-YYYY"),")"):""," ").concat((0,l.isNil)(D)?"":D)})})]}),(0,p.jsxs)("tr",{className:"hover:bg-gray-50 focus:bg-gray-300 active:bg-red-200",children:[(0,p.jsx)("td",{className:"border px-8 py-4",colSpan:2,children:(0,p.jsx)("span",{className:"uppercase text-gray-900 font-semibold",children:"Thanh to\xe1n c\xf2n l\u1ea1i"})}),(0,p.jsx)("td",{className:"border px-8 py-4 text-center",colSpan:3,children:(0,p.jsx)("span",{className:"uppercase text-gray-900 font-normal",children:(0,u.xG)("".concat(+f+ +a-(+b+ +S+ +C)))})})]})]}),(0,p.jsxs)("div",{className:"flex ",children:[(0,p.jsxs)("div",{className:"roxanatech-condition w-1/2",children:[(0,p.jsx)("p",{className:"text-base font-semibold text-gray-900 uppercase",children:"\u0111i\u1ec1u kho\u1ea3n & \u0111i\u1ec1u ki\u1ec7n"}),(0,p.jsxs)("div",{className:"flex flex-row ",children:[(0,p.jsxs)("ul",{className:"p-0 m-0 ml-4",children:[(0,p.jsx)("li",{className:"text-sm",children:"B\xe1o gi\xe1 ch\u01b0a bao g\u1ed3m ph\xe1t sinh di chuy\u1ec3n (n\u1ebfu c\xf3)"}),(0,p.jsx)("li",{className:"text-sm",children:"Kh\xe1ch h\xe0ng m\u1ea5t c\u1ecdc n\u1ebfu \u0111\u01a1n ph\u01b0\u01a1ng t\u1ef1 h\u1ee7y h\u1ee3p \u0111\u1ed3ng v\u1edbi b\u1ea5t c\u1ee9 l\xfd do n\xe0o"})]}),(0,p.jsxs)("ul",{className:"p-0 m-0 ml-6",children:[(0,p.jsx)("li",{className:"text-sm",children:"Th\xf4ng tin \u1edf tr\xean kh\xf4ng ph\u1ea3i l\xe0 h\xf3a \u0111\u01a1n v\xe0 ch\u1ec9 l\xe0 \u01b0\u1edbc t\xednh gi\xe1 tr\u1ecb c\u1ee7a s\u1ea3n ph\u1ea9m/dich v\u1ee5."}),(0,p.jsx)("li",{className:"text-sm",children:"Thanh to\xe1n ph\u1ea3i \u0111\u01b0\u1ee3c ho\xe0n t\u1ea5t tr\u01b0\u1edbc khi cung c\u1ea5p ho\u1eb7c giao s\u1ea3n ph\u1ea9m/d\u1ecbch v\u1ee5."})]})]})]}),(0,p.jsx)("div",{className:"signature w-1/2 h-full",children:(0,p.jsx)("p",{className:"text-base text-gray-900 text-center",children:"Vui l\xf2ng x\xe1c nh\u1eadn \u0111\xe3 nh\u1eadn \u0111\u01b0\u1ee3c b\xe1o gi\xe1 n\xe0y"})})]})]})})},v=c.forwardRef(m),f=t(92362),g=t(78820),b=t(10049),j=function(e){var n=e.getValues,t=c.useRef(null),a=c.useRef(null),i=c.useState(!1),l=(0,r.Z)(i,2),o=l[0],u=l[1],x=c.useState("old boring text"),h=(0,r.Z)(x,2),m=h[0],j=h[1],N=c.useCallback((function(){u(!1)}),[]),y=c.useCallback((function(){u(!0)}),[]),w=c.useCallback((function(){return u(!0),j("Loading new text..."),new Promise((function(e){a.current=e,setTimeout((function(){u(!1),j("New, Updated Text!"),e()}),2e3)}))}),[u,j]),k=c.useCallback((function(){return t.current}),[t.current]),D=(0,s.useReactToPrint)({content:k,documentTitle:"PrintContract",onBeforeGetContent:w,onBeforePrint:y,onAfterPrint:N,removeAfterPrint:!0});return c.useEffect((function(){"New, Updated Text!"===m&&"function"===typeof a.current&&a.current()}),[a.current,m]),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(b.Z,{override:"blue",size:"small",htmlType:"submit",type:"primary",loading:o,icon:(0,p.jsx)(g.XML,{}),onClick:D}),(0,p.jsxs)("div",{className:"flex justify-center items-center",children:[o&&(0,p.jsx)(f.Z,{}),(0,p.jsx)("div",{className:(0,d.cn)(o&&"hidden absolute w-full h-full z-10"),children:(0,p.jsx)(v,{ref:t,loading:o,getValues:n})})]})]})}},47701:function(e,n,t){t.d(n,{x:function(){return o}});var r=t(1413),c=t(44925),s=(t(72791),t(93070)),a=t(61134),i=t(80184),l=["children","control","name","help","hasFeedback"],o=function(e){var n,t,o=e.children,d=e.control,u=e.name,x=e.help,p=e.hasFeedback,h=void 0!==p&&p,m=(0,c.Z)(e,l),v=(0,a.bc)({name:u,control:d}),f=v.field,g=v.fieldState,b=v.formState.errors;return(0,i.jsx)(s.Z.Item,(0,r.Z)((0,r.Z)({hasFeedback:h,name:u,normalize:function(e){return f.onChange(e),e},validateStatus:g.invalid?"error":void 0,help:null!==(n=null===(t=b[u])||void 0===t?void 0:t.message)&&void 0!==n?n:x},m),{},{children:o}))}},93899:function(e,n,t){t.d(n,{cn:function(){return s}});var r=t(86866),c=t(63733);function s(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return(0,r.m)((0,c.W)(n))}},69813:function(e,n,t){t.d(n,{c:function(){return o}});var r=t(74165),c=t(15861),s=t(1413),a=t(20028),i=t(12481),l=t(54174);function o(){var e=(0,i.IO)((0,i.hJ)(l.R,"contract"),(0,i.Xo)("createDate","desc")),n=(0,a.sQ)(["contract"],e),t=n.data,o=[];null===t||void 0===t||t.forEach((function(e){o.push((0,s.Z)({id:e.id},e.data()))}));var d=function(){var e=(0,c.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.refetch();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error("Error refetching wedding dress data:",e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}();return{isError:n.isError,isLoading:n.isLoading,isFetching:n.isFetching,data:o,refetch:d}}},25850:function(e,n,t){t.d(n,{$5:function(){return a},Dw:function(){return s},Gw:function(){return i},Hl:function(){return l},J5:function(){return x},Q_:function(){return v},Rf:function(){return m},cX:function(){return h},k7:function(){return p},uf:function(){return d},xG:function(){return o},yA:function(){return u},z2:function(){return c}});var r=t(763),c=function(){return{pending:"orange",active:"cyan",complete:"green",rejected:"red",canceled:"red"}[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"pending"]},s=function(){return{offline:"gray",online:"green"}[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"offline"]};function a(e){var n,t,r;return e=null===(r=e=null===(n=e)||void 0===n||null===(t=n.normalize("NFD").replace(/[\u0300-\u036f]/g,""))||void 0===t?void 0:t.replace("\u0111","d"))||void 0===r?void 0:r.replace(/\s+/g,"-").toLowerCase()}var i=/^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$/,l=function(e){return/((^(\+84|84|0|0084){1})(3|5|7|8|9))+([0-9]{8})$/.test(e)},o=function(e){return(0,r.isNil)(e)||(0,r.isEmpty)(e)?"--":parseInt(e).toLocaleString("vi-VN",{style:"currency",currency:"VND"})},d=function(e){return 0===e?"".concat(e.toString()):e>=1e9?"".concat((e/1e9).toFixed(0)," t\u1ef7"):e>=1e6?"".concat((e/1e6).toFixed(0)," tr"):"".concat((e/1e3).toFixed(0)," k")},u=function(e,n){var t;return null===e||void 0===e||null===(t=e[n])||void 0===t?void 0:t.includes("create")},x=function(e,n){var t;return null===e||void 0===e||null===(t=e[n])||void 0===t?void 0:t.includes("edit")},p=function(e,n){var t;return null===e||void 0===e||null===(t=e[n])||void 0===t?void 0:t.includes("delete")},h=function(e,n,t){return function(e,n){var t;return null===e||void 0===e||null===(t=e[n])||void 0===t?void 0:t.includes("view")}(t,e)?n:null},m=function(e){return(0,r.chain)(e).replace(/\D/g,"").toArray().takeRight(3).join("").value()},v=function(e){return(0,r.chain)(e).trim().split(/\s+/).last().defaultTo("").value()}}}]);
//# sourceMappingURL=5228.8598f42c.chunk.js.map