{"version":3,"file":"static/js/5748.a71a9aad.chunk.js","mappings":"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","sources":["components/CustomCarousel/index.tsx","components/Form/index.tsx","lib/cs.ts","components/Hero/index.tsx","components/IntroduceStudio/index.tsx","components/Services/ServiceItem.tsx","components/Services/index.tsx","components/Stories/index.tsx","components/Testimonials/index.tsx","pages/ManagerPage/EditPage/HomePage/HeroEditPage.tsx","pages/ManagerPage/EditPage/HomePage/IntroduceStudioEditPage.tsx","pages/ManagerPage/EditPage/HomePage/ServicesEditPage/ServiceEditForm.tsx","pages/ManagerPage/EditPage/HomePage/ServicesEditPage/index.tsx","pages/ManagerPage/EditPage/HomePage/StoriesEditPage/index.tsx","pages/ManagerPage/EditPage/HomePage/TestimonialsEditPage/ReviewerForm.tsx","pages/ManagerPage/EditPage/HomePage/TestimonialsEditPage/index.tsx","components/Stories/PreWeddingDay/index.tsx","components/Stories/WeddingDay/index.tsx","pages/ManagerPage/EditPage/HomePage/StoriesEditPage/PreWeddingEditPage/PreWeddingEditForm.tsx","pages/ManagerPage/EditPage/HomePage/StoriesEditPage/PreWeddingEditPage/index.tsx","pages/ManagerPage/EditPage/HomePage/StoriesEditPage/WeddingEditPage/WeddingEditForm.tsx","pages/ManagerPage/EditPage/HomePage/StoriesEditPage/WeddingEditPage/index.tsx","pages/ManagerPage/EditPage/HomePage/StoriesEditPage/AllWeddingEditPage.tsx","pages/ManagerPage/HomePage/index.tsx","pages/ManagerPage/HomePage/useHomePage.ts"],"sourcesContent":["import { CarouselProps, CarouselRef } from \"antd/es/carousel\";\r\nimport React, { useRef } from \"react\";\r\nimport { Button, Carousel } from \"antd\";\r\nimport { LeftOutlined, RightOutlined } from \"@ant-design/icons\";\r\nimport { colors } from \"../../styles/colors\";\r\n\r\ninterface CustomCarouselProps extends CarouselProps {}\r\n\r\nexport default function CustomCarousel({\r\n  children,\r\n  ...others\r\n}: CustomCarouselProps) {\r\n  const carouselRef = useRef<CarouselRef>(null);\r\n  const handleNextPage = () => {\r\n    carouselRef.current?.next();\r\n  };\r\n  const handlePrevPage = () => {\r\n    carouselRef.current?.prev();\r\n  };\r\n  return (\r\n    <div className=\"relative w-full\">\r\n      <Carousel autoplay ref={carouselRef} {...others}>\r\n        {children}\r\n      </Carousel>\r\n      <div className=\"absolute left-6 top-1/2 transform -translate-x-1/2 -translate-y-1/2\">\r\n        <Button\r\n          onClick={handlePrevPage}\r\n          shape=\"circle\"\r\n          icon={<LeftOutlined size={32} color={colors.primary} />}\r\n        ></Button>\r\n      </div>\r\n      <div className=\"absolute -right-[16px] top-1/2 transform -translate-x-1/2 -translate-y-1/2\">\r\n        <Button\r\n          onClick={handleNextPage}\r\n          shape=\"circle\"\r\n          icon={<RightOutlined color={colors.primary} size={32} />}\r\n        ></Button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\nimport { Form as AntdForm } from 'antd';\nimport type { Control, FieldPath, FieldValues } from 'react-hook-form';\nimport { useController } from 'react-hook-form';\nimport _ from 'lodash'\n\ntype AntdFormItemProps = React.ComponentProps<typeof AntdForm.Item>;\n\nexport type FormItemProps<TFieldValues extends FieldValues = FieldValues> = {\n    children: React.ReactNode;\n    control?: Control<TFieldValues>;\n    name: FieldPath<TFieldValues>;\n} & Omit<AntdFormItemProps, 'name' | 'normalize' | 'rules' | 'validateStatus'>;\n\n// TODO: Support `onBlur` `ref`\n// FIXME: `Touched` does not change in devtool\nexport const FormItem = <TFieldValues extends FieldValues = FieldValues>({\n    children,\n    control,\n    name,\n    help,\n    hasFeedback = false,\n    ...props\n}: FormItemProps<TFieldValues>) => {\n    const { field, fieldState, formState: { errors } } = useController({ name, control });\n    const handleNormalize: AntdFormItemProps['normalize'] = (value) => {\n        field.onChange(value);\n        return value;\n    };\n    return (\n        <AntdForm.Item\n            hasFeedback={hasFeedback}\n            name={name as string}\n            // initialValue={field.value}\n            normalize={handleNormalize}\n            validateStatus={fieldState.invalid ? 'error' : undefined}\n            help={(errors[name]?.message ?? help) as string}\n            {...props}\n        >\n            {children}\n        </AntdForm.Item>\n    );\n};","import { twMerge } from 'tailwind-merge';\nimport { clsx, ClassValue } from 'clsx';\n\nexport function cn(...classes: ClassValue[]) {\n    return twMerge(clsx(classes));\n}\n\n/*\nusage:\n\nimport { cn } from \"@/lib/cn\";\n\nexport const Navbar = ({ fixed }: { fixed: boolean }) => {\n  return (\n    <nav className={cn(\"bg-white\", fixed ?? \"fixed top-0 left-0 right-0\")}>\n      Item\n    </nav>\n  );\n};\n*/","import React from \"react\";\r\nimport CustomCarousel from \"../CustomCarousel\";\r\nimport { Image } from \"antd\";\r\nimport { ImageType } from \"../../models/ContractModel\";\r\n\r\nexport default function Hero({ data }: any) {\r\n  const renderCarousel = () => {\r\n    return data?.map((item: ImageType, index: number) => (\r\n      <div key={index} className=\"h-auto w-full\">\r\n        <img\r\n          alt={item?.alt || \"\"}\r\n          src={item?.url}\r\n          className=\"w-full h-[300px] object-cover\"\r\n        />\r\n      </div>\r\n    ));\r\n  };\r\n  return (\r\n    <>\r\n      <CustomCarousel autoplay>{renderCarousel()}</CustomCarousel>\r\n    </>\r\n  );\r\n}\r\n","import { IntroduceStudioType } from \"../../models/HomePageModal\";\r\n\r\nexport default function IntroduceStudio({\r\n  title,\r\n  subTitle,\r\n  content,\r\n  subContent,\r\n  userName,\r\n  userRole,\r\n}: IntroduceStudioType) {\r\n  return (\r\n    <div className=\"py-16 bg-white text-center px-5\">\r\n      <h2 data-aos=\"fade-down\" className=\"leading-8 uppercase font-dmserif\">\r\n        {title} <br />\r\n        {subTitle}\r\n      </h2>\r\n      <div className=\"w-24 border-t border-gray-500 mx-auto text-center divide-x mt-3\" />\r\n      <div className=\"w-full flex flex-col items-center mt-5 font-sans\">\r\n        <p\r\n          data-aos=\"fade-up\"\r\n          className=\"max-w-screen-sm font-light md:font-normal text-[#464646] italic\"\r\n        >\r\n          {content}\r\n        </p>\r\n        <figure className=\"max-w-screen-md mt-6\" data-aos=\"zoom-in-up\">\r\n          <blockquote>\r\n            <p className=\"text-md font-semibold text-gray-900 font-dmserif\">\r\n              {subContent}\r\n            </p>\r\n          </blockquote>\r\n          <figcaption className=\"flex justify-center mt-6 space-x-3\">\r\n            <div className=\"flex items-center divide-x-2 divide-gray-300\">\r\n              <cite className=\"pr-3 font-medium text-gray-900\">{userName}</cite>\r\n              <cite className=\"pl-3 text-sm text-gray-700\">{userRole}</cite>\r\n            </div>\r\n          </figcaption>\r\n        </figure>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","// import React, { useState } from \"react\";\n// import { ServiceModal } from \"../../models\";\n// import { Image } from \"antd\";\n// import { map } from \"lodash\";\n// import { cn } from \"../../lib/cs\";\n\n// interface IServiceItem extends ServiceModal {\n//   showDescription?: boolean;\n//   btnShowMore?: boolean;\n// }\n\n// export default function ServiceItem({\n//   // image,\n//   url,\n//   alt,\n//   title,\n//   description,\n//   gallery,\n//   showDescription,\n//   btnShowMore,\n// }: IServiceItem) {\n//   const [visible, setVisible] = useState(false);\n//   const handleShowPreviewGroup = () => setVisible(true);\n//   return (\n//     <div\n//       data-aos=\"zoom-in\"\n//       className=\"group relative cursor-pointer items-center justify-center overflow-hidden transition-shadow hover:shadow-xl hover:shadow-black/30\"\n//     >\n//       <div className={`h-[400px] w-[288px]`}>\n//         <Image.PreviewGroup\n//           items={map(gallery, \"url\")}\n//           preview={{\n//             visible,\n//             onVisibleChange: (value) => {\n//               setVisible(value);\n//             },\n//           }}\n//         >\n//           <Image\n//             src={url}\n//             alt={alt}\n//             className=\"object-cover\"\n//             preview={{\n//               mask: null,\n//             }}\n//           />\n//         </Image.PreviewGroup>\n//       </div>\n//       <div className=\"absolute inset-0 bg-gradient-to-b from-transparent via-transparent to-black/5 group-hover:from-black/70 group-hover:via-black/60 group-hover:to-black/70\" />\n//       <div\n//         className={cn(\n//           \"absolute inset-0 flex flex-col items-center justify-center px-9 text-center transition-all duration-500 group-hover:translate-y-0\",\n//           showDescription ? \"translate-y-[65%]\" : \"translate-y-[40%]\"\n//         )}\n//       >\n//         <h2 className=\"font-dmserif text-2xl font-bold text-white\">{title}</h2>\n//         {showDescription && (\n//           <p className=\"mb-3 text-lg italic text-white opacity-0 transition-opacity duration-300 group-hover:opacity-100\">\n//             {description}\n//           </p>\n//         )}\n//         {btnShowMore && (\n//           <button\n//             onClick={handleShowPreviewGroup}\n//             className=\"rounded-full bg-neutral-900 py-2 px-3.5 font-com text-sm capitalize text-white shadow shadow-black/60 cursor-pointer\"\n//           >\n//             Xem thm\n//           </button>\n//         )}\n//       </div>\n//     </div>\n//   );\n// }\n\nimport React, { useState } from \"react\";\nimport { ServiceModal } from \"../../models\";\nimport { Image } from \"antd\";\nimport { map } from \"lodash\";\nimport { cn } from \"../../lib/cs\";\n\ninterface IServiceItem extends ServiceModal {\n  showDescription?: boolean;\n  btnShowMore?: boolean;\n}\n\nexport default function ServiceItem({\n  // image,\n  url,\n  alt,\n  title,\n  description,\n  gallery,\n  showDescription,\n  btnShowMore,\n}: IServiceItem) {\n  const [visible, setVisible] = useState(false);\n  const handleShowPreviewGroup = () => setVisible(true);\n  console.log('url', url)\n  return (\n    <div\n      data-aos=\"zoom-in\"\n      className=\"group w-full h-[400px] relative cursor-pointer items-center justify-center overflow-hidden transition-shadow hover:shadow-xl hover:shadow-black/30\"\n    >\n      <Image.PreviewGroup\n        items={map(gallery, \"url\")}\n        preview={{\n          visible,\n          onVisibleChange: (value) => {\n            setVisible(value);\n          },\n        }}\n      >\n        {/* <div\n          className=\"absolute h-full w-full inset-0 bg-cover bg-no-repeat bg-center transition-transform duration-500 group-hover:rotate-3 group-hover:scale-125\"\n          style={{ backgroundImage: `url(${url})` }}\n        /> */}\n        <img\n          src={url}\n          alt={alt}\n          \n          // width={288}\n          // height={400}\n          className=\"h-full w-full object-cover inset-0 bg-cover bg-no-repeat bg-center transition-transform duration-500 group-hover:rotate-3 group-hover:scale-125\"\n          // className=\"object-cover\"\n          // preview={{\n          //   mask: null,\n          // }}\n        />\n      </Image.PreviewGroup>\n      <div className=\"absolute backdrop-brightness-50 inset-0 bg-gradient-to-b from-transparent via-transparent to-black/5 group-hover:from-black/70 group-hover:via-black/60 group-hover:to-black/70\" />\n      <div\n        className={cn(\n          \"absolute inset-0 flex flex-col items-center justify-center px-9 text-center transition-all duration-500 group-hover:translate-y-0\",\n          showDescription ? \"translate-y-[55%]\" : \"translate-y-[35%]\"\n        )}\n      >\n        <h2 className=\"font-dmserif text-2xl font-bold text-white\">{title}</h2>\n        {showDescription && (\n          <p className=\"mb-3 text-lg italic text-white opacity-0 transition-opacity duration-300 group-hover:opacity-100\">\n            {description}\n          </p>\n        )}\n        {btnShowMore && (\n          <button\n            onClick={handleShowPreviewGroup}\n            className=\"rounded-full bg-neutral-900 py-2 px-3.5 font-com text-sm capitalize text-white shadow shadow-black/60 cursor-pointer\"\n          >\n            Xem thm\n          </button>\n        )}\n      </div>\n    </div>\n  );\n}\n","// import React from \"react\";\n// import ServiceItem from \"./ServiceItem\";\n// import { ServiceModal } from \"../../models\";\n\n// export default function Services({ services }: { services: ServiceModal[] }) {\n//   const data = [\n//     {\n//       image: [\n//         {\n//           id: \"1\",\n//           name: \"Trang im\",\n//           url: \"https://images.unsplash.com/photo-1583939003579-730e3918a45a?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8d2VkZGluZ3xlbnwwfHwwfHx8MA%3D%3D&auto=format&fit=crop&w=800&q=60\",\n//         },\n//       ],\n//       gallery: [\n//         {\n//           id: \"1\",\n//           name: \"Trang diem\",\n//           url: \"https://images.unsplash.com/photo-1583939003579-730e3918a45a?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8d2VkZGluZ3xlbnwwfHwwfHx8MA%3D%3D&auto=format&fit=crop&w=800&q=60\",\n//         },\n//       ],\n//       alt: \"\",\n//       title: \"Trang im\",\n//       description:\n//         \"Ngoi vic la chn vy ci th vi mi c du lp trang im cng v cng quan trng.\",\n//     },\n//     {\n//       image: [\n//         {\n//           id: \"2\",\n//           name: \"Trang im\",\n//           url: \"https://images.unsplash.com/photo-1583939003579-730e3918a45a?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8d2VkZGluZ3xlbnwwfHwwfHx8MA%3D%3D&auto=format&fit=crop&w=800&q=60\",\n//         },\n//       ],\n//       gallery: [\n//         {\n//           id: \"2\",\n//           name: \"Trang diem\",\n//           url: \"https://images.unsplash.com/photo-1583939003579-730e3918a45a?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8d2VkZGluZ3xlbnwwfHwwfHx8MA%3D%3D&auto=format&fit=crop&w=800&q=60\",\n//         },\n//       ],\n//       alt: \"\",\n//       title: \"Trc ngy ci\",\n//       description:\n//         \"Lun dn u vi nhng concept nh ci n tng, cc nhip nh gia ca Mardoll Studio.\",\n//     },\n//     {\n//       image: [\n//         {\n//           id: \"3\",\n//           name: \"Trang im\",\n//           url: \"https://images.unsplash.com/photo-1583939003579-730e3918a45a?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8d2VkZGluZ3xlbnwwfHwwfHx8MA%3D%3D&auto=format&fit=crop&w=800&q=60\",\n//         },\n//       ],\n//       gallery: [\n//         {\n//           id: \"3\",\n//           name: \"Trang diem\",\n//           url: \"https://images.unsplash.com/photo-1583939003579-730e3918a45a?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8d2VkZGluZ3xlbnwwfHwwfHx8MA%3D%3D&auto=format&fit=crop&w=800&q=60\",\n//         },\n//       ],\n//       alt: \"\",\n//       title: \"Ngy ci\",\n//       description:\n//         \"Phng s ci ni cm xc v nhng khonh khc thing ling c lu gi trn vn.\",\n//     },\n//     {\n//       image: [\n//         {\n//           id: \"4\",\n//           name: \"Trang im\",\n//           url: \"https://images.unsplash.com/photo-1583939003579-730e3918a45a?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8d2VkZGluZ3xlbnwwfHwwfHx8MA%3D%3D&auto=format&fit=crop&w=800&q=60\",\n//         },\n//       ],\n//       gallery: [\n//         {\n//           id: \"4\",\n//           name: \"Trang diem\",\n//           url: \"https://images.unsplash.com/photo-1583939003579-730e3918a45a?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8d2VkZGluZ3xlbnwwfHwwfHx8MA%3D%3D&auto=format&fit=crop&w=800&q=60\",\n//         },\n//       ],\n//       alt: \"\",\n//       title: \"o ci\",\n//       description:\n//         \"Mardoll Studio lun mang n nhng chic vy ci v cng t gi  nng ta sng, lng ly ni l ng.\",\n//     },\n//   ];\n//   const renderServices = () => {\n//     return services?.map((item: ServiceModal, index: number) => (\n//       <ServiceItem key={index} showDescription btnShowMore {...item} />\n//     ));\n//   };\n//   return (\n//     <div className=\"flex items-center justify-center bg-white px-5\">\n//       <div className=\"grid grid-cols-1 gap-3 md:grid-cols-2 lg:grid-cols-4\">\n//         {renderServices()}\n//       </div>\n//     </div>\n//   );\n// }\n\nimport React from \"react\";\nimport ServiceItem from \"./ServiceItem\";\nimport { ServiceModal } from \"../../models\";\nimport { cn } from \"../../lib/cs\";\n\nexport default function Services({ services }: { services: ServiceModal[] }) {\n  const data = [\n    {\n      image: [\n        {\n          id: \"1\",\n          name: \"Trang im\",\n          url: \"https://images.unsplash.com/photo-1583939003579-730e3918a45a?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8d2VkZGluZ3xlbnwwfHwwfHx8MA%3D%3D&auto=format&fit=crop&w=800&q=60\",\n        },\n      ],\n      gallery: [\n        {\n          id: \"1\",\n          name: \"Trang diem\",\n          url: \"https://images.unsplash.com/photo-1583939003579-730e3918a45a?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8d2VkZGluZ3xlbnwwfHwwfHx8MA%3D%3D&auto=format&fit=crop&w=800&q=60\",\n        },\n      ],\n      alt: \"\",\n      title: \"Trang im\",\n      description:\n        \"Ngoi vic la chn vy ci th vi mi c du lp trang im cng v cng quan trng.\",\n    },\n    {\n      image: [\n        {\n          id: \"2\",\n          name: \"Trang im\",\n          url: \"https://images.unsplash.com/photo-1583939003579-730e3918a45a?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8d2VkZGluZ3xlbnwwfHwwfHx8MA%3D%3D&auto=format&fit=crop&w=800&q=60\",\n        },\n      ],\n      gallery: [\n        {\n          id: \"2\",\n          name: \"Trang diem\",\n          url: \"https://images.unsplash.com/photo-1583939003579-730e3918a45a?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8d2VkZGluZ3xlbnwwfHwwfHx8MA%3D%3D&auto=format&fit=crop&w=800&q=60\",\n        },\n      ],\n      alt: \"\",\n      title: \"Trc ngy ci\",\n      description:\n        \"Lun dn u vi nhng concept nh ci n tng, cc nhip nh gia ca Mardoll Studio.\",\n    },\n    {\n      image: [\n        {\n          id: \"3\",\n          name: \"Trang im\",\n          url: \"https://images.unsplash.com/photo-1583939003579-730e3918a45a?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8d2VkZGluZ3xlbnwwfHwwfHx8MA%3D%3D&auto=format&fit=crop&w=800&q=60\",\n        },\n      ],\n      gallery: [\n        {\n          id: \"3\",\n          name: \"Trang diem\",\n          url: \"https://images.unsplash.com/photo-1583939003579-730e3918a45a?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8d2VkZGluZ3xlbnwwfHwwfHx8MA%3D%3D&auto=format&fit=crop&w=800&q=60\",\n        },\n      ],\n      alt: \"\",\n      title: \"Ngy ci\",\n      description:\n        \"Phng s ci ni cm xc v nhng khonh khc thing ling c lu gi trn vn.\",\n    },\n    {\n      image: [\n        {\n          id: \"4\",\n          name: \"Trang im\",\n          url: \"https://images.unsplash.com/photo-1583939003579-730e3918a45a?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8d2VkZGluZ3xlbnwwfHwwfHx8MA%3D%3D&auto=format&fit=crop&w=800&q=60\",\n        },\n      ],\n      gallery: [\n        {\n          id: \"4\",\n          name: \"Trang diem\",\n          url: \"https://images.unsplash.com/photo-1583939003579-730e3918a45a?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8d2VkZGluZ3xlbnwwfHwwfHx8MA%3D%3D&auto=format&fit=crop&w=800&q=60\",\n        },\n      ],\n      alt: \"\",\n      title: \"o ci\",\n      description:\n        \"Mardoll Studio lun mang n nhng chic vy ci v cng t gi  nng ta sng, lng ly ni l ng.\",\n    },\n  ];\n  const renderServices = () => {\n    return services?.map((item: ServiceModal, index: number) => (\n      <ServiceItem key={index} showDescription btnShowMore {...item} />\n    ));\n  };\n  const gridColumnNumber: any = {\n    1: \"lg:grid-cols-1\",\n    2: \"lg:grid-cols-2\",\n    3: \"lg:grid-cols-3\",\n    4: \"lg:grid-cols-4\",\n  };\n  return (\n    <div\n      className={cn(\n        \"grid grid-cols-1 gap-3 md:grid-cols-2 lg:grid-cols-4\",\n        gridColumnNumber[services?.length] ?? \"lg:grid-cols-1\"\n      )}\n    >\n      {renderServices()}\n    </div>\n  );\n}\n","import React from \"react\";\nimport { Tabs } from \"antd\";\nimport type { TabsProps } from \"antd\";\nimport PreWeddingDay from \"./PreWeddingDay\";\nimport WeddingDay from \"./WeddingDay\";\nimport { StoriesType } from \"../../models/HomePageModal\";\n\nexport default function Stories({ stories }: { stories: StoriesType }) {\n  // const items: TabsProps[\"items\"] = [\n  //   {\n  //     key: \"1\",\n  //     label: \"PRE WEDDING\",\n  //     children: <PreWeddingDay data={stories?.preWedding || []} />,\n  //   },\n  //   {\n  //     key: \"2\",\n  //     label: \"PHNG S CI\",\n  //     children: <WeddingDay data={stories?.wedding || []} />,\n  //   },\n  // ];\n\n  return (\n    <div className=\"py-16 bg-white text-center px-5\">\n      <h2 data-aos=\"fade-down\" className=\"leading-8 uppercase font-dmserif\">\n        {stories?.title}\n      </h2>\n      <div className=\"w-24 border-t border-gray-500 mx-auto text-center divide-x mt-3\" />\n      <div className=\"w-full flex flex-col items-center my-5 font-sans\">\n        <p\n          data-aos=\"fade-up\"\n          className=\"max-w-screen-sm font-medium md:font-lighttext-gray-700 md:text-[#464646] italic\"\n        >\n          {stories?.content}\n        </p>\n      </div>\n      {/* <Tabs defaultActiveKey=\"1\" centered items={items} /> */}\n    </div>\n  );\n}\n","import { Image } from \"antd\";\nimport CustomCarousel from \"../CustomCarousel\";\nimport { ReviewerType } from \"../../models/HomePageModal\";\n\nexport default function Testimonials({\n  reviewer,\n  titleReviewer,\n}: {\n  reviewer: ReviewerType[];\n  titleReviewer: string;\n}) {\n  const renderReviewer = () => {\n    return reviewer?.map((item, index) => {\n      return (\n        <div key={index} className=\"bg-white text-center\">\n          <p className=\"mx-auto max-w-4xl text-xl italic text-neutral-700\">\n            {item?.content}\n          </p>\n          <div className=\"mb-6 mt-12 flex justify-center\">\n            <div className=\"rounded-full overflow-hidden h-24 w-24\">\n              <Image\n                src={item?.url}\n                alt={item?.alt}\n                width={96}\n                height={96}\n                className=\"w-full h-full object-cover\"\n              />\n            </div>\n          </div>\n          <p className=\"text-neutral-500\">{item?.userName}</p>\n        </div>\n      );\n    });\n  };\n  return (\n    <div className=\"py-16 bg-white text-center px-5\">\n      <h2 data-aos=\"fade-down\" className=\"leading-8 uppercase font-dmserif\">\n        {titleReviewer}\n      </h2>\n      <div className=\"w-24 border-t border-gray-500 mx-auto text-center divide-x mt-3\" />\n      <div className=\"relative pt-6\">\n        <CustomCarousel autoplay dots={false}>\n          {renderReviewer()}\n          {/* <div className=\"bg-white text-center\">\n            <p className=\"mx-auto max-w-4xl text-xl italic text-neutral-700\">\n              \"Gi c ti Mardoll Studio rt hp ti tin cng nh cht lng\n              phc v rt tt!\"\n            </p>\n            <div className=\"mb-6 mt-12 flex justify-center\">\n              <div className=\"rounded-full overflow-hidden h-24 w-24\">\n                <Image\n                  src=\"https://images.unsplash.com/photo-1649183424680-464747a8e43d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8d2VkZGluZ3xlbnwwfHwwfHx8MA%3D%3D&auto=format&fit=crop&w=800&q=60\"\n                  alt=\"User comment\"\n                  width={96}\n                  height={96}\n                  className=\"w-full h-full object-cover\"\n                />\n              </div>\n            </div>\n            <p className=\"text-neutral-500\">on Th Kim Khoa</p>\n          </div> */}\n          {/* <div className=\"bg-white text-center\">\n            <p className=\"mx-auto max-w-4xl text-xl italic text-neutral-700\">\n              \"Ti  s dng dch v ca Mardoll Studio thc s ti rt thch\n              cch lm vic chuyn nghip ca studio ti y!\"\n            </p>\n            <div className=\"mb-6 mt-12 flex justify-center\">\n              <div className=\"rounded-full overflow-hidden h-24 w-24\">\n                <Image\n                  src=\"https://images.unsplash.com/photo-1649183424680-464747a8e43d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8d2VkZGluZ3xlbnwwfHwwfHx8MA%3D%3D&auto=format&fit=crop&w=800&q=60\"\n                  alt=\"User comment\"\n                  width={96}\n                  height={96}\n                  className=\"w-full h-full object-cover\"\n                />\n              </div>\n              <img\n                src='https://images.unsplash.com/photo-1649183424680-464747a8e43d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8d2VkZGluZ3xlbnwwfHwwfHx8MA%3D%3D&auto=format&fit=crop&w=800&q=60'\n                className='h-24 w-24 rounded-full shadow-lg '\n                alt='smaple image'\n              />\n            </div>\n            <p className=\"text-neutral-500\">V Minh t</p>\n          </div> */}\n        </CustomCarousel>\n      </div>\n    </div>\n  );\n}\n","import React, { useEffect, useRef, useState } from \"react\";\r\nimport { Button, Form as FormAntDeisgn, message } from \"antd\";\r\nimport { FormInstance } from \"antd/es/form/Form\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { yupResolver } from \"@hookform/resolvers/yup\";\r\nimport * as yup from \"yup\";\r\nimport type { UploadProps } from \"antd\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\nimport { ref, uploadBytesResumable, getDownloadURL } from \"firebase/storage\";\r\nimport { collection, doc, updateDoc } from \"firebase/firestore\";\r\nimport { firestore, storage } from \"../../../../lib/firebase\";\r\nimport { FormItem } from \"../../../../components/Form\";\r\nimport Dragger from \"antd/es/upload/Dragger\";\r\nimport { InboxOutlined } from \"@ant-design/icons\";\r\nimport { useFirestoreCollectionMutation } from \"@react-query-firebase/firestore\";\r\nimport { isEmpty } from \"lodash\";\r\nimport { HomePageModal } from \"../../../../models\";\r\nimport { useQueryClient } from \"react-query\";\r\nimport { RcFile } from \"antd/es/upload\";\r\n\r\nconst defaultValues = {\r\n  hero: [],\r\n};\r\n\r\nconst schema = yup\r\n  .object({\r\n    hero: yup\r\n      .mixed()\r\n      .required(\"Vui lng upload file hnh nh\")\r\n      .test(\"fileEmpty\", \"Vui lng upload file hnh nh\", (value: any) => {\r\n        if (value?.length === 0) return false;\r\n\r\n        return true;\r\n      }),\r\n  })\r\n  .required();\r\n\r\nexport default function HeroEditPage({ data, refetch, handleCancel }: any) {\r\n  const formRef = useRef<FormInstance>(null);\r\n  const [form] = FormAntDeisgn.useForm();\r\n  const [messageApi, contextHolder] = message.useMessage();\r\n  const [loading, setLoading] = useState(false);\r\n  const [fileList, setFileList] = useState<any[]>([]);\r\n  const homePageRef = collection(firestore, \"homePage\");\r\n  const mutation = useFirestoreCollectionMutation(homePageRef);\r\n  const queryClient = useQueryClient();\r\n\r\n  const {\r\n    control,\r\n    handleSubmit,\r\n    formState: { errors },\r\n    reset,\r\n    getValues,\r\n    setValue,\r\n  } = useForm<any>({\r\n    defaultValues: { hero: data?.[0]?.hero },\r\n    resolver: yupResolver(schema),\r\n  });\r\n  const uuId = uuidv4();\r\n\r\n  useEffect(() => {\r\n    form.setFieldsValue({\r\n      hero: data?.[0]?.hero,\r\n    });\r\n    setFileList(data?.[0]?.hero || []);\r\n  }, [data, form]);\r\n\r\n  const handleUpload = async (info: any) => {\r\n    if (info.file.status === \"done\") {\r\n      setFileList((prev) => [\r\n        ...prev,\r\n        {\r\n          id: uuId,\r\n          url: info.file.url,\r\n          name: info.file.name,\r\n          alt: info.file.name.substr(0, info.file.name.lastIndexOf(\".\")),\r\n        },\r\n      ]);\r\n\r\n      setValue(\"hero\", [\r\n        ...fileList,\r\n        {\r\n          id: uuId,\r\n          url: info.file.url,\r\n          name: info.file.name,\r\n          alt: info.file.name.substr(0, info.file.name.lastIndexOf(\".\")),\r\n        },\r\n      ]);\r\n      message.success(`${info.file.name} file uploaded successfully`);\r\n    } else if (info.file.status === \"error\") {\r\n      message.error(`${info.file.name} file upload failed.`);\r\n    }\r\n  };\r\n\r\n  const customRequest = async ({ file, onSuccess, onError }: any) => {\r\n    try {\r\n      // const storageRef = ref(storage, `/manager-page/${file.name}`);\r\n\r\n      // const uploadTask = uploadBytesResumable(storageRef, file);\r\n\r\n      // uploadTask.on(\r\n      //   \"state_changed\",\r\n      //   (snapshot) => {\r\n      //     const percent = Math.round(\r\n      //       (snapshot.bytesTransferred / snapshot.totalBytes) * 100\r\n      //     );\r\n\r\n      //     // update progress\r\n      //     // setPercent(percent);\r\n      //   },\r\n      //   (err) => console.log(err),\r\n      //   () => {\r\n      //     // download url\r\n      //     getDownloadURL(uploadTask.snapshot.ref).then((url) => {\r\n      //       onSuccess();\r\n      //       handleUpload({\r\n      //         file: {\r\n      //           status: \"done\",\r\n      //           name: file.name,\r\n      //           url,\r\n      //         },\r\n      //       });\r\n      //     });\r\n      //   }\r\n      // );\r\n      const reader = new FileReader();\r\n      reader.readAsDataURL(file);\r\n      reader.onload = (e: any) => {\r\n        const originalImage = new Image() as any;\r\n        originalImage.src = e.target.result;\r\n\r\n        originalImage.onload = () => {\r\n          // Define your desired dimensions\r\n          const maxWidth = 1290;\r\n          const maxHeight = 800;\r\n\r\n          // Calculate the new dimensions while preserving the aspect ratio\r\n          const aspectRatio = originalImage.width / originalImage.height;\r\n          let newWidth, newHeight;\r\n          if (\r\n            originalImage.width > maxWidth ||\r\n            originalImage.height > maxHeight\r\n          ) {\r\n            if (aspectRatio > 1) {\r\n              newWidth = maxWidth;\r\n              newHeight = maxWidth / aspectRatio;\r\n            } else {\r\n              newWidth = maxHeight * aspectRatio;\r\n              newHeight = maxHeight;\r\n            }\r\n          } else {\r\n            newWidth = originalImage.width;\r\n            newHeight = originalImage.height;\r\n          }\r\n\r\n          // Create a canvas element to draw the resized image\r\n          const canvas = document.createElement(\"canvas\");\r\n          const ctx = canvas.getContext(\"2d\") as any;\r\n          canvas.width = newWidth;\r\n          canvas.height = newHeight;\r\n\r\n          // Draw the resized image on the canvas\r\n          ctx.drawImage(originalImage, 0, 0, newWidth, newHeight);\r\n\r\n          // Convert the canvas to a Blob (image file)\r\n          canvas.toBlob((blob: any) => {\r\n            // Create a new File object from the Blob\r\n            const resizedFile = new File([blob], file.name, {\r\n              type: file.type,\r\n            });\r\n            const storageRef = ref(\r\n              storage,\r\n              `/manager-page/${resizedFile.name}`\r\n            );\r\n            const uploadTask = uploadBytesResumable(storageRef, resizedFile);\r\n\r\n            uploadTask.on(\r\n              \"state_changed\",\r\n              (snapshot) => {\r\n                const percent = Math.round(\r\n                  (snapshot.bytesTransferred / snapshot.totalBytes) * 100\r\n                );\r\n\r\n                // update progress\r\n                // setPercent(percent);\r\n              },\r\n              (err) => console.log(err),\r\n              () => {\r\n                // download url\r\n                getDownloadURL(uploadTask.snapshot.ref).then((url) => {\r\n                  onSuccess();\r\n                  handleUpload({\r\n                    file: {\r\n                      status: \"done\",\r\n                      name: resizedFile.name,\r\n                      url,\r\n                    },\r\n                  });\r\n                });\r\n              }\r\n            );\r\n          }, file.type);\r\n        };\r\n      };\r\n    } catch (error) {\r\n      console.error(\"Error uploading file:\", error);\r\n      onError();\r\n    }\r\n  };\r\n  // const resizeImageBeforeUpload = async (file: RcFile, FileList: RcFile[]) => {\r\n  //   return new Promise((resolve) => {\r\n  //     const reader = new FileReader();\r\n\r\n  //     reader.readAsDataURL(file);\r\n  //     reader.onload = (e: any) => {\r\n  //       const originalImage = new Image() as any;\r\n  //       originalImage.src = e.target.result;\r\n\r\n  //       originalImage.onload = () => {\r\n  //         // Define your desired dimensions\r\n  //         const maxWidth = 800;\r\n  //         const maxHeight = 800;\r\n\r\n  //         // Calculate the new dimensions while preserving the aspect ratio\r\n  //         const aspectRatio = originalImage.width / originalImage.height;\r\n  //         let newWidth, newHeight;\r\n  //         if (\r\n  //           originalImage.width > maxWidth ||\r\n  //           originalImage.height > maxHeight\r\n  //         ) {\r\n  //           if (aspectRatio > 1) {\r\n  //             newWidth = maxWidth;\r\n  //             newHeight = maxWidth / aspectRatio;\r\n  //           } else {\r\n  //             newWidth = maxHeight * aspectRatio;\r\n  //             newHeight = maxHeight;\r\n  //           }\r\n  //         } else {\r\n  //           newWidth = originalImage.width;\r\n  //           newHeight = originalImage.height;\r\n  //         }\r\n\r\n  //         // Create a canvas element to draw the resized image\r\n  //         const canvas = document.createElement(\"canvas\");\r\n  //         const ctx = canvas.getContext(\"2d\") as any;\r\n  //         canvas.width = newWidth;\r\n  //         canvas.height = newHeight;\r\n\r\n  //         // Draw the resized image on the canvas\r\n  //         ctx.drawImage(originalImage, 0, 0, newWidth, newHeight);\r\n\r\n  //         // Convert the canvas to a Blob (image file)\r\n  //         canvas.toBlob((blob: any) => {\r\n  //           resolve(new File([blob], file.name, { type: file.type }));\r\n  //         }, file.type);\r\n  //       };\r\n  //     };\r\n  //   });\r\n  // };\r\n  const handleChange: UploadProps[\"onChange\"] = ({ fileList: newFileList }) => {\r\n    if (fileList?.length > 0) {\r\n      const matchingUrls = fileList?.reduce((result: any, image: any) => {\r\n        if (newFileList.some((file: any) => image?.id?.includes(file?.id))) {\r\n          result.push(image);\r\n        }\r\n        return result;\r\n      }, []);\r\n      setFileList(matchingUrls);\r\n      setValue(\"hero\", matchingUrls);\r\n    }\r\n  };\r\n  const props: UploadProps = {\r\n    name: \"file\",\r\n    multiple: true,\r\n    listType: \"picture\",\r\n    // beforeUpload,\r\n    customRequest,\r\n    onChange: handleChange,\r\n    fileList,\r\n    onDrop(e) {\r\n      console.log(\"Dropped files\", e.dataTransfer.files);\r\n    },\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {contextHolder}\r\n      <FormAntDeisgn\r\n        form={form}\r\n        name=\"control-contect-ref\"\r\n        ref={formRef}\r\n        layout=\"vertical\"\r\n        initialValues={defaultValues}\r\n        onFinish={handleSubmit(async (values) => {\r\n          const payload: HomePageModal = {\r\n            ...data[0],\r\n            hero: values?.hero,\r\n          };\r\n          // mutation.mutate(data);\r\n          const docRef = doc(homePageRef, payload.id);\r\n          await updateDoc(docRef, payload);\r\n          queryClient.invalidateQueries(\"homePage\");\r\n          handleCancel?.();\r\n          setTimeout(async () => await refetch(), 300);\r\n          setLoading(true);\r\n          messageApi.open({\r\n            type: \"success\",\r\n            content: \"Chnh sa thnh cng!\",\r\n            duration: 5,\r\n          });\r\n          setLoading(false);\r\n          form.resetFields();\r\n          formRef.current?.resetFields();\r\n          reset();\r\n        })}\r\n      >\r\n        <FormItem\r\n          control={control}\r\n          name=\"hero\"\r\n          // valuePropName='fileList'\r\n          label=\"Upload hnh banner header\"\r\n        >\r\n          <Dragger {...props}>\r\n            <p className=\"ant-upload-drag-icon\">\r\n              <InboxOutlined />\r\n            </p>\r\n            <p className=\"ant-upload-text\">\r\n              Nhp hoc ko tp vo khu vc ny  ti ln\r\n            </p>\r\n            <p className=\"ant-upload-hint\">\r\n              H tr ti ln mt ln hoc hng lot. Nghim cm ti ln d liu\r\n              cng ty hoc cc thng tin khc\r\n            </p>\r\n          </Dragger>\r\n        </FormItem>\r\n        <Button\r\n          loading={loading}\r\n          disabled={!isEmpty(errors)}\r\n          type=\"primary\"\r\n          htmlType=\"submit\"\r\n          block\r\n          size=\"large\"\r\n        >\r\n          Cp nht\r\n        </Button>\r\n      </FormAntDeisgn>\r\n    </>\r\n  );\r\n}\r\n","import React, { useEffect, useRef, useState } from \"react\";\nimport { yupResolver } from \"@hookform/resolvers/yup\";\nimport { Button, Form as FormAntDeisgn, Input, message } from \"antd\";\nimport type { FormInstance } from \"antd/es/form\";\nimport { isEmpty } from \"lodash\";\nimport { useForm } from \"react-hook-form\";\nimport * as yup from \"yup\";\nimport { useQueryClient } from \"react-query\";\nimport { collection, doc, updateDoc } from \"firebase/firestore\";\nimport { FormItem } from \"../../../../components/Form\";\nimport { firestore } from \"../../../../lib/firebase\";\nimport { HomePageModal } from \"../../../../models\";\nimport { useFirestoreCollectionMutation } from \"@react-query-firebase/firestore\";\n\nconst schema = yup\n  .object({\n    title: yup.string().required(\"Vui lng nhp tiu  gii thiu!\"),\n    subTitle: yup.string().required(\"Vui lng nhp tiu  ph!\"),\n    content: yup.string().required(\"Vui lng nhp ni dung\"),\n    subContent: yup.string().required(\"Vui lng nhp ni dung chm ngn\"),\n    userName: yup\n      .string()\n      .required(\"Vui lng nhp tn ngi vit ni dung chm ngn\"),\n    userRole: yup.string().required(\"Vui lng nhp tiu  cng vic\"),\n  })\n  .required();\n\nexport default function IntroduceStudioEditPage({\n  data,\n  handleCancel,\n  refetch,\n}: {\n  data: any;\n  handleCancel: () => void;\n  refetch: () => void;\n}) {\n  const formRef = useRef<FormInstance>(null);\n  const [form] = FormAntDeisgn.useForm();\n  const [messageApi, contextHolder] = message.useMessage();\n  const [loading, setLoading] = useState(false);\n  const homePageRef = collection(firestore, \"homePage\");\n  // const mutation = useFirestoreCollectionMutation(homePageRef);\n  const queryClient = useQueryClient();\n\n  const defaultValues = {\n    title: data?.introduceStudio?.title || \"\",\n    subTitle: data?.introduceStudio?.subTitle || \"\",\n    content: data?.introduceStudio?.content || \"\",\n    subContent: data?.introduceStudio?.subContent || \"\",\n    userName: data?.introduceStudio?.userName || \"\",\n    userRole: data.introduceStudio?.userRole || \"\",\n  };\n\n  useEffect(() => {\n    form.setFieldsValue({\n      title: data?.introduceStudio?.title || \"\",\n      subTitle: data?.introduceStudio?.subTitle || \"\",\n      content: data?.introduceStudio?.content || \"\",\n      subContent: data?.introduceStudio?.subContent || \"\",\n      userName: data?.introduceStudio?.userName || \"\",\n      userRole: data.introduceStudio?.userRole || \"\",\n    });\n  }, [data, form]);\n\n  const {\n    control,\n    handleSubmit,\n    formState: { errors },\n    reset,\n  } = useForm<any>({\n    defaultValues: defaultValues,\n    resolver: yupResolver(schema),\n  });\n\n  return (\n    <>\n      {contextHolder}\n      <FormAntDeisgn\n        form={form}\n        name=\"control-contect-ref\"\n        ref={formRef}\n        layout=\"vertical\"\n        initialValues={defaultValues}\n        onFinish={handleSubmit(async (values: HomePageModal) => {\n          const payload = {\n            ...data,\n            introduceStudio: {\n              ...values,\n            },\n          };\n          const docRef = doc(homePageRef, data.id);\n          await updateDoc(docRef, payload);\n          queryClient.invalidateQueries(\"homePage\");\n          setTimeout(async () => await refetch(), 300);\n          setLoading(true);\n          messageApi.open({\n            type: \"success\",\n            content: \"Cp nhp thnh cng!\",\n            duration: 5,\n          });\n          setLoading(false);\n          handleCancel?.();\n          form.resetFields();\n          formRef.current?.resetFields();\n          reset();\n        })}\n      >\n        <FormItem\n          hasFeedback={false}\n          control={control}\n          name=\"title\"\n          label=\"Tiu \"\n        >\n          <Input.TextArea allowClear placeholder=\"Nhp tiu  gii thiu\" />\n        </FormItem>\n        <FormItem\n          hasFeedback={false}\n          control={control}\n          name=\"subTitle\"\n          label=\"Tiu  ph\"\n        >\n          <Input.TextArea allowClear placeholder=\"Nhp tiu  ph\" />\n        </FormItem>\n        <FormItem\n          hasFeedback={false}\n          control={control}\n          name=\"content\"\n          label=\"Ni dung\"\n        >\n          <Input.TextArea allowClear placeholder=\"Nhp ni dung\" />\n        </FormItem>\n        <FormItem\n          hasFeedback={false}\n          control={control}\n          name=\"subContent\"\n          label=\"Ni dung chm ngn\"\n        >\n          <Input.TextArea allowClear placeholder=\"Nhp ni dung chm ngn\" />\n        </FormItem>\n        <div className=\"grid grid-cols-1 xl:grid-cols-2 xl:gap-6\">\n          <FormItem\n            hasFeedback={false}\n            control={control}\n            name=\"userName\"\n            label=\"Tn ngi vit\"\n          >\n            <Input.TextArea\n              allowClear\n              placeholder=\"Nhp tn ngi vit ni dung chm ngn\"\n            />\n          </FormItem>\n          <FormItem\n            hasFeedback={false}\n            control={control}\n            name=\"userRole\"\n            label=\"Tiu  cng vic\"\n          >\n            <Input.TextArea allowClear placeholder=\"Nhp tiu  cng vic\" />\n          </FormItem>\n        </div>\n\n        <Button\n          loading={loading}\n          disabled={!isEmpty(errors)}\n          type=\"primary\"\n          htmlType=\"submit\"\n          block\n          size=\"large\"\n        >\n          Cp nht\n        </Button>\n      </FormAntDeisgn>\n    </>\n  );\n}\n","import React, { useEffect, useRef, useState } from \"react\";\nimport { InboxOutlined, UploadOutlined } from \"@ant-design/icons\";\nimport { yupResolver } from \"@hookform/resolvers/yup\";\nimport {\n  Button,\n  Form as FormAntDeisgn,\n  Input,\n  Upload,\n  UploadProps,\n  message,\n} from \"antd\";\nimport type { FormInstance } from \"antd/es/form\";\nimport Dragger from \"antd/es/upload/Dragger\";\nimport { collection, doc, updateDoc } from \"firebase/firestore\";\nimport { getDownloadURL, ref, uploadBytesResumable } from \"firebase/storage\";\nimport { assign, find, isEmpty, map } from \"lodash\";\nimport { useForm } from \"react-hook-form\";\nimport { useQueryClient } from \"react-query\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport * as yup from \"yup\";\nimport { FormItem } from \"../../../../../components/Form\";\nimport { firestore, storage } from \"../../../../../lib/firebase\";\n\nconst schema = yup\n  .object({\n    serviceTitle: yup.string().required(\"Vui lng nhp tiu  gii thiu!\"),\n    serviceDescription: yup.string().required(\"Vui lng nhp tiu  ph!\"),\n    serviceGallery: yup\n      .mixed()\n      .required(\"Vui lng upload file hnh nh\")\n      .test(\"fileEmpty\", \"Vui lng upload file hnh nh\", (value: any) => {\n        if (value?.length === 0) return false;\n\n        return true;\n      }),\n    serviceUrl: yup\n      .mixed()\n      .required(\"Vui lng upload file hnh nh\")\n      .test(\"fileEmpty\", \"Vui lng upload file hnh nh\", (value: any) => {\n        if (value?.length === 0) return false;\n\n        return true;\n      }),\n  })\n  .required();\n\nexport default function ServiceEditForm({\n  data,\n  file,\n  handleCancel,\n  refetch,\n}: {\n  data: any;\n  file: any;\n  handleCancel: () => void;\n  refetch: () => void;\n}) {\n  const serviceItem = find(data?.services, { id: file?.id }) || {};\n  const defaultUrlItem = {\n    id: uuidv4(),\n    uid: uuidv4(),\n    status: \"done\",\n    url: serviceItem?.url,\n    name: serviceItem?.name,\n    alt: serviceItem?.alt,\n  };\n  const formRef = useRef<FormInstance>(null);\n  const [form] = FormAntDeisgn.useForm();\n  const [messageApi, contextHolder] = message.useMessage();\n  const [loading, setLoading] = useState(false);\n  const [fileList, setFileList] = useState<any[]>([]);\n  const [fileListUrl, setFileListUrl] = useState<any[]>([defaultUrlItem]);\n  const homePageRef = collection(firestore, \"homePage\");\n  //   const mutation = useFirestoreCollectionMutation(homePageRef);\n  const queryClient = useQueryClient();\n\n  const defaultValues = {\n    serviceTitle: serviceItem?.serviceTitle || \"\",\n    serviceDescription: serviceItem?.description || \"\",\n    serviceGallery: serviceItem?.gallery || [],\n    serviceUrl: [defaultUrlItem],\n  };\n\n  const {\n    control,\n    handleSubmit,\n    formState: { errors },\n    reset,\n    setValue,\n  } = useForm<any>({\n    defaultValues: defaultValues,\n    resolver: yupResolver(schema),\n  });\n\n  useEffect(() => {\n    form.setFieldsValue({\n      serviceTitle: serviceItem?.title || \"\",\n      serviceDescription: serviceItem?.description || \"\",\n      serviceGallery: serviceItem?.gallery || [],\n      serviceUrl: [serviceItem?.url] || [],\n    });\n    setFileList(serviceItem?.gallery || []);\n    setFileListUrl([defaultUrlItem] || []);\n  }, [serviceItem, form]);\n\n  //   useEffect(() => {\n  //     form.setFieldsValue({\n  //       services: data?.[0]?.hero,\n  //     });\n  //     setFileList(data?.[0]?.hero);\n  //   }, [data, form]);\n\n  const handleUpload = async (info: any) => {\n    if (info.file.status === \"done\") {\n      setFileList((prev) => [\n        ...prev,\n        {\n          id: uuidv4(),\n          url: info.file.url,\n          name: info.file.name,\n          alt: info.file.name.substr(0, info.file.name.lastIndexOf(\".\")),\n        },\n      ]);\n      setValue(\"serviceGallery\", [\n        ...fileList,\n        {\n          id: uuidv4(),\n          url: info.file.url,\n          name: info.file.name,\n          alt: info.file.name.substr(0, info.file.name.lastIndexOf(\".\")),\n        },\n      ]);\n      message.success(`${info.file.name} file uploaded successfully`);\n    } else if (info.file.status === \"error\") {\n      message.error(`${info.file.name} file upload failed.`);\n    }\n  };\n\n  const customRequest = async ({ file, onSuccess, onError }: any) => {\n    try {\n      // const storageRef = ref(storage, `/manager-page/${file.name}`);\n\n      // const uploadTask = uploadBytesResumable(storageRef, file);\n\n      // uploadTask.on(\n      //   \"state_changed\",\n      //   (snapshot) => {\n      //     const percent = Math.round(\n      //       (snapshot.bytesTransferred / snapshot.totalBytes) * 100\n      //     );\n\n      //     // update progress\n      //     // setPercent(percent);\n      //   },\n      //   (err) => console.log(err),\n      //   () => {\n      //     // download url\n      //     getDownloadURL(uploadTask.snapshot.ref).then((url) => {\n      //       onSuccess();\n      //       handleUpload({\n      //         file: {\n      //           status: \"done\",\n      //           name: file.name,\n      //           url,\n      //         },\n      //       });\n      //     });\n      //   }\n      // );\n      const reader = new FileReader();\n      reader.readAsDataURL(file);\n      reader.onload = (e: any) => {\n        const originalImage = new Image() as any;\n        originalImage.src = e.target.result;\n\n        originalImage.onload = () => {\n          // Define your desired dimensions\n          const maxWidth = 800;\n          const maxHeight = 800;\n\n          // Calculate the new dimensions while preserving the aspect ratio\n          const aspectRatio = originalImage.width / originalImage.height;\n          let newWidth, newHeight;\n          if (\n            originalImage.width > maxWidth ||\n            originalImage.height > maxHeight\n          ) {\n            if (aspectRatio > 1) {\n              newWidth = maxWidth;\n              newHeight = maxWidth / aspectRatio;\n            } else {\n              newWidth = maxHeight * aspectRatio;\n              newHeight = maxHeight;\n            }\n          } else {\n            newWidth = originalImage.width;\n            newHeight = originalImage.height;\n          }\n\n          // Create a canvas element to draw the resized image\n          const canvas = document.createElement(\"canvas\");\n          const ctx = canvas.getContext(\"2d\") as any;\n          canvas.width = newWidth;\n          canvas.height = newHeight;\n\n          // Draw the resized image on the canvas\n          ctx.drawImage(originalImage, 0, 0, newWidth, newHeight);\n\n          // Convert the canvas to a Blob (image file)\n          canvas.toBlob((blob: any) => {\n            // Create a new File object from the Blob\n            const resizedFile = new File([blob], file.name, {\n              type: file.type,\n            });\n            const storageRef = ref(\n              storage,\n              `/manager-page/${resizedFile.name}`\n            );\n            const uploadTask = uploadBytesResumable(storageRef, resizedFile);\n\n            uploadTask.on(\n              \"state_changed\",\n              (snapshot) => {\n                const percent = Math.round(\n                  (snapshot.bytesTransferred / snapshot.totalBytes) * 100\n                );\n\n                // update progress\n                // setPercent(percent);\n              },\n              (err) => console.log(err),\n              () => {\n                // download url\n                getDownloadURL(uploadTask.snapshot.ref).then((url) => {\n                  onSuccess();\n                  handleUpload({\n                    file: {\n                      status: \"done\",\n                      name: resizedFile.name,\n                      url,\n                    },\n                  });\n                });\n              }\n            );\n          }, file.type);\n        };\n      };\n    } catch (error) {\n      console.error(\"Error uploading file:\", error);\n      onError();\n    }\n  };\n  const handleChange: UploadProps[\"onChange\"] = ({ fileList: newFileList }) => {\n    if (fileList.length > 0) {\n      const matchingUrls = fileList?.reduce((result: any, image: any) => {\n        if (newFileList.some((file: any) => image?.id?.includes(file?.id))) {\n          result.push(image);\n        }\n        return result;\n      }, []);\n      setFileList(matchingUrls);\n      setValue(\"serviceGallery\", matchingUrls);\n    }\n  };\n\n  const props: UploadProps = {\n    name: \"file\",\n    multiple: true,\n    listType: \"picture\",\n    // beforeUpload,\n    customRequest,\n    onChange: handleChange,\n    fileList,\n    onDrop(e) {\n      console.log(\"Dropped files\", e.dataTransfer.files);\n    },\n  };\n\n  // url\n\n  const handleUploadUrl = async (info: any) => {\n    if (info.file.status === \"done\") {\n      setFileListUrl([\n        {\n          id: uuidv4(),\n          url: info.file.url,\n          name: info.file.name,\n          alt: info.file.name.substr(0, info.file.name.lastIndexOf(\".\")),\n        },\n      ]);\n      setValue(\"serviceUrl\", [\n        {\n          id: uuidv4(),\n          url: info.file.url,\n          name: info.file.name,\n          alt: info.file.name.substr(0, info.file.name.lastIndexOf(\".\")),\n        },\n      ]);\n      message.success(`${info.file.name} file uploaded successfully`);\n    } else if (info.file.status === \"error\") {\n      message.error(`${info.file.name} file upload failed.`);\n    }\n  };\n\n  const customRequestUrl = async ({ file, onSuccess, onError }: any) => {\n    try {\n      // const storageRef = ref(storage, `/manager-page/${file.name}`);\n\n      // const uploadTask = uploadBytesResumable(storageRef, file);\n\n      // uploadTask.on(\n      //   \"state_changed\",\n      //   (snapshot) => {\n      //     const percent = Math.round(\n      //       (snapshot.bytesTransferred / snapshot.totalBytes) * 100\n      //     );\n\n      //     // update progress\n      //     // setPercent(percent);\n      //   },\n      //   (err) => console.log(err),\n      //   () => {\n      //     // download url\n      //     getDownloadURL(uploadTask.snapshot.ref).then((url) => {\n      //       onSuccess();\n      //       handleUploadUrl({\n      //         file: {\n      //           status: \"done\",\n      //           name: file.name,\n      //           url,\n      //         },\n      //       });\n      //     });\n      //   }\n      // );\n      const reader = new FileReader();\n      reader.readAsDataURL(file);\n      reader.onload = (e: any) => {\n        const originalImage = new Image() as any;\n        originalImage.src = e.target.result;\n\n        originalImage.onload = () => {\n          // Define your desired dimensions\n          const maxWidth = 800;\n          const maxHeight = 800;\n\n          // Calculate the new dimensions while preserving the aspect ratio\n          const aspectRatio = originalImage.width / originalImage.height;\n          let newWidth, newHeight;\n          if (\n            originalImage.width > maxWidth ||\n            originalImage.height > maxHeight\n          ) {\n            if (aspectRatio > 1) {\n              newWidth = maxWidth;\n              newHeight = maxWidth / aspectRatio;\n            } else {\n              newWidth = maxHeight * aspectRatio;\n              newHeight = maxHeight;\n            }\n          } else {\n            newWidth = originalImage.width;\n            newHeight = originalImage.height;\n          }\n\n          // Create a canvas element to draw the resized image\n          const canvas = document.createElement(\"canvas\");\n          const ctx = canvas.getContext(\"2d\") as any;\n          canvas.width = newWidth;\n          canvas.height = newHeight;\n\n          // Draw the resized image on the canvas\n          ctx.drawImage(originalImage, 0, 0, newWidth, newHeight);\n\n          // Convert the canvas to a Blob (image file)\n          canvas.toBlob((blob: any) => {\n            // Create a new File object from the Blob\n            const resizedFile = new File([blob], file.name, {\n              type: file.type,\n            });\n            const storageRef = ref(\n              storage,\n              `/manager-page/${resizedFile.name}`\n            );\n            const uploadTask = uploadBytesResumable(storageRef, resizedFile);\n\n            uploadTask.on(\n              \"state_changed\",\n              (snapshot) => {\n                const percent = Math.round(\n                  (snapshot.bytesTransferred / snapshot.totalBytes) * 100\n                );\n\n                // update progress\n                // setPercent(percent);\n              },\n              (err) => console.log(err),\n              () => {\n                // download url\n                getDownloadURL(uploadTask.snapshot.ref).then((url) => {\n                  onSuccess();\n                  handleUploadUrl({\n                    file: {\n                      status: \"done\",\n                      name: resizedFile.name,\n                      url,\n                    },\n                  });\n                });\n              }\n            );\n          }, file.type);\n        };\n      };\n    } catch (error) {\n      console.error(\"Error uploading file:\", error);\n      onError();\n    }\n  };\n  const handleChangeUrl: UploadProps[\"onChange\"] = ({\n    fileList: newFileList,\n  }) => {\n    if (fileList.length > 0) {\n      const matchingUrls = fileListUrl?.reduce((result: any, image: any) => {\n        if (newFileList.some((file: any) => image?.id?.includes(file?.id))) {\n          result.push(image);\n        }\n        return result;\n      }, []);\n      setFileListUrl(matchingUrls);\n      setValue(\"serviceUrl\", matchingUrls);\n    }\n  };\n\n  const urlProps: UploadProps = {\n    name: \"file\",\n    multiple: false,\n    listType: \"picture\",\n    // beforeUpload,\n    customRequest: customRequestUrl,\n    onChange: handleChangeUrl,\n    fileList: fileListUrl,\n    onDrop(e) {\n      console.log(\"Dropped files\", e.dataTransfer.files);\n    },\n  };\n\n  return (\n    <>\n      {contextHolder}\n      <FormAntDeisgn\n        form={form}\n        name=\"control-service-edit-ref\"\n        ref={formRef}\n        layout=\"vertical\"\n        initialValues={defaultValues}\n        onFinish={handleSubmit(async (values: any) => {\n          const newServiceItem = map(data?.services, (item) => {\n            if (item.id === file.id) {\n              return assign({}, item, {\n                name: fileListUrl?.[0]?.name || fileListUrl?.[0]?.url,\n                alt: fileListUrl?.[0]?.alt || \"\",\n                url: fileListUrl?.[0]?.url || \"\",\n                title: values.serviceTitle,\n                description: values.serviceDescription,\n                gallery: fileList,\n              });\n            }\n            return item;\n          });\n\n          const payload = {\n            ...data,\n            services: newServiceItem,\n          };\n          const docRef = doc(homePageRef, data.id);\n          await updateDoc(docRef, payload);\n          queryClient.invalidateQueries(\"homePage\");\n          setTimeout(async () => await refetch(), 300);\n          setLoading(true);\n          messageApi.open({\n            type: \"success\",\n            content: \"Cp nhp thnh cng!\",\n            duration: 5,\n          });\n          setLoading(false);\n          handleCancel?.();\n          form.resetFields();\n          formRef.current?.resetFields();\n          reset();\n        })}\n      >\n        <FormItem\n          control={control}\n          name=\"serviceUrl\"\n          // valuePropName='fileList'\n          label=\"Upload hnh chnh v\"\n        >\n          <Upload {...urlProps}>\n            <Button icon={<UploadOutlined />}>Upload</Button>\n          </Upload>\n        </FormItem>\n        <FormItem\n          hasFeedback={false}\n          control={control}\n          name=\"serviceTitle\"\n          label=\"Tiu \"\n        >\n          <Input.TextArea allowClear placeholder=\"Nhp tiu  dch v\" />\n        </FormItem>\n        <FormItem\n          hasFeedback={false}\n          control={control}\n          name=\"serviceDescription\"\n          label=\"Ni dung\"\n        >\n          <Input.TextArea allowClear placeholder=\"Nhp ni dung\" />\n        </FormItem>\n        <FormItem\n          control={control}\n          name=\"serviceGallery\"\n          // valuePropName='fileList'\n          label=\"Upload hnh banner header\"\n        >\n          <Dragger {...props}>\n            <p className=\"ant-upload-drag-icon\">\n              <InboxOutlined />\n            </p>\n            <p className=\"ant-upload-text\">\n              Nhp hoc ko tp vo khu vc ny  ti ln\n            </p>\n            <p className=\"ant-upload-hint\">\n              H tr ti ln mt ln hoc hng lot. Nghim cm ti ln d liu\n              cng ty hoc cc thng tin khc\n            </p>\n          </Dragger>\n        </FormItem>\n\n        <Button\n          loading={loading}\n          disabled={!isEmpty(errors)}\n          type=\"primary\"\n          htmlType=\"submit\"\n          block\n          size=\"large\"\n        >\n          Cp nht\n        </Button>\n      </FormAntDeisgn>\n    </>\n  );\n}\n","import React, { useEffect, useRef, useState } from \"react\";\nimport {\n  Button,\n  Form as FormAntDeisgn,\n  Modal,\n  UploadFile,\n  message,\n} from \"antd\";\nimport { FormInstance } from \"antd/es/form/Form\";\nimport { useForm } from \"react-hook-form\";\nimport { yupResolver } from \"@hookform/resolvers/yup\";\nimport * as yup from \"yup\";\nimport type { UploadProps } from \"antd\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport { ref, uploadBytesResumable, getDownloadURL } from \"firebase/storage\";\nimport { collection, doc, updateDoc } from \"firebase/firestore\";\nimport { firestore, storage } from \"../../../../../lib/firebase\";\nimport { FormItem } from \"../../../../../components/Form\";\nimport Dragger from \"antd/es/upload/Dragger\";\nimport { InboxOutlined } from \"@ant-design/icons\";\n// import { useFirestoreCollectionMutation } from \"@react-query-firebase/firestore\";\nimport { isEmpty } from \"lodash\";\nimport { HomePageModal, ServiceModal } from \"../../../../../models\";\nimport { useQueryClient } from \"react-query\";\nimport ServiceEditForm from \"./ServiceEditForm\";\nimport { useFirestoreCollectionMutation } from \"@react-query-firebase/firestore\";\n\nconst defaultValues = {\n  services: [],\n};\n\nconst schema = yup\n  .object({\n    services: yup.mixed(),\n    // .required(\"Vui lng upload file hnh nh\")\n    // .test(\"fileEmpty\", \"Vui lng upload file hnh nh\", (value: any) => {\n    //   if (value?.length === 0) return false;\n\n    //   return true;\n    // }),\n  })\n  .required();\n\ninterface DraggableUploadListItemProps {\n  originNode: React.ReactElement<\n    any,\n    string | React.JSXElementConstructor<any>\n  >;\n  file: UploadFile<any>;\n}\n\nexport default function ServicesEditPage({ data, refetch, handleCancel }: any) {\n  const formRef = useRef<FormInstance>(null);\n  const [form] = FormAntDeisgn.useForm();\n  const [messageApi, contextHolder] = message.useMessage();\n  const [loading, setLoading] = useState(false);\n  const [fileList, setFileList] = useState<any[]>([]);\n  const homePageRef = collection(firestore, \"homePage\");\n  // const mutation = useFirestoreCollectionMutation(homePageRef);\n  const queryClient = useQueryClient();\n  const [itemFile, setItemFile] = useState<any>({});\n\n  const [isOpen, setIsOpen] = useState(false);\n\n  const {\n    control,\n    handleSubmit,\n    formState: { errors },\n    reset,\n    getValues,\n    setValue,\n  } = useForm<any>({\n    defaultValues: { services: data?.[0].services || [] },\n    resolver: yupResolver(schema),\n  });\n  const uuId = uuidv4();\n\n  useEffect(() => {\n    form.setFieldsValue({\n      services: data?.[0]?.services || [],\n    });\n    setFileList(data?.[0]?.services || []);\n  }, [data, form]);\n\n  const handleUpload = async (info: any) => {\n    if (info.file.status === \"done\") {\n      setFileList((prev) => [\n        ...prev,\n        {\n          id: uuidv4(),\n          url: info.file.url,\n          name: info.file.name,\n          alt: info.file.name.substr(0, info.file.name.lastIndexOf(\".\")),\n        },\n      ]);\n      setValue(\"services\", [\n        ...fileList,\n        {\n          id: uuidv4(),\n          url: info.file.url,\n          name: info.file.name,\n          alt: info.file.name.substr(0, info.file.name.lastIndexOf(\".\")),\n        },\n      ]);\n      message.success(`${info.file.name} file uploaded successfully`);\n    } else if (info.file.status === \"error\") {\n      message.error(`${info.file.name} file upload failed.`);\n    }\n  };\n\n  const customRequest = async ({ file, onSuccess, onError }: any) => {\n    try {\n      // const storageRef = ref(storage, `/manager-page/${file.name}`);\n\n      // const uploadTask = uploadBytesResumable(storageRef, file);\n\n      // uploadTask.on(\n      //   \"state_changed\",\n      //   (snapshot) => {\n      //     const percent = Math.round(\n      //       (snapshot.bytesTransferred / snapshot.totalBytes) * 100\n      //     );\n\n      //     // update progress\n      //     // setPercent(percent);\n      //   },\n      //   (err) => console.log(err),\n      //   () => {\n      //     // download url\n      //     getDownloadURL(uploadTask.snapshot.ref).then((url) => {\n      //       onSuccess();\n      //       handleUpload({\n      //         file: {\n      //           status: \"done\",\n      //           name: file.name,\n      //           url,\n      //         },\n      //       });\n      //     });\n      //   }\n      // );\n      const reader = new FileReader();\n      reader.readAsDataURL(file);\n      reader.onload = (e: any) => {\n        const originalImage = new Image() as any;\n        originalImage.src = e.target.result;\n\n        originalImage.onload = () => {\n          // Define your desired dimensions\n          const maxWidth = 800;\n          const maxHeight = 800;\n\n          // Calculate the new dimensions while preserving the aspect ratio\n          const aspectRatio = originalImage.width / originalImage.height;\n          let newWidth, newHeight;\n          if (\n            originalImage.width > maxWidth ||\n            originalImage.height > maxHeight\n          ) {\n            if (aspectRatio > 1) {\n              newWidth = maxWidth;\n              newHeight = maxWidth / aspectRatio;\n            } else {\n              newWidth = maxHeight * aspectRatio;\n              newHeight = maxHeight;\n            }\n          } else {\n            newWidth = originalImage.width;\n            newHeight = originalImage.height;\n          }\n\n          // Create a canvas element to draw the resized image\n          const canvas = document.createElement(\"canvas\");\n          const ctx = canvas.getContext(\"2d\") as any;\n          canvas.width = newWidth;\n          canvas.height = newHeight;\n\n          // Draw the resized image on the canvas\n          ctx.drawImage(originalImage, 0, 0, newWidth, newHeight);\n\n          // Convert the canvas to a Blob (image file)\n          canvas.toBlob((blob: any) => {\n            // Create a new File object from the Blob\n            const resizedFile = new File([blob], file.name, {\n              type: file.type,\n            });\n            const storageRef = ref(\n              storage,\n              `/manager-page/${resizedFile.name}`\n            );\n            const uploadTask = uploadBytesResumable(storageRef, resizedFile);\n\n            uploadTask.on(\n              \"state_changed\",\n              (snapshot) => {\n                const percent = Math.round(\n                  (snapshot.bytesTransferred / snapshot.totalBytes) * 100\n                );\n\n                // update progress\n                // setPercent(percent);\n              },\n              (err) => console.log(err),\n              () => {\n                // download url\n                getDownloadURL(uploadTask.snapshot.ref).then((url) => {\n                  onSuccess();\n                  handleUpload({\n                    file: {\n                      status: \"done\",\n                      name: resizedFile.name,\n                      url,\n                    },\n                  });\n                });\n              }\n            );\n          }, file.type);\n        };\n      };\n    } catch (error) {\n      console.error(\"Error uploading file:\", error);\n      onError();\n    }\n  };\n  const handleChange: UploadProps[\"onChange\"] = ({ fileList: newFileList }) => {\n    if (fileList.length > 0) {\n      const matchingUrls = fileList?.reduce((result: any, image: any) => {\n        if (newFileList.some((file: any) => image?.id?.includes(file?.id))) {\n          result.push(image);\n        }\n        return result;\n      }, []);\n      setFileList(matchingUrls);\n      setValue(\"services\", matchingUrls);\n    }\n  };\n  const props: UploadProps = {\n    name: \"file\",\n    multiple: true,\n    listType: \"picture\",\n    // beforeUpload,\n    customRequest,\n    onChange: handleChange,\n    fileList,\n    onDrop(e) {\n      console.log(\"Dropped files\", e.dataTransfer.files);\n    },\n  };\n\n  const handleShowModalForm = (item: any) => () => {\n    setIsOpen(true);\n    setItemFile(item);\n  };\n\n  const handleCloseModalForm = () => {\n    setIsOpen(false);\n  };\n\n  const DraggableUploadListItem = ({\n    originNode,\n    file,\n  }: DraggableUploadListItemProps) => {\n    return (\n      <div className=\"mt-2\">\n        {originNode}\n        <Button onClick={handleShowModalForm(file)}>Chnh sa</Button>\n      </div>\n    );\n  };\n\n  return (\n    <>\n      {contextHolder}\n      <FormAntDeisgn\n        form={form}\n        name=\"control-contect-ref\"\n        ref={formRef}\n        layout=\"vertical\"\n        initialValues={defaultValues}\n        onFinish={handleSubmit(async (values) => {\n          const newServices = fileList?.map((item: any) => {\n            if (isEmpty(item?.title)) {\n              return {\n                ...item,\n                title: \"\",\n                description: \"\",\n                gallery: [],\n              };\n            }\n            return item;\n          });\n          const payload: HomePageModal = {\n            ...data[0],\n            services: newServices || [],\n          };\n          const docRef = doc(homePageRef, payload.id);\n          await updateDoc(docRef, payload);\n          queryClient.invalidateQueries(\"homePage\");\n          handleCancel?.();\n          setTimeout(async () => await refetch(), 300);\n          setLoading(true);\n          messageApi.open({\n            type: \"success\",\n            content: \"Chnh sa thnh cng!\",\n            duration: 5,\n          });\n          setLoading(false);\n          form.resetFields();\n          formRef.current?.resetFields();\n          reset();\n        })}\n      >\n        <FormItem\n          control={control}\n          name=\"services\"\n          // valuePropName='fileList'\n          label=\"Upload hnh nh dch v\"\n        >\n          <Dragger\n            {...props}\n            itemRender={(originNode, file) => {\n              return (\n                <DraggableUploadListItem originNode={originNode} file={file} />\n              );\n            }}\n          >\n            <p className=\"ant-upload-drag-icon\">\n              <InboxOutlined />\n            </p>\n            <p className=\"ant-upload-text\">\n              Nhp hoc ko tp vo khu vc ny  ti ln\n            </p>\n            <p className=\"ant-upload-hint\">\n              H tr ti ln mt ln hoc hng lot. Nghim cm ti ln d liu\n              cng ty hoc cc thng tin khc\n            </p>\n          </Dragger>\n        </FormItem>\n        <Button\n          loading={loading}\n          disabled={!isEmpty(errors)}\n          type=\"primary\"\n          htmlType=\"submit\"\n          block\n          size=\"large\"\n        >\n          Chnh sa\n        </Button>\n      </FormAntDeisgn>\n      <Modal\n        centered\n        bodyStyle={{ overflowY: \"scroll\", height: \"calc(100vh - 250px)\" }}\n        footer={null}\n        open={isOpen}\n        onCancel={handleCloseModalForm}\n        title=\"Chnh sa thng tin dch v\"\n      >\n        <ServiceEditForm\n          refetch={refetch}\n          data={data[0]}\n          file={itemFile}\n          handleCancel={handleCloseModalForm}\n        />\n      </Modal>\n    </>\n  );\n}\n","import React, { useEffect, useRef, useState } from \"react\";\nimport { yupResolver } from \"@hookform/resolvers/yup\";\nimport {\n  Button,\n  Form as FormAntDeisgn,\n  Input,\n  Tabs,\n  TabsProps,\n  message,\n} from \"antd\";\nimport type { FormInstance } from \"antd/es/form\";\nimport { isEmpty } from \"lodash\";\nimport { useForm } from \"react-hook-form\";\nimport * as yup from \"yup\";\nimport { useQueryClient } from \"react-query\";\nimport { collection, doc, updateDoc } from \"firebase/firestore\";\nimport { FormItem } from \"../../../../../components/Form\";\nimport { firestore } from \"../../../../../lib/firebase\";\nimport { HomePageModal } from \"../../../../../models\";\nimport PreWeddingEditPage from \"./PreWeddingEditPage/index\";\nimport WeddingEditPage from \"./WeddingEditPage/index\";\n\nconst schema = yup\n  .object({\n    title: yup.string().required(\"Vui lng nhp tiu  gii thiu!\"),\n    // subTitle: yup.string().required(\"Vui lng nhp tiu  ph!\"),\n    content: yup.string().required(\"Vui lng nhp ni dung\"),\n    // subContent: yup.string().required(\"Vui lng nhp ni dung chm ngn\"),\n    // userName: yup\n    //   .string()\n    //   .required(\"Vui lng nhp tn ngi vit ni dung chm ngn\"),\n    // userRole: yup.string().required(\"Vui lng nhp tiu  cng vic\"),\n  })\n  .required();\n\nexport default function StoriesEditPage({\n  data,\n  handleCancel,\n  refetch,\n}: {\n  data: any;\n  handleCancel: () => void;\n  refetch: () => void;\n}) {\n  const formRef = useRef<FormInstance>(null);\n  const [form] = FormAntDeisgn.useForm();\n  const [messageApi, contextHolder] = message.useMessage();\n  const [loading, setLoading] = useState(false);\n  const homePageRef = collection(firestore, \"homePage\");\n  //   const mutation = useFirestoreCollectionMutation(homePageRef);\n  const queryClient = useQueryClient();\n\n  const defaultValues = {\n    title: data?.stories?.title || \"\",\n    content: data?.stories?.content || \"\",\n  };\n\n  useEffect(() => {\n    form.setFieldsValue({\n      title: data?.stories?.title || \"\",\n      content: data?.stories?.content || \"\",\n      // subTitle: data?.introduceStudio?.subTitle || \"\",\n      // content: data?.introduceStudio?.content || \"\",\n      // subContent: data?.introduceStudio?.subContent || \"\",\n      // userName: data?.introduceStudio?.userName || \"\",\n      // userRole: data.introduceStudio?.userRole || \"\",\n    });\n  }, [data, form]);\n\n  const {\n    control,\n    handleSubmit,\n    formState: { errors },\n    reset,\n  } = useForm<any>({\n    defaultValues: defaultValues,\n    resolver: yupResolver(schema),\n  });\n\n  // const items: TabsProps[\"items\"] = [\n  //   {\n  //     key: \"1\",\n  //     label: \"PRE WEDDING\",\n  //     children: (\n  //       <PreWeddingEditPage\n  //         data={data}\n  //         refetch={refetch}\n  //         handleCancel={handleCancel}\n  //       />\n  //     ),\n  //   },\n  //   {\n  //     key: \"2\",\n  //     label: \"PHNG S CI\",\n  //     children: (\n  //       <WeddingEditPage\n  //         data={data}\n  //         refetch={refetch}\n  //         handleCancel={handleCancel}\n  //       />\n  //     ),\n  //   },\n  // ];\n\n  return (\n    <>\n      {contextHolder}\n      <FormAntDeisgn\n        form={form}\n        name=\"control-contect-ref\"\n        ref={formRef}\n        layout=\"vertical\"\n        initialValues={defaultValues}\n        onFinish={handleSubmit(async (values: HomePageModal) => {\n          const payload = {\n            ...data,\n            stories: {\n              ...values,\n              preWedding: data?.stories?.preWedding || [],\n              wedding: data?.stories?.wedding || [],\n            },\n          };\n          const docRef = doc(homePageRef, data.id);\n          await updateDoc(docRef, payload);\n          queryClient.invalidateQueries(\"homePage\");\n          setTimeout(async () => await refetch(), 300);\n          setLoading(true);\n          messageApi.open({\n            type: \"success\",\n            content: \"Cp nhp thnh cng!\",\n            duration: 5,\n          });\n          setLoading(false);\n          handleCancel?.();\n          form.resetFields();\n          formRef.current?.resetFields();\n          reset();\n        })}\n      >\n        <FormItem\n          hasFeedback={false}\n          control={control}\n          name=\"title\"\n          label=\"Tiu \"\n        >\n          <Input.TextArea allowClear placeholder=\"Nhp tiu  gii thiu\" />\n        </FormItem>\n        <FormItem\n          hasFeedback={false}\n          control={control}\n          name=\"content\"\n          label=\"Ni dung\"\n        >\n          <Input.TextArea\n            style={{\n              height: 90,\n            }}\n            allowClear\n            placeholder=\"Nhp ni dung\"\n          />\n        </FormItem>\n\n        <div className=\"pt-5\">\n          <Button\n            loading={loading}\n            disabled={!isEmpty(errors)}\n            type=\"primary\"\n            htmlType=\"submit\"\n            block\n            size=\"large\"\n          >\n            Cp nht\n          </Button>\n        </div>\n      </FormAntDeisgn>\n      {/* <Tabs defaultActiveKey=\"1\" centered items={items} /> */}\n    </>\n  );\n}\n","import React, { useEffect, useMemo, useRef, useState } from \"react\";\nimport { InboxOutlined, UploadOutlined } from \"@ant-design/icons\";\nimport { yupResolver } from \"@hookform/resolvers/yup\";\nimport {\n  Button,\n  Form as FormAntDeisgn,\n  Input,\n  Upload,\n  UploadProps,\n  message,\n} from \"antd\";\nimport type { FormInstance } from \"antd/es/form\";\nimport Dragger from \"antd/es/upload/Dragger\";\nimport { collection, doc, updateDoc } from \"firebase/firestore\";\nimport { getDownloadURL, ref, uploadBytesResumable } from \"firebase/storage\";\nimport { assign, find, isEmpty, map } from \"lodash\";\nimport { useForm } from \"react-hook-form\";\nimport { useQueryClient } from \"react-query\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport * as yup from \"yup\";\nimport { firestore, storage } from \"../../../../../lib/firebase\";\nimport { FormItem } from \"../../../../../components/Form\";\n\nconst schema = yup\n  .object({\n    userName: yup.string(),\n    // .required(\"Vui lng nhp tiu  gii thiu!\"),\n    content: yup.string(),\n    // .required(\"Vui lng nhp tiu  ph!\"),\n    url: yup\n      .mixed()\n      .required(\"Vui lng upload file hnh nh\")\n      .test(\"fileEmpty\", \"Vui lng upload file hnh nh\", (value: any) => {\n        if (value?.length === 0) return false;\n\n        return true;\n      }),\n  })\n  .required();\n\nexport default function ReviewerForm({\n  data,\n  file,\n  handleCancel,\n  refetch,\n}: {\n  data: any;\n  file: any;\n  handleCancel: () => void;\n  refetch: () => void;\n}) {\n  //   const reviewerItem = useMemo(\n  //     () => find(data?.reviewer, { id: file?.id }) || {},\n  //     [data?.reviewer, file?.id]\n  //   );\n\n  const isExistReviewer = find(data?.reviewer, { id: file?.id });\n  const reviewerItem = isExistReviewer || file;\n\n  const defaultUrlItem = {\n    id: uuidv4(),\n    uid: uuidv4(),\n    status: \"done\",\n    url: reviewerItem?.url,\n    name: reviewerItem?.name,\n    alt: reviewerItem?.alt,\n  };\n  const formRef = useRef<FormInstance>(null);\n  const [form] = FormAntDeisgn.useForm();\n  const [messageApi, contextHolder] = message.useMessage();\n  const [loading, setLoading] = useState(false);\n  const [fileListUrl, setFileListUrl] = useState<any[]>([defaultUrlItem]);\n  const homePageRef = collection(firestore, \"homePage\");\n  //   const mutation = useFirestoreCollectionMutation(homePageRef);\n  const queryClient = useQueryClient();\n\n  const defaultValues = {\n    userName: reviewerItem?.userName || \"\",\n    content: reviewerItem?.content || \"\",\n    url: [defaultUrlItem],\n  };\n\n  const {\n    control,\n    handleSubmit,\n    formState: { errors },\n    reset,\n    setValue,\n  } = useForm<any>({\n    defaultValues: defaultValues,\n    resolver: yupResolver(schema),\n  });\n\n  useEffect(() => {\n    form.setFieldsValue({\n      userName: reviewerItem?.userName || \"\",\n      content: reviewerItem?.content || \"\",\n      url: [defaultUrlItem] || [],\n    });\n    setFileListUrl([defaultUrlItem] || []);\n  }, [reviewerItem, form]);\n\n  const handleUploadUrl = async (info: any) => {\n    if (info.file.status === \"done\") {\n      setFileListUrl([\n        {\n          id: uuidv4(),\n          url: info.file.url,\n          name: info.file.name,\n          alt: info.file.name.substr(0, info.file.name.lastIndexOf(\".\")),\n        },\n      ]);\n      setValue(\"url\", [\n        {\n          id: uuidv4(),\n          url: info.file.url,\n          name: info.file.name,\n          alt: info.file.name.substr(0, info.file.name.lastIndexOf(\".\")),\n        },\n      ]);\n      message.success(`${info.file.name} file uploaded successfully`);\n    } else if (info.file.status === \"error\") {\n      message.error(`${info.file.name} file upload failed.`);\n    }\n  };\n\n  const customRequestUrl = async ({ file, onSuccess, onError }: any) => {\n    try {\n      // const storageRef = ref(storage, `/manager-page/${file.name}`);\n\n      // const uploadTask = uploadBytesResumable(storageRef, file);\n\n      // uploadTask.on(\n      //   \"state_changed\",\n      //   (snapshot) => {\n      //     const percent = Math.round(\n      //       (snapshot.bytesTransferred / snapshot.totalBytes) * 100\n      //     );\n\n      //     // update progress\n      //     // setPercent(percent);\n      //   },\n      //   (err) => console.log(err),\n      //   () => {\n      //     // download url\n      //     getDownloadURL(uploadTask.snapshot.ref).then((url) => {\n      //       onSuccess();\n      //       handleUploadUrl({\n      //         file: {\n      //           status: \"done\",\n      //           name: file.name,\n      //           url,\n      //         },\n      //       });\n      //     });\n      //   }\n      // );\n      const reader = new FileReader();\n      reader.readAsDataURL(file);\n      reader.onload = (e: any) => {\n        const originalImage = new Image() as any;\n        originalImage.src = e.target.result;\n\n        originalImage.onload = () => {\n          // Define your desired dimensions\n          const maxWidth = 800;\n          const maxHeight = 800;\n\n          // Calculate the new dimensions while preserving the aspect ratio\n          const aspectRatio = originalImage.width / originalImage.height;\n          let newWidth, newHeight;\n          if (\n            originalImage.width > maxWidth ||\n            originalImage.height > maxHeight\n          ) {\n            if (aspectRatio > 1) {\n              newWidth = maxWidth;\n              newHeight = maxWidth / aspectRatio;\n            } else {\n              newWidth = maxHeight * aspectRatio;\n              newHeight = maxHeight;\n            }\n          } else {\n            newWidth = originalImage.width;\n            newHeight = originalImage.height;\n          }\n\n          // Create a canvas element to draw the resized image\n          const canvas = document.createElement(\"canvas\");\n          const ctx = canvas.getContext(\"2d\") as any;\n          canvas.width = newWidth;\n          canvas.height = newHeight;\n\n          // Draw the resized image on the canvas\n          ctx.drawImage(originalImage, 0, 0, newWidth, newHeight);\n\n          // Convert the canvas to a Blob (image file)\n          canvas.toBlob((blob: any) => {\n            // Create a new File object from the Blob\n            const resizedFile = new File([blob], file.name, {\n              type: file.type,\n            });\n            const storageRef = ref(\n              storage,\n              `/manager-page/${resizedFile.name}`\n            );\n            const uploadTask = uploadBytesResumable(storageRef, resizedFile);\n\n            uploadTask.on(\n              \"state_changed\",\n              (snapshot) => {\n                const percent = Math.round(\n                  (snapshot.bytesTransferred / snapshot.totalBytes) * 100\n                );\n\n                // update progress\n                // setPercent(percent);\n              },\n              (err) => console.log(err),\n              () => {\n                // download url\n                getDownloadURL(uploadTask.snapshot.ref).then((url) => {\n                  onSuccess();\n                  handleUploadUrl({\n                    file: {\n                      status: \"done\",\n                      name: resizedFile.name,\n                      url,\n                    },\n                  });\n                });\n              }\n            );\n          }, file.type);\n        };\n      };\n    } catch (error) {\n      console.error(\"Error uploading file:\", error);\n      onError();\n    }\n  };\n  const handleChangeUrl: UploadProps[\"onChange\"] = ({\n    fileList: newFileList,\n  }) => {\n    if (newFileList.length > 0) {\n      const matchingUrls = fileListUrl?.reduce((result: any, image: any) => {\n        if (newFileList.some((file: any) => image?.id?.includes(file?.id))) {\n          result.push(image);\n        }\n        return result;\n      }, []);\n      setFileListUrl(matchingUrls);\n      setValue(\"url\", matchingUrls);\n    }\n  };\n\n  const urlProps: UploadProps = {\n    name: \"file\",\n    multiple: false,\n    listType: \"picture\",\n    // beforeUpload,\n    customRequest: customRequestUrl,\n    onChange: handleChangeUrl,\n    fileList: fileListUrl,\n    onDrop(e) {\n      console.log(\"Dropped files\", e.dataTransfer.files);\n    },\n  };\n\n  return (\n    <>\n      {contextHolder}\n      <FormAntDeisgn\n        form={form}\n        name=\"control-pre-wedding-edit-ref\"\n        ref={formRef}\n        layout=\"vertical\"\n        initialValues={defaultValues}\n        onFinish={handleSubmit(async (values: any) => {\n          const newReviewer = map(data?.reviewer, (item) => {\n            if (item.id === file.id) {\n              return assign({}, item, {\n                name: fileListUrl?.[0]?.name || fileListUrl?.[0]?.url,\n                alt: fileListUrl?.[0]?.alt || \"\",\n                url: fileListUrl?.[0]?.url || \"\",\n                userName: values.userName,\n                content: values.content,\n              });\n            }\n            return item;\n          });\n\n          const payload = {\n            ...data,\n            reviewer: isEmpty(isExistReviewer)\n              ? [\n                  ...data?.reviewer,\n                  {\n                    id: uuidv4(),\n                    name: fileListUrl?.[0]?.name || fileListUrl?.[0]?.url,\n                    alt: fileListUrl?.[0]?.alt || \"\",\n                    url: fileListUrl?.[0]?.url || \"\",\n                    userName: values.userName,\n                    content: values.content,\n                  },\n                ]\n              : newReviewer || [],\n          };\n          const docRef = doc(homePageRef, data.id);\n          await updateDoc(docRef, payload);\n          queryClient.invalidateQueries(\"homePage\");\n          setTimeout(async () => await refetch(), 300);\n          setLoading(true);\n          messageApi.open({\n            type: \"success\",\n            content: \"Cp nhp thnh cng!\",\n            duration: 5,\n          });\n          setLoading(false);\n          handleCancel?.();\n          form.resetFields();\n          formRef.current?.resetFields();\n          reset();\n        })}\n      >\n        <FormItem\n          control={control}\n          name=\"url\"\n          // valuePropName='fileList'\n          label=\"Upload hnh avatar\"\n        >\n          <Upload {...urlProps}>\n            <Button icon={<UploadOutlined />}>Upload</Button>\n          </Upload>\n        </FormItem>\n        <FormItem\n          hasFeedback={false}\n          control={control}\n          name=\"userName\"\n          label=\"Tn ngi review\"\n        >\n          <Input allowClear placeholder=\"Nhp tiu tn ngi review\" />\n        </FormItem>\n        <FormItem\n          hasFeedback={false}\n          control={control}\n          name=\"content\"\n          label=\"Ni dung\"\n        >\n          <Input.TextArea allowClear placeholder=\"Nhp ni dung review\" />\n        </FormItem>\n        <div className=\"mt-10\">\n          <Button\n            loading={loading}\n            disabled={!isEmpty(errors)}\n            type=\"primary\"\n            htmlType=\"submit\"\n            block\n            size=\"large\"\n          >\n            Cp nht\n          </Button>\n        </div>\n      </FormAntDeisgn>\n    </>\n  );\n}\n","import React, { useEffect, useRef, useState } from \"react\";\nimport {\n  Button,\n  Form as FormAntDeisgn,\n  Input,\n  Modal,\n  UploadFile,\n  message,\n} from \"antd\";\nimport { FormInstance } from \"antd/es/form/Form\";\nimport { useForm } from \"react-hook-form\";\nimport { yupResolver } from \"@hookform/resolvers/yup\";\nimport * as yup from \"yup\";\nimport type { UploadProps } from \"antd\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport { ref, uploadBytesResumable, getDownloadURL } from \"firebase/storage\";\nimport { collection, doc, updateDoc } from \"firebase/firestore\";\nimport { firestore, storage } from \"../../../../../lib/firebase\";\nimport { FormItem } from \"../../../../../components/Form\";\nimport Dragger from \"antd/es/upload/Dragger\";\nimport { InboxOutlined } from \"@ant-design/icons\";\n// import { useFirestoreCollectionMutation } from \"@react-query-firebase/firestore\";\nimport { isEmpty } from \"lodash\";\nimport { HomePageModal, ServiceModal } from \"../../../../../models\";\nimport { useQueryClient } from \"react-query\";\n// import ServiceEditForm from \"./ServiceEditForm\";\nimport { useFirestoreCollectionMutation } from \"@react-query-firebase/firestore\";\nimport ReviewerForm from \"./ReviewerForm\";\n\nconst schema = yup\n  .object({\n    title: yup.string().required(\"Vui lng nhp tiu \"),\n    reviewer: yup.mixed(),\n    // .required(\"Vui lng upload file hnh nh\")\n    // .test(\"fileEmpty\", \"Vui lng upload file hnh nh\", (value: any) => {\n    //   if (value?.length === 0) return false;\n\n    //   return true;\n    // }),\n  })\n  .required();\n\ninterface DraggableUploadListItemProps {\n  originNode: React.ReactElement<\n    any,\n    string | React.JSXElementConstructor<any>\n  >;\n  file: UploadFile<any>;\n}\n\nexport default function TestimonialsEditPage({\n  data,\n  refetch,\n  handleCancel,\n}: any) {\n  const formRef = useRef<FormInstance>(null);\n  const [form] = FormAntDeisgn.useForm();\n  const [messageApi, contextHolder] = message.useMessage();\n  const [loading, setLoading] = useState(false);\n  const [fileList, setFileList] = useState<any[]>([]);\n  const homePageRef = collection(firestore, \"homePage\");\n  // const mutation = useFirestoreCollectionMutation(homePageRef);\n  const queryClient = useQueryClient();\n  const [itemFile, setItemFile] = useState<any>({});\n\n  const [isOpen, setIsOpen] = useState(false);\n\n  const defaultValues = {\n    reviewer: data?.reviewer || [],\n    title: data?.titleReviewer || \"\",\n  };\n\n  const {\n    control,\n    handleSubmit,\n    formState: { errors },\n    reset,\n    getValues,\n    setValue,\n  } = useForm<any>({\n    defaultValues,\n    resolver: yupResolver(schema),\n  });\n  const uuId = uuidv4();\n\n  const isEditReviewer = data?.reviewer?.length > 0;\n\n  useEffect(() => {\n    form.setFieldsValue({\n      reviewer: data?.reviewer || [],\n      title: data?.titleReviewer || \"\",\n    });\n    setFileList(data?.reviewer || []);\n  }, [data, form]);\n\n  const handleUpload = async (info: any) => {\n    if (info.file.status === \"done\") {\n      setFileList((prev) => [\n        ...prev,\n        {\n          id: uuidv4(),\n          url: info.file.url,\n          name: info.file.name,\n          alt: info.file.name.substr(0, info.file.name.lastIndexOf(\".\")),\n        },\n      ]);\n      setValue(\"reviewer\", [\n        ...fileList,\n        {\n          id: uuidv4(),\n          url: info.file.url,\n          name: info.file.name,\n          alt: info.file.name.substr(0, info.file.name.lastIndexOf(\".\")),\n        },\n      ]);\n      message.success(`${info.file.name} file uploaded successfully`);\n    } else if (info.file.status === \"error\") {\n      message.error(`${info.file.name} file upload failed.`);\n    }\n  };\n\n  const customRequest = async ({ file, onSuccess, onError }: any) => {\n    try {\n      // const storageRef = ref(storage, `/manager-page/${file.name}`);\n\n      // const uploadTask = uploadBytesResumable(storageRef, file);\n\n      // uploadTask.on(\n      //   \"state_changed\",\n      //   (snapshot) => {\n      //     const percent = Math.round(\n      //       (snapshot.bytesTransferred / snapshot.totalBytes) * 100\n      //     );\n\n      //     // update progress\n      //     // setPercent(percent);\n      //   },\n      //   (err) => console.log(err),\n      //   () => {\n      //     // download url\n      //     getDownloadURL(uploadTask.snapshot.ref).then((url) => {\n      //       onSuccess();\n      //       handleUpload({\n      //         file: {\n      //           status: \"done\",\n      //           name: file.name,\n      //           url,\n      //         },\n      //       });\n      //     });\n      //   }\n      // );\n      const reader = new FileReader();\n      reader.readAsDataURL(file);\n      reader.onload = (e: any) => {\n        const originalImage = new Image() as any;\n        originalImage.src = e.target.result;\n\n        originalImage.onload = () => {\n          // Define your desired dimensions\n          const maxWidth = 800;\n          const maxHeight = 800;\n\n          // Calculate the new dimensions while preserving the aspect ratio\n          const aspectRatio = originalImage.width / originalImage.height;\n          let newWidth, newHeight;\n          if (\n            originalImage.width > maxWidth ||\n            originalImage.height > maxHeight\n          ) {\n            if (aspectRatio > 1) {\n              newWidth = maxWidth;\n              newHeight = maxWidth / aspectRatio;\n            } else {\n              newWidth = maxHeight * aspectRatio;\n              newHeight = maxHeight;\n            }\n          } else {\n            newWidth = originalImage.width;\n            newHeight = originalImage.height;\n          }\n\n          // Create a canvas element to draw the resized image\n          const canvas = document.createElement(\"canvas\");\n          const ctx = canvas.getContext(\"2d\") as any;\n          canvas.width = newWidth;\n          canvas.height = newHeight;\n\n          // Draw the resized image on the canvas\n          ctx.drawImage(originalImage, 0, 0, newWidth, newHeight);\n\n          // Convert the canvas to a Blob (image file)\n          canvas.toBlob((blob: any) => {\n            // Create a new File object from the Blob\n            const resizedFile = new File([blob], file.name, {\n              type: file.type,\n            });\n            const storageRef = ref(\n              storage,\n              `/manager-page/${resizedFile.name}`\n            );\n            const uploadTask = uploadBytesResumable(storageRef, resizedFile);\n\n            uploadTask.on(\n              \"state_changed\",\n              (snapshot) => {\n                const percent = Math.round(\n                  (snapshot.bytesTransferred / snapshot.totalBytes) * 100\n                );\n\n                // update progress\n                // setPercent(percent);\n              },\n              (err) => console.log(err),\n              () => {\n                // download url\n                getDownloadURL(uploadTask.snapshot.ref).then((url) => {\n                  onSuccess();\n                  handleUpload({\n                    file: {\n                      status: \"done\",\n                      name: resizedFile.name,\n                      url,\n                    },\n                  });\n                });\n              }\n            );\n          }, file.type);\n        };\n      };\n    } catch (error) {\n      console.error(\"Error uploading file:\", error);\n      onError();\n    }\n  };\n  const handleChange: UploadProps[\"onChange\"] = ({ fileList: newFileList }) => {\n    if (fileList.length > 0) {\n      const matchingUrls = fileList?.reduce((result: any, image: any) => {\n        if (newFileList.some((file: any) => image?.id?.includes(file?.id))) {\n          result.push(image);\n        }\n        return result;\n      }, []);\n      setFileList(matchingUrls);\n      setValue(\"reviewer\", matchingUrls);\n    }\n  };\n  const props: UploadProps = {\n    name: \"file\",\n    multiple: true,\n    listType: \"picture\",\n    // beforeUpload,\n    customRequest,\n    onChange: handleChange,\n    fileList,\n    onDrop(e) {\n      console.log(\"Dropped files\", e.dataTransfer.files);\n    },\n  };\n\n  const handleShowModalForm = (item: any) => () => {\n    setIsOpen(true);\n    setItemFile(item);\n  };\n\n  const handleCloseModalForm = () => {\n    setIsOpen(false);\n  };\n\n  const DraggableUploadListItem = ({\n    originNode,\n    file,\n  }: DraggableUploadListItemProps) => {\n    return (\n      <div className=\"py-4\">\n        {originNode}\n        {isEditReviewer && (\n          <Button className=\"!mt-2\" onClick={handleShowModalForm(file)}>\n            Chnh sa\n          </Button>\n        )}\n      </div>\n    );\n  };\n\n  return (\n    <>\n      {contextHolder}\n      <FormAntDeisgn\n        form={form}\n        name=\"control-reviewer-ref\"\n        ref={formRef}\n        layout=\"vertical\"\n        initialValues={defaultValues}\n        onFinish={handleSubmit(async (values) => {\n          const newReviewers = fileList?.map((item: any) => {\n            if (isEmpty(item?.name)) {\n              return {\n                ...item,\n                name: \"\",\n                content: \"\",\n              };\n            }\n            return item;\n          });\n          const payload: HomePageModal = {\n            ...data,\n            titleReviewer: values?.title || \"\",\n            reviewer: newReviewers || [],\n          };\n          const docRef = doc(homePageRef, payload.id);\n          await updateDoc(docRef, payload);\n          queryClient.invalidateQueries(\"homePage\");\n          handleCancel?.();\n          setTimeout(async () => await refetch(), 300);\n          setLoading(true);\n          messageApi.open({\n            type: \"success\",\n            content: \"Chnh sa thnh cng!\",\n            duration: 5,\n          });\n          setLoading(false);\n          form.resetFields();\n          formRef.current?.resetFields();\n          reset();\n        })}\n      >\n        <FormItem\n          hasFeedback={false}\n          control={control}\n          name=\"title\"\n          label=\"Tiu \"\n        >\n          <Input.TextArea allowClear placeholder=\"Nhp tiu  review\" />\n        </FormItem>\n        <FormItem\n          control={control}\n          name=\"reviewer\"\n          // valuePropName='fileList'\n          label=\"Upload hnh nh khch hng review\"\n        >\n          <Dragger\n            {...props}\n            itemRender={(originNode, file) => {\n              return (\n                <DraggableUploadListItem originNode={originNode} file={file} />\n              );\n            }}\n          >\n            <p className=\"ant-upload-drag-icon\">\n              <InboxOutlined />\n            </p>\n            <p className=\"ant-upload-text\">\n              Nhp hoc ko tp vo khu vc ny  ti ln\n            </p>\n            <p className=\"ant-upload-hint\">\n              H tr ti ln mt ln hoc hng lot. Nghim cm ti ln d liu\n              cng ty hoc cc thng tin khc\n            </p>\n            {!isEditReviewer && fileList?.length > 0 && (\n              <p className=\"text-red-600\">\n                 cp nht thng tin reviewer cn nhn nt cp nht  update\n                data ln hn thng\n              </p>\n            )}\n          </Dragger>\n        </FormItem>\n        <Button\n          loading={loading}\n          disabled={!isEmpty(errors)}\n          type=\"primary\"\n          htmlType=\"submit\"\n          block\n          size=\"large\"\n        >\n          Cp nht\n        </Button>\n      </FormAntDeisgn>\n      <Modal\n        centered\n        bodyStyle={{ overflowY: \"scroll\", height: \"calc(100vh - 250px)\" }}\n        footer={null}\n        open={isOpen}\n        onCancel={handleCloseModalForm}\n        title=\"Cp nht thng tin ngi review\"\n      >\n        <ReviewerForm\n          refetch={refetch}\n          data={data}\n          file={itemFile}\n          handleCancel={handleCloseModalForm}\n        />\n      </Modal>\n    </>\n  );\n}\n","import React from \"react\";\nimport ServiceItem from \"../../Services/ServiceItem\";\nimport { ServiceModal } from \"../../../models\";\nimport { cn } from \"../../../lib/cs\";\n\nexport default function PreWeddingDay({ data }: { data: ServiceModal[] }) {\n  // const data = [\n  //   {\n  //     // image: [\n  //     //   {\n  //     //     id: \"1\",\n  //     //     name: \"[Album] Phim trng\",\n  //     //     url: \"https://images.unsplash.com/photo-1583939003579-730e3918a45a?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8d2VkZGluZ3xlbnwwfHwwfHx8MA%3D%3D&auto=format&fit=crop&w=800&q=60\",\n  //     //   },\n  //     // ],\n  //     url: \"https://images.pexels.com/photos/3014856/pexels-photo-3014856.jpeg?auto=compress&cs=tinysrgb&w=800\",\n  //     gallery: [\n  //       {\n  //         id: \"1\",\n  //         name: \"[Album] Phim trng\",\n  //         url: \"https://images.unsplash.com/photo-1583939003579-730e3918a45a?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8d2VkZGluZ3xlbnwwfHwwfHx8MA%3D%3D&auto=format&fit=crop&w=800&q=60\",\n  //       },\n  //     ],\n  //     alt: \"\",\n  //     title: \"[Album] Phim trng\",\n  //     description:\n  //       \"Ngoi vic la chn vy ci th vi mi c du lp trang im cng v cng quan trng.\",\n  //   },\n  //   {\n  //     // image: [\n  //     //   {\n  //     //     id: \"1\",\n  //     //     name: \"[Album] Phim trng\",\n  //     //     url: \"https://images.pexels.com/photos/3014856/pexels-photo-3014856.jpeg?auto=compress&cs=tinysrgb&w=800\",\n  //     //   },\n  //     // ],\n  //     url: \"https://images.pexels.com/photos/3014856/pexels-photo-3014856.jpeg?auto=compress&cs=tinysrgb&w=800\",\n  //     gallery: [\n  //       {\n  //         id: \"1\",\n  //         name: \"[Album] Victor V\",\n  //         url: \"https://images.unsplash.com/photo-1583939003579-730e3918a45a?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8d2VkZGluZ3xlbnwwfHwwfHx8MA%3D%3D&auto=format&fit=crop&w=800&q=60\",\n  //       },\n  //     ],\n  //     alt: \"\",\n  //     title: \"[Album] Victor V\",\n  //     description:\n  //       \"Lun dn u vi nhng concept nh ci n tng, cc nhip nh gia ca Mardoll Studio.\",\n  //   },\n  //   {\n  //     // image: [\n  //     //   {\n  //     //     id: \"1\",\n  //     //     name: \"[Album] Phim trng\",\n  //     //     url: \"https://images.pexels.com/photos/3014856/pexels-photo-3014856.jpeg?auto=compress&cs=tinysrgb&w=800\",\n  //     //   },\n  //     // ],\n  //     url: \"https://images.pexels.com/photos/3014856/pexels-photo-3014856.jpeg?auto=compress&cs=tinysrgb&w=800\",\n  //     gallery: [\n  //       {\n  //         id: \"1\",\n  //         name: \"[Album] Victor V\",\n  //         url: \"https://images.unsplash.com/photo-1583939003579-730e3918a45a?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8d2VkZGluZ3xlbnwwfHwwfHx8MA%3D%3D&auto=format&fit=crop&w=800&q=60\",\n  //       },\n  //     ],\n  //     alt: \"\",\n  //     title: \"Chp nh ci phim trng\",\n  //     description:\n  //       \"Phng s ci ni cm xc v nhng khonh khc thing ling c lu gi trn vn.\",\n  //   },\n  //   {\n  //     // image: [\n  //     //   {\n  //     //     id: \"1\",\n  //     //     name: \"[Album] Phim trng\",\n  //     //     url: \"https://images.pexels.com/photos/3014856/pexels-photo-3014856.jpeg?auto=compress&cs=tinysrgb&w=800\",\n  //     //   },\n  //     // ],\n  //     url: \"https://images.pexels.com/photos/3014856/pexels-photo-3014856.jpeg?auto=compress&cs=tinysrgb&w=800\",\n  //     gallery: [\n  //       {\n  //         id: \"1\",\n  //         name: \"[Album] Victor V\",\n  //         url: \"https://images.unsplash.com/photo-1583939003579-730e3918a45a?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8d2VkZGluZ3xlbnwwfHwwfHx8MA%3D%3D&auto=format&fit=crop&w=800&q=60\",\n  //       },\n  //     ],\n  //     alt: \"\",\n  //     title: \"o ci\",\n  //     description:\n  //       \"Mardoll Studio lun mang n nhng chic vy ci v cng t gi  nng ta sng, lng ly ni l ng.\",\n  //   },\n  //   {\n  //     // image: [\n  //     //   {\n  //     //     id: \"1\",\n  //     //     name: \"[Album] Phim trng\",\n  //     //     url: \"https://images.pexels.com/photos/3014856/pexels-photo-3014856.jpeg?auto=compress&cs=tinysrgb&w=800\",\n  //     //   },\n  //     // ],\n  //     url: \"https://images.pexels.com/photos/3014856/pexels-photo-3014856.jpeg?auto=compress&cs=tinysrgb&w=800\",\n  //     gallery: [\n  //       {\n  //         id: \"1\",\n  //         name: \"[Album] Victor V\",\n  //         url: \"https://images.unsplash.com/photo-1583939003579-730e3918a45a?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8d2VkZGluZ3xlbnwwfHwwfHx8MA%3D%3D&auto=format&fit=crop&w=800&q=60\",\n  //       },\n  //     ],\n  //     alt: \"\",\n  //     title: \"[Album] Victor V\",\n  //     description:\n  //       \"Lun dn u vi nhng concept nh ci n tng, cc nhip nh gia ca Mardoll Studio.\",\n  //   },\n  //   {\n  //     // image: [\n  //     //   {\n  //     //     id: \"1\",\n  //     //     name: \"[Album] Phim trng\",\n  //     //     url: \"https://images.pexels.com/photos/3014856/pexels-photo-3014856.jpeg?auto=compress&cs=tinysrgb&w=800\",\n  //     //   },\n  //     // ],\n  //     url: \"https://images.pexels.com/photos/3014856/pexels-photo-3014856.jpeg?auto=compress&cs=tinysrgb&w=800\",\n  //     gallery: [\n  //       {\n  //         id: \"1\",\n  //         name: \"[Album] Victor V\",\n  //         url: \"https://images.unsplash.com/photo-1583939003579-730e3918a45a?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8d2VkZGluZ3xlbnwwfHwwfHx8MA%3D%3D&auto=format&fit=crop&w=800&q=60\",\n  //       },\n  //     ],\n  //     alt: \"\",\n  //     title: \"Chp nh ci phim trng\",\n  //     description:\n  //       \"Phng s ci ni cm xc v nhng khonh khc thing ling c lu gi trn vn.\",\n  //   },\n  //   {\n  //     // image: [\n  //     //   {\n  //     //     id: \"1\",\n  //     //     name: \"[Album] Phim trng\",\n  //     //     url: \"https://images.pexels.com/photos/3014856/pexels-photo-3014856.jpeg?auto=compress&cs=tinysrgb&w=800\",\n  //     //   },\n  //     // ],\n  //     url: \"https://images.pexels.com/photos/3014856/pexels-photo-3014856.jpeg?auto=compress&cs=tinysrgb&w=800\",\n  //     gallery: [\n  //       {\n  //         id: \"1\",\n  //         name: \"[Album] Victor V\",\n  //         url: \"https://images.unsplash.com/photo-1583939003579-730e3918a45a?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8d2VkZGluZ3xlbnwwfHwwfHx8MA%3D%3D&auto=format&fit=crop&w=800&q=60\",\n  //       },\n  //     ],\n  //     alt: \"\",\n  //     title: \"o ci\",\n  //     description:\n  //       \"Mardoll Studio lun mang n nhng chic vy ci v cng t gi  nng ta sng, lng ly ni l ng.\",\n  //   },\n  // ];\n  const renderServices = () => {\n    return data?.map((item: ServiceModal, index: number) => (\n      <ServiceItem key={`album-${index}`} {...item} btnShowMore  />\n    ));\n  };\n  const gridColumnNumber: any = {\n    1: \"lg:grid-cols-1\",\n    2: \"lg:grid-cols-2\",\n    3: \"lg:grid-cols-3\",\n    4: \"lg:grid-cols-4\",\n  };\n\n  return (\n    <div\n      className={cn(\n        \"grid grid-cols-1 gap-3 md:grid-cols-2 lg:grid-cols-4\",\n        gridColumnNumber[data?.length] ?? \"lg:grid-cols-1\"\n      )}\n    >\n      {renderServices()}\n    </div>\n  );\n}\n","import React from \"react\";\nimport ServiceItem from \"../../Services/ServiceItem\";\nimport { ServiceModal } from \"../../../models\";\nimport { cn } from \"../../../lib/cs\";\n\nexport default function WeddingDay({ data }: { data: ServiceModal[] }) {\n  // const data = [\n  //   {\n  //     // image: [\n  //     //   {\n  //     //     id: \"1\",\n  //     //     name: \"[Album] Phim trng\",\n  //     //     url: \"https://images.unsplash.com/photo-1583939003579-730e3918a45a?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8d2VkZGluZ3xlbnwwfHwwfHx8MA%3D%3D&auto=format&fit=crop&w=800&q=60\",\n  //     //   },\n  //     // ],\n  //     url: \"https://images.unsplash.com/photo-1583939003579-730e3918a45a?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8d2VkZGluZ3xlbnwwfHwwfHx8MA%3D%3D&auto=format&fit=crop&w=800&q=60\",\n  //     gallery: [\n  //       {\n  //         id: \"1\",\n  //         name: \"[Album] Phim trng\",\n  //         url: \"https://images.unsplash.com/photo-1583939003579-730e3918a45a?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8d2VkZGluZ3xlbnwwfHwwfHx8MA%3D%3D&auto=format&fit=crop&w=800&q=60\",\n  //       },\n  //     ],\n  //     alt: \"\",\n  //     title: \"[Album] Phim trng\",\n  //     description:\n  //       \"Ngoi vic la chn vy ci th vi mi c du lp trang im cng v cng quan trng.\",\n  //   },\n  //   {\n  //     // image: [\n  //     //   {\n  //     //     id: \"1\",\n  //     //     name: \"[Album] Phim trng\",\n  //     //     url: \"https://images.pexels.com/photos/3014856/pexels-photo-3014856.jpeg?auto=compress&cs=tinysrgb&w=800\",\n  //     //   },\n  //     // ],\n  //     url: \"https://images.pexels.com/photos/3014856/pexels-photo-3014856.jpeg?auto=compress&cs=tinysrgb&w=800\",\n  //     gallery: [\n  //       {\n  //         id: \"1\",\n  //         name: \"[Album] Victor V\",\n  //         url: \"https://images.unsplash.com/photo-1583939003579-730e3918a45a?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8d2VkZGluZ3xlbnwwfHwwfHx8MA%3D%3D&auto=format&fit=crop&w=800&q=60\",\n  //       },\n  //     ],\n  //     alt: \"\",\n  //     title: \"[Album] Victor V\",\n  //     description:\n  //       \"Lun dn u vi nhng concept nh ci n tng, cc nhip nh gia ca Mardoll Studio.\",\n  //   },\n  //   {\n  //     // image: [\n  //     //   {\n  //     //     id: \"1\",\n  //     //     name: \"[Album] Phim trng\",\n  //     //     url: \"https://images.pexels.com/photos/3014856/pexels-photo-3014856.jpeg?auto=compress&cs=tinysrgb&w=800\",\n  //     //   },\n  //     // ],\n  //     url: \"https://images.pexels.com/photos/3014856/pexels-photo-3014856.jpeg?auto=compress&cs=tinysrgb&w=800\",\n  //     gallery: [\n  //       {\n  //         id: \"1\",\n  //         name: \"[Album] Victor V\",\n  //         url: \"https://images.unsplash.com/photo-1583939003579-730e3918a45a?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8d2VkZGluZ3xlbnwwfHwwfHx8MA%3D%3D&auto=format&fit=crop&w=800&q=60\",\n  //       },\n  //     ],\n  //     alt: \"\",\n  //     title: \"Chp nh ci phim trng\",\n  //     description:\n  //       \"Phng s ci ni cm xc v nhng khonh khc thing ling c lu gi trn vn.\",\n  //   },\n  //   {\n  //     // image: [\n  //     //   {\n  //     //     id: \"1\",\n  //     //     name: \"[Album] Phim trng\",\n  //     //     url: \"https://images.pexels.com/photos/3014856/pexels-photo-3014856.jpeg?auto=compress&cs=tinysrgb&w=800\",\n  //     //   },\n  //     // ],\n  //     url: \"https://images.pexels.com/photos/3014856/pexels-photo-3014856.jpeg?auto=compress&cs=tinysrgb&w=800\",\n  //     gallery: [\n  //       {\n  //         id: \"1\",\n  //         name: \"[Album] Victor V\",\n  //         url: \"https://images.unsplash.com/photo-1583939003579-730e3918a45a?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8d2VkZGluZ3xlbnwwfHwwfHx8MA%3D%3D&auto=format&fit=crop&w=800&q=60\",\n  //       },\n  //     ],\n  //     alt: \"\",\n  //     title: \"o ci\",\n  //     description:\n  //       \"Mardoll Studio lun mang n nhng chic vy ci v cng t gi  nng ta sng, lng ly ni l ng.\",\n  //   },\n  //   {\n  //     // image: [\n  //     //   {\n  //     //     id: \"1\",\n  //     //     name: \"[Album] Phim trng\",\n  //     //     url: \"https://images.pexels.com/photos/3014856/pexels-photo-3014856.jpeg?auto=compress&cs=tinysrgb&w=800\",\n  //     //   },\n  //     // ],\n  //     url: \"https://images.pexels.com/photos/3014856/pexels-photo-3014856.jpeg?auto=compress&cs=tinysrgb&w=800\",\n  //     gallery: [\n  //       {\n  //         id: \"1\",\n  //         name: \"[Album] Victor V\",\n  //         url: \"https://images.unsplash.com/photo-1583939003579-730e3918a45a?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8d2VkZGluZ3xlbnwwfHwwfHx8MA%3D%3D&auto=format&fit=crop&w=800&q=60\",\n  //       },\n  //     ],\n  //     alt: \"\",\n  //     title: \"[Album] Victor V\",\n  //     description:\n  //       \"Lun dn u vi nhng concept nh ci n tng, cc nhip nh gia ca Mardoll Studio.\",\n  //   },\n  //   {\n  //     // image: [\n  //     //   {\n  //     //     id: \"1\",\n  //     //     name: \"[Album] Phim trng\",\n  //     //     url: \"https://images.pexels.com/photos/3014856/pexels-photo-3014856.jpeg?auto=compress&cs=tinysrgb&w=800\",\n  //     //   },\n  //     // ],\n  //     url: \"https://images.pexels.com/photos/3014856/pexels-photo-3014856.jpeg?auto=compress&cs=tinysrgb&w=800\",\n  //     gallery: [\n  //       {\n  //         id: \"1\",\n  //         name: \"[Album] Victor V\",\n  //         url: \"https://images.unsplash.com/photo-1583939003579-730e3918a45a?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8d2VkZGluZ3xlbnwwfHwwfHx8MA%3D%3D&auto=format&fit=crop&w=800&q=60\",\n  //       },\n  //     ],\n  //     alt: \"\",\n  //     title: \"Chp nh ci phim trng\",\n  //     description:\n  //       \"Phng s ci ni cm xc v nhng khonh khc thing ling c lu gi trn vn.\",\n  //   },\n  //   {\n  //     // image: [\n  //     //   {\n  //     //     id: \"1\",\n  //     //     name: \"[Album] Phim trng\",\n  //     //     url: \"https://images.pexels.com/photos/3014856/pexels-photo-3014856.jpeg?auto=compress&cs=tinysrgb&w=800\",\n  //     //   },\n  //     // ],\n  //     url: \"https://images.pexels.com/photos/3014856/pexels-photo-3014856.jpeg?auto=compress&cs=tinysrgb&w=800\",\n  //     gallery: [\n  //       {\n  //         id: \"1\",\n  //         name: \"[Album] Victor V\",\n  //         url: \"https://images.unsplash.com/photo-1583939003579-730e3918a45a?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8d2VkZGluZ3xlbnwwfHwwfHx8MA%3D%3D&auto=format&fit=crop&w=800&q=60\",\n  //       },\n  //     ],\n  //     alt: \"\",\n  //     title: \"o ci\",\n  //     description:\n  //       \"Mardoll Studio lun mang n nhng chic vy ci v cng t gi  nng ta sng, lng ly ni l ng.\",\n  //   },\n  // ];\n  const renderServices = () => {\n    return data?.map((item: ServiceModal, index: number) => (\n      <ServiceItem key={`album-${index}`} btnShowMore {...item} />\n    ));\n  };\n  const gridColumnNumber: any = {\n    1: \"lg:grid-cols-1\",\n    2: \"lg:grid-cols-2\",\n    3: \"lg:grid-cols-3\",\n    4: \"lg:grid-cols-4\",\n  };\n\n  return (\n    <div\n      className={cn(\n        \"grid grid-cols-1 gap-3 md:grid-cols-2 lg:grid-cols-4\",\n        gridColumnNumber[data?.length] ?? \"lg:grid-cols-1\"\n      )}\n    >\n      {renderServices()}\n    </div>\n  );\n}\n","import React, { useEffect, useRef, useState } from \"react\";\nimport { InboxOutlined, UploadOutlined } from \"@ant-design/icons\";\nimport { yupResolver } from \"@hookform/resolvers/yup\";\nimport {\n  Button,\n  Form as FormAntDeisgn,\n  Input,\n  Upload,\n  UploadProps,\n  message,\n} from \"antd\";\nimport type { FormInstance } from \"antd/es/form\";\nimport Dragger from \"antd/es/upload/Dragger\";\nimport { collection, doc, updateDoc } from \"firebase/firestore\";\nimport { getDownloadURL, ref, uploadBytesResumable } from \"firebase/storage\";\nimport { assign, find, isEmpty, map } from \"lodash\";\nimport { useForm } from \"react-hook-form\";\nimport { useQueryClient } from \"react-query\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport * as yup from \"yup\";\nimport { FormItem } from \"../../../../../../components/Form\";\nimport { firestore, storage } from \"../../../../../../lib/firebase\";\n\nconst schema = yup\n  .object({\n    title: yup.string(),\n    // .required(\"Vui lng nhp tiu  gii thiu!\"),\n    description: yup.string(),\n    // .required(\"Vui lng nhp tiu  ph!\"),\n    gallery: yup\n      .mixed(),\n      // .required(\"Vui lng upload file hnh nh\")\n      // .test(\"fileEmpty\", \"Vui lng upload file hnh nh\", (value: any) => {\n      //   if (value?.length === 0) return false;\n\n      //   return true;\n      // }),\n    url: yup\n      .mixed()\n      .required(\"Vui lng upload file hnh nh\")\n      .test(\"fileEmpty\", \"Vui lng upload file hnh nh\", (value: any) => {\n        if (value?.length === 0) return false;\n\n        return true;\n      }),\n  })\n  .required();\n\nexport default function PreWeddingEditForm({\n  data,\n  file,\n  handleCancel,\n  refetch,\n}: {\n  data: any;\n  file: any;\n  handleCancel: () => void;\n  refetch: () => void;\n}) {\n  const isExistService = find(data?.stories?.preWedding, { id: file?.id });\n  const serviceItem = isExistService || file;\n\n  const defaultUrlItem = {\n    id: uuidv4(),\n    uid: uuidv4(),\n    status: \"done\",\n    url: serviceItem?.url,\n    name: serviceItem?.name,\n    alt: serviceItem?.alt,\n  };\n  const formRef = useRef<FormInstance>(null);\n  const [form] = FormAntDeisgn.useForm();\n  const [messageApi, contextHolder] = message.useMessage();\n  const [loading, setLoading] = useState(false);\n  const [fileList, setFileList] = useState<any[]>([]);\n  const [fileListUrl, setFileListUrl] = useState<any[]>([defaultUrlItem]);\n  const homePageRef = collection(firestore, \"homePage\");\n  //   const mutation = useFirestoreCollectionMutation(homePageRef);\n  const queryClient = useQueryClient();\n\n  const defaultValues = {\n    title: serviceItem?.title || \"\",\n    description: serviceItem?.description || \"\",\n    gallery: serviceItem?.gallery || [],\n    url: [defaultUrlItem],\n  };\n\n  const {\n    control,\n    handleSubmit,\n    formState: { errors },\n    reset,\n    setValue,\n  } = useForm<any>({\n    defaultValues: defaultValues,\n    resolver: yupResolver(schema),\n  });\n\n  useEffect(() => {\n    form.setFieldsValue({\n      title: serviceItem?.title || \"\",\n      description: serviceItem?.description || \"\",\n      gallery: serviceItem?.gallery || [],\n      url: [serviceItem?.url] || [],\n    });\n    setFileList(serviceItem?.gallery || []);\n    setFileListUrl([defaultUrlItem] || []);\n  }, [serviceItem, form]);\n\n  //   useEffect(() => {\n  //     form.setFieldsValue({\n  //       services: data?.[0]?.hero,\n  //     });\n  //     setFileList(data?.[0]?.hero);\n  //   }, [data, form]);\n\n  const handleUpload = async (info: any) => {\n    if (info.file.status === \"done\") {\n      setFileList((prev) => [\n        ...prev,\n        {\n          id: uuidv4(),\n          url: info.file.url,\n          name: info.file.name,\n          alt: info.file.name.substr(0, info.file.name.lastIndexOf(\".\")),\n        },\n      ]);\n      setValue(\"gallery\", [\n        ...fileList,\n        {\n          id: uuidv4(),\n          url: info.file.url,\n          name: info.file.name,\n          alt: info.file.name.substr(0, info.file.name.lastIndexOf(\".\")),\n        },\n      ]);\n      message.success(`${info.file.name} file uploaded successfully`);\n    } else if (info.file.status === \"error\") {\n      message.error(`${info.file.name} file upload failed.`);\n    }\n  };\n\n  const customRequest = async ({ file, onSuccess, onError }: any) => {\n    try {\n      // const storageRef = ref(storage, `/manager-page/${file.name}`);\n\n      // const uploadTask = uploadBytesResumable(storageRef, file);\n\n      // uploadTask.on(\n      //   \"state_changed\",\n      //   (snapshot) => {\n      //     const percent = Math.round(\n      //       (snapshot.bytesTransferred / snapshot.totalBytes) * 100\n      //     );\n\n      //     // update progress\n      //     // setPercent(percent);\n      //   },\n      //   (err) => console.log(err),\n      //   () => {\n      //     // download url\n      //     getDownloadURL(uploadTask.snapshot.ref).then((url) => {\n      //       onSuccess();\n      //       handleUpload({\n      //         file: {\n      //           status: \"done\",\n      //           name: file.name,\n      //           url,\n      //         },\n      //       });\n      //     });\n      //   }\n      // );\n      const reader = new FileReader();\n      reader.readAsDataURL(file);\n      reader.onload = (e: any) => {\n        const originalImage = new Image() as any;\n        originalImage.src = e.target.result;\n\n        originalImage.onload = () => {\n          // Define your desired dimensions\n          const maxWidth = 800;\n          const maxHeight = 800;\n\n          // Calculate the new dimensions while preserving the aspect ratio\n          const aspectRatio = originalImage.width / originalImage.height;\n          let newWidth, newHeight;\n          if (\n            originalImage.width > maxWidth ||\n            originalImage.height > maxHeight\n          ) {\n            if (aspectRatio > 1) {\n              newWidth = maxWidth;\n              newHeight = maxWidth / aspectRatio;\n            } else {\n              newWidth = maxHeight * aspectRatio;\n              newHeight = maxHeight;\n            }\n          } else {\n            newWidth = originalImage.width;\n            newHeight = originalImage.height;\n          }\n\n          // Create a canvas element to draw the resized image\n          const canvas = document.createElement(\"canvas\");\n          const ctx = canvas.getContext(\"2d\") as any;\n          canvas.width = newWidth;\n          canvas.height = newHeight;\n\n          // Draw the resized image on the canvas\n          ctx.drawImage(originalImage, 0, 0, newWidth, newHeight);\n\n          // Convert the canvas to a Blob (image file)\n          canvas.toBlob((blob: any) => {\n            // Create a new File object from the Blob\n            const resizedFile = new File([blob], file.name, {\n              type: file.type,\n            });\n            const storageRef = ref(\n              storage,\n              `/manager-page/${resizedFile.name}`\n            );\n            const uploadTask = uploadBytesResumable(storageRef, resizedFile);\n\n            uploadTask.on(\n              \"state_changed\",\n              (snapshot) => {\n                const percent = Math.round(\n                  (snapshot.bytesTransferred / snapshot.totalBytes) * 100\n                );\n\n                // update progress\n                // setPercent(percent);\n              },\n              (err) => console.log(err),\n              () => {\n                // download url\n                getDownloadURL(uploadTask.snapshot.ref).then((url) => {\n                  onSuccess();\n                  handleUpload({\n                    file: {\n                      status: \"done\",\n                      name: resizedFile.name,\n                      url,\n                    },\n                  });\n                });\n              }\n            );\n          }, file.type);\n        };\n      };\n    } catch (error) {\n      console.error(\"Error uploading file:\", error);\n      onError();\n    }\n  };\n  const handleChange: UploadProps[\"onChange\"] = ({ fileList: newFileList }) => {\n    if (fileList.length > 0) {\n      const matchingUrls = fileList?.reduce((result: any, image: any) => {\n        if (newFileList.some((file: any) => image?.id?.includes(file?.id))) {\n          result.push(image);\n        }\n        return result;\n      }, []);\n      setFileList(matchingUrls);\n      setValue(\"gallery\", matchingUrls);\n    }\n  };\n\n  const props: UploadProps = {\n    name: \"file\",\n    multiple: true,\n    listType: \"picture-card\",\n    // beforeUpload,\n    customRequest,\n    onChange: handleChange,\n    fileList,\n    onDrop(e) {\n      console.log(\"Dropped files\", e.dataTransfer.files);\n    },\n  };\n\n  // url\n\n  const handleUploadUrl = async (info: any) => {\n    if (info.file.status === \"done\") {\n      setFileListUrl([\n        {\n          id: uuidv4(),\n          url: info.file.url,\n          name: info.file.name,\n          alt: info.file.name.substr(0, info.file.name.lastIndexOf(\".\")),\n        },\n      ]);\n      setValue(\"url\", [\n        {\n          id: uuidv4(),\n          url: info.file.url,\n          name: info.file.name,\n          alt: info.file.name.substr(0, info.file.name.lastIndexOf(\".\")),\n        },\n      ]);\n      message.success(`${info.file.name} file uploaded successfully`);\n    } else if (info.file.status === \"error\") {\n      message.error(`${info.file.name} file upload failed.`);\n    }\n  };\n\n  const customRequestUrl = async ({ file, onSuccess, onError }: any) => {\n    try {\n      // const storageRef = ref(storage, `/manager-page/${file.name}`);\n\n      // const uploadTask = uploadBytesResumable(storageRef, file);\n\n      // uploadTask.on(\n      //   \"state_changed\",\n      //   (snapshot) => {\n      //     const percent = Math.round(\n      //       (snapshot.bytesTransferred / snapshot.totalBytes) * 100\n      //     );\n\n      //     // update progress\n      //     // setPercent(percent);\n      //   },\n      //   (err) => console.log(err),\n      //   () => {\n      //     // download url\n      //     getDownloadURL(uploadTask.snapshot.ref).then((url) => {\n      //       onSuccess();\n      //       handleUploadUrl({\n      //         file: {\n      //           status: \"done\",\n      //           name: file.name,\n      //           url,\n      //         },\n      //       });\n      //     });\n      //   }\n      // );\n      const reader = new FileReader();\n      reader.readAsDataURL(file);\n      reader.onload = (e: any) => {\n        const originalImage = new Image() as any;\n        originalImage.src = e.target.result;\n\n        originalImage.onload = () => {\n          // Define your desired dimensions\n          const maxWidth = 800;\n          const maxHeight = 800;\n\n          // Calculate the new dimensions while preserving the aspect ratio\n          const aspectRatio = originalImage.width / originalImage.height;\n          let newWidth, newHeight;\n          if (\n            originalImage.width > maxWidth ||\n            originalImage.height > maxHeight\n          ) {\n            if (aspectRatio > 1) {\n              newWidth = maxWidth;\n              newHeight = maxWidth / aspectRatio;\n            } else {\n              newWidth = maxHeight * aspectRatio;\n              newHeight = maxHeight;\n            }\n          } else {\n            newWidth = originalImage.width;\n            newHeight = originalImage.height;\n          }\n\n          // Create a canvas element to draw the resized image\n          const canvas = document.createElement(\"canvas\");\n          const ctx = canvas.getContext(\"2d\") as any;\n          canvas.width = newWidth;\n          canvas.height = newHeight;\n\n          // Draw the resized image on the canvas\n          ctx.drawImage(originalImage, 0, 0, newWidth, newHeight);\n\n          // Convert the canvas to a Blob (image file)\n          canvas.toBlob((blob: any) => {\n            // Create a new File object from the Blob\n            const resizedFile = new File([blob], file.name, {\n              type: file.type,\n            });\n            const storageRef = ref(\n              storage,\n              `/manager-page/${resizedFile.name}`\n            );\n            const uploadTask = uploadBytesResumable(storageRef, resizedFile);\n\n            uploadTask.on(\n              \"state_changed\",\n              (snapshot) => {\n                const percent = Math.round(\n                  (snapshot.bytesTransferred / snapshot.totalBytes) * 100\n                );\n\n                // update progress\n                // setPercent(percent);\n              },\n              (err) => console.log(err),\n              () => {\n                // download url\n                getDownloadURL(uploadTask.snapshot.ref).then((url) => {\n                  onSuccess();\n                  handleUploadUrl({\n                    file: {\n                      status: \"done\",\n                      name: resizedFile.name,\n                      url,\n                    },\n                  });\n                });\n              }\n            );\n          }, file.type);\n        };\n      };\n    } catch (error) {\n      console.error(\"Error uploading file:\", error);\n      onError();\n    }\n  };\n  const handleChangeUrl: UploadProps[\"onChange\"] = ({\n    fileList: newFileList,\n  }) => {\n    if (fileList.length > 0) {\n      const matchingUrls = fileListUrl?.reduce((result: any, image: any) => {\n        if (newFileList.some((file: any) => image?.id?.includes(file?.id))) {\n          result.push(image);\n        }\n        return result;\n      }, []);\n      setFileListUrl(matchingUrls);\n      setValue(\"url\", matchingUrls);\n    }\n  };\n\n  const urlProps: UploadProps = {\n    name: \"file\",\n    multiple: false,\n    listType: \"picture\",\n    // beforeUpload,\n    customRequest: customRequestUrl,\n    onChange: handleChangeUrl,\n    fileList: fileListUrl,\n    onDrop(e) {\n      console.log(\"Dropped files\", e.dataTransfer.files);\n    },\n  };\n\n  return (\n    <>\n      {contextHolder}\n      <FormAntDeisgn\n        form={form}\n        name=\"control-pre-wedding-edit-ref\"\n        ref={formRef}\n        layout=\"vertical\"\n        initialValues={defaultValues}\n        onFinish={handleSubmit(async (values: any) => {\n          const newPreWeddingItem = map(data?.stories?.preWedding, (item) => {\n            if (item.id === file.id) {\n              return assign({}, item, {\n                name: fileListUrl?.[0]?.name || fileListUrl?.[0]?.url,\n                alt: fileListUrl?.[0]?.alt || \"\",\n                url: fileListUrl?.[0]?.url || \"\",\n                title: values.title,\n                description: values.description,\n                gallery: fileList,\n              });\n            }\n            return item;\n          });\n\n          const payload = {\n            ...data,\n            stories: {\n              title: data?.stories?.title || \"\",\n              content: data?.stories?.content || \"\",\n              preWedding: isEmpty(isExistService)\n                ? [\n                    ...data?.stories?.preWedding,\n                    {\n                      id: uuidv4(),\n                      name: fileListUrl?.[0]?.name || fileListUrl?.[0]?.url,\n                      alt: fileListUrl?.[0]?.alt || \"\",\n                      url: fileListUrl?.[0]?.url || \"\",\n                      title: values.title,\n                      description: values.description,\n                      gallery: fileList,\n                    },\n                  ]\n                : newPreWeddingItem || [],\n              wedding: data?.stories?.wedding || [],\n            },\n          };\n          //   console.log(\"payload\", payload);\n          const docRef = doc(homePageRef, data.id);\n          await updateDoc(docRef, payload);\n          queryClient.invalidateQueries(\"homePage\");\n          setTimeout(async () => await refetch(), 300);\n          setLoading(true);\n          messageApi.open({\n            type: \"success\",\n            content: \"Cp nhp thnh cng!\",\n            duration: 5,\n          });\n          setLoading(false);\n          handleCancel?.();\n          form.resetFields();\n          formRef.current?.resetFields();\n          reset();\n        })}\n      >\n        <FormItem\n          control={control}\n          name=\"url\"\n          // valuePropName='fileList'\n          label=\"Upload hnh chnh ca pre wedding\"\n        >\n          <Upload {...urlProps}>\n            <Button icon={<UploadOutlined />}>Upload</Button>\n          </Upload>\n        </FormItem>\n        <FormItem\n          hasFeedback={false}\n          control={control}\n          name=\"title\"\n          label=\"Tiu \"\n        >\n          <Input.TextArea allowClear placeholder=\"Nhp tiu  dch v\" />\n        </FormItem>\n        <FormItem\n          hasFeedback={false}\n          control={control}\n          name=\"description\"\n          label=\"Ni dung\"\n        >\n          <Input.TextArea allowClear placeholder=\"Nhp ni dung\" />\n        </FormItem>\n        <FormItem\n          control={control}\n          name=\"gallery\"\n          // valuePropName='fileList'\n          label=\"Upload danh sch hnh detail v preWedding\"\n        >\n          <Dragger {...props}>\n            <p className=\"ant-upload-drag-icon\">\n              <InboxOutlined />\n            </p>\n            <p className=\"ant-upload-text\">\n              Nhp hoc ko tp vo khu vc ny  ti ln\n            </p>\n            <p className=\"ant-upload-hint\">\n              H tr ti ln mt ln hoc hng lot. Nghim cm ti ln d liu\n              cng ty hoc cc thng tin khc\n            </p>\n          </Dragger>\n        </FormItem>\n\n        <Button\n          loading={loading}\n          disabled={!isEmpty(errors)}\n          type=\"primary\"\n          htmlType=\"submit\"\n          block\n          size=\"large\"\n        >\n          Cp nht\n        </Button>\n      </FormAntDeisgn>\n    </>\n  );\n}\n","import React, { useEffect, useRef, useState } from \"react\";\nimport {\n  Button,\n  Form as FormAntDeisgn,\n  Modal,\n  UploadFile,\n  message,\n} from \"antd\";\nimport { FormInstance } from \"antd/es/form/Form\";\nimport { useForm } from \"react-hook-form\";\nimport { yupResolver } from \"@hookform/resolvers/yup\";\nimport * as yup from \"yup\";\nimport type { UploadProps } from \"antd\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport { ref, uploadBytesResumable, getDownloadURL } from \"firebase/storage\";\nimport { collection, doc, updateDoc } from \"firebase/firestore\";\nimport { firestore, storage } from \"../../../../../../lib/firebase\";\nimport { FormItem } from \"../../../../../../components/Form\";\nimport Dragger from \"antd/es/upload/Dragger\";\nimport { InboxOutlined } from \"@ant-design/icons\";\nimport { isEmpty } from \"lodash\";\nimport { HomePageModal, ServiceModal } from \"../../../../../../models\";\nimport { useQueryClient } from \"react-query\";\nimport { useFirestoreCollectionMutation } from \"@react-query-firebase/firestore\";\nimport PreWeddingEditForm from \"./PreWeddingEditForm\";\n\nconst defaultValues = {\n  preWedding: [],\n};\n\nconst schema = yup\n  .object({\n    preWedding: yup.mixed(),\n    // .required(\"Vui lng upload file hnh nh\")\n    // .test(\"fileEmpty\", \"Vui lng upload file hnh nh\", (value: any) => {\n    //   if (value?.length === 0) return false;\n\n    //   return true;\n    // }),\n  })\n  .required();\n\ninterface DraggableUploadListItemProps {\n  originNode: React.ReactElement<\n    any,\n    string | React.JSXElementConstructor<any>\n  >;\n  file: UploadFile<any>;\n}\n\nexport default function PreWeddingEditPage({\n  data,\n  refetch,\n  handleCancel,\n}: any) {\n  const formRef = useRef<FormInstance>(null);\n  const [form] = FormAntDeisgn.useForm();\n  const [messageApi, contextHolder] = message.useMessage();\n  const [loading, setLoading] = useState(false);\n  const [fileList, setFileList] = useState<any[]>([]);\n  const homePageRef = collection(firestore, \"homePage\");\n  // const mutation = useFirestoreCollectionMutation(homePageRef);\n  const queryClient = useQueryClient();\n  const [itemFile, setItemFile] = useState<any>({});\n\n  const [isOpen, setIsOpen] = useState(false);\n\n  const {\n    control,\n    handleSubmit,\n    formState: { errors },\n    reset,\n    getValues,\n    setValue,\n  } = useForm<any>({\n    defaultValues: { preWedding: data?.stories?.preWedding || [] },\n    resolver: yupResolver(schema),\n  });\n  const uuId = uuidv4();\n\n  const isEditPreWedding = data?.stories?.preWedding?.length > 0;\n\n  useEffect(() => {\n    form.setFieldsValue({\n      preWedding: data?.stories?.preWedding || [],\n    });\n    setFileList(data?.stories?.preWedding || []);\n  }, [data, form]);\n\n  const handleUpload = async (info: any) => {\n    if (info.file.status === \"done\") {\n      setFileList((prev) => [\n        ...prev,\n        {\n          id: uuidv4(),\n          url: info.file.url,\n          name: info.file.name,\n          alt: info.file.name.substr(0, info.file.name.lastIndexOf(\".\")),\n        },\n      ]);\n      setValue(\"preWedding\", [\n        ...fileList,\n        {\n          id: uuidv4(),\n          url: info.file.url,\n          name: info.file.name,\n          alt: info.file.name.substr(0, info.file.name.lastIndexOf(\".\")),\n        },\n      ]);\n      message.success(`${info.file.name} file uploaded successfully`);\n    } else if (info.file.status === \"error\") {\n      message.error(`${info.file.name} file upload failed.`);\n    }\n  };\n\n  const customRequest = async ({ file, onSuccess, onError }: any) => {\n    try {\n      // const storageRef = ref(storage, `/manager-page/${file.name}`);\n\n      // const uploadTask = uploadBytesResumable(storageRef, file);\n\n      // uploadTask.on(\n      //   \"state_changed\",\n      //   (snapshot) => {\n      //     const percent = Math.round(\n      //       (snapshot.bytesTransferred / snapshot.totalBytes) * 100\n      //     );\n\n      //     // update progress\n      //     // setPercent(percent);\n      //   },\n      //   (err) => console.log(err),\n      //   () => {\n      //     // download url\n      //     getDownloadURL(uploadTask.snapshot.ref).then((url) => {\n      //       onSuccess();\n      //       handleUpload({\n      //         file: {\n      //           status: \"done\",\n      //           name: file.name,\n      //           url,\n      //         },\n      //       });\n      //     });\n      //   }\n      // );\n      const reader = new FileReader();\n      reader.readAsDataURL(file);\n      reader.onload = (e: any) => {\n        const originalImage = new Image() as any;\n        originalImage.src = e.target.result;\n\n        originalImage.onload = () => {\n          // Define your desired dimensions\n          const maxWidth = 800;\n          const maxHeight = 800;\n\n          // Calculate the new dimensions while preserving the aspect ratio\n          const aspectRatio = originalImage.width / originalImage.height;\n          let newWidth, newHeight;\n          if (\n            originalImage.width > maxWidth ||\n            originalImage.height > maxHeight\n          ) {\n            if (aspectRatio > 1) {\n              newWidth = maxWidth;\n              newHeight = maxWidth / aspectRatio;\n            } else {\n              newWidth = maxHeight * aspectRatio;\n              newHeight = maxHeight;\n            }\n          } else {\n            newWidth = originalImage.width;\n            newHeight = originalImage.height;\n          }\n\n          // Create a canvas element to draw the resized image\n          const canvas = document.createElement(\"canvas\");\n          const ctx = canvas.getContext(\"2d\") as any;\n          canvas.width = newWidth;\n          canvas.height = newHeight;\n\n          // Draw the resized image on the canvas\n          ctx.drawImage(originalImage, 0, 0, newWidth, newHeight);\n\n          // Convert the canvas to a Blob (image file)\n          canvas.toBlob((blob: any) => {\n            // Create a new File object from the Blob\n            const resizedFile = new File([blob], file.name, {\n              type: file.type,\n            });\n            const storageRef = ref(\n              storage,\n              `/manager-page/${resizedFile.name}`\n            );\n            const uploadTask = uploadBytesResumable(storageRef, resizedFile);\n\n            uploadTask.on(\n              \"state_changed\",\n              (snapshot) => {\n                const percent = Math.round(\n                  (snapshot.bytesTransferred / snapshot.totalBytes) * 100\n                );\n\n                // update progress\n                // setPercent(percent);\n              },\n              (err) => console.log(err),\n              () => {\n                // download url\n                getDownloadURL(uploadTask.snapshot.ref).then((url) => {\n                  onSuccess();\n                  handleUpload({\n                    file: {\n                      status: \"done\",\n                      name: resizedFile.name,\n                      url,\n                    },\n                  });\n                });\n              }\n            );\n          }, file.type);\n        };\n      };\n    } catch (error) {\n      console.error(\"Error uploading file:\", error);\n      onError();\n    }\n  };\n  const handleChange: UploadProps[\"onChange\"] = ({ fileList: newFileList }) => {\n    if (fileList.length > 0) {\n      const matchingUrls = fileList?.reduce((result: any, image: any) => {\n        if (newFileList.some((file: any) => image?.id?.includes(file?.id))) {\n          result.push(image);\n        }\n        return result;\n      }, []);\n      setFileList(matchingUrls);\n      setValue(\"preWedding\", matchingUrls);\n    }\n  };\n  const props: UploadProps = {\n    name: \"file\",\n    multiple: true,\n    listType: \"picture\",\n    // beforeUpload,\n    customRequest,\n    onChange: handleChange,\n    fileList,\n    onDrop(e) {\n      console.log(\"Dropped files\", e.dataTransfer.files);\n    },\n  };\n\n  const handleShowModalForm = (item: any) => () => {\n    setIsOpen(true);\n    setItemFile(item);\n  };\n\n  const handleCloseModalForm = () => {\n    setIsOpen(false);\n  };\n\n  const DraggableUploadListItem = ({\n    originNode,\n    file,\n  }: DraggableUploadListItemProps) => {\n    return (\n      <div className=\"py-4\">\n        {originNode}\n        {isEditPreWedding && (\n          <Button className=\"!mt-2\" onClick={handleShowModalForm(file)}>\n            Chnh sa\n          </Button>\n        )}\n      </div>\n    );\n  };\n\n  return (\n    <>\n      {contextHolder}\n      <FormAntDeisgn\n        form={form}\n        name=\"control-preWedding-ref\"\n        ref={formRef}\n        layout=\"vertical\"\n        initialValues={defaultValues}\n        onFinish={handleSubmit(async (values) => {\n          const newPreWedding = fileList?.map((item: any) => {\n            if (isEmpty(item?.title)) {\n              return {\n                ...item,\n                title: \"\",\n                description: \"\",\n                gallery: [],\n              };\n            }\n            return item;\n          });\n          const payload: HomePageModal = {\n            ...data,\n            stories: {\n              title: data?.stories?.title || \"\",\n              content: data?.stories?.content || \"\",\n              wedding: data?.stories?.wedding || [],\n              preWedding: newPreWedding || [],\n            },\n          };\n          const docRef = doc(homePageRef, payload.id);\n          await updateDoc(docRef, payload);\n          queryClient.invalidateQueries(\"homePage\");\n          handleCancel?.();\n          setTimeout(async () => await refetch(), 300);\n          setLoading(true);\n          messageApi.open({\n            type: \"success\",\n            content: \"Chnh sa pre wedding thnh cng!\",\n            duration: 5,\n          });\n          setLoading(false);\n          form.resetFields();\n          formRef.current?.resetFields();\n          reset();\n        })}\n      >\n        <FormItem\n          control={control}\n          name=\"preWedding\"\n          // valuePropName='fileList'\n          label=\"Upload hnh nh pre wedding\"\n        >\n          <Dragger\n            {...props}\n            itemRender={(originNode, file) => {\n              return (\n                <DraggableUploadListItem originNode={originNode} file={file} />\n              );\n            }}\n          >\n            <p className=\"ant-upload-drag-icon\">\n              <InboxOutlined />\n            </p>\n            <p className=\"ant-upload-text\">\n              Nhp hoc ko tp vo khu vc ny  ti ln\n            </p>\n            <p className=\"ant-upload-hint\">\n              H tr ti ln mt ln hoc hng lot. Nghim cm ti ln d liu\n              cng ty hoc cc thng tin khc\n            </p>\n            {!isEditPreWedding && fileList?.length > 0 && (\n              <p className=\"text-red-600\">\n                Cp nht wedding  chnh sa chi tit ca tng hnh nh\n              </p>\n            )}\n          </Dragger>\n        </FormItem>\n        <Button\n          loading={loading}\n          disabled={!isEmpty(errors)}\n          type=\"primary\"\n          htmlType=\"submit\"\n          block\n          size=\"large\"\n        >\n          Cp nht\n        </Button>\n      </FormAntDeisgn>\n      <Modal\n        centered\n        bodyStyle={{ overflowY: \"scroll\", height: \"calc(100vh - 250px)\" }}\n        footer={null}\n        open={isOpen}\n        onCancel={handleCloseModalForm}\n        title=\"Cp nht thng tin pre wedding\"\n      >\n        <PreWeddingEditForm\n          refetch={refetch}\n          data={data}\n          file={itemFile}\n          handleCancel={handleCloseModalForm}\n        />\n      </Modal>\n    </>\n  );\n}\n","import React, { useEffect, useRef, useState } from \"react\";\nimport { InboxOutlined, UploadOutlined } from \"@ant-design/icons\";\nimport { yupResolver } from \"@hookform/resolvers/yup\";\nimport {\n  Button,\n  Form as FormAntDeisgn,\n  Input,\n  Upload,\n  UploadProps,\n  message,\n} from \"antd\";\nimport type { FormInstance } from \"antd/es/form\";\nimport Dragger from \"antd/es/upload/Dragger\";\nimport { collection, doc, updateDoc } from \"firebase/firestore\";\nimport { getDownloadURL, ref, uploadBytesResumable } from \"firebase/storage\";\nimport { assign, find, isEmpty, map } from \"lodash\";\nimport { useForm } from \"react-hook-form\";\nimport { useQueryClient } from \"react-query\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport * as yup from \"yup\";\nimport { FormItem } from \"../../../../../../components/Form\";\nimport { firestore, storage } from \"../../../../../../lib/firebase\";\n\nconst schema = yup\n  .object({\n    title: yup.string(),\n    // .required(\"Vui lng nhp tiu  gii thiu!\"),\n    description: yup.string(),\n    // .required(\"Vui lng nhp tiu  ph!\"),\n    gallery: yup\n      .mixed()\n      .required(\"Vui lng upload file hnh nh\")\n      .test(\"fileEmpty\", \"Vui lng upload file hnh nh\", (value: any) => {\n        if (value?.length === 0) return false;\n\n        return true;\n      }),\n    url: yup\n      .mixed()\n      .required(\"Vui lng upload file hnh nh\")\n      .test(\"fileEmpty\", \"Vui lng upload file hnh nh\", (value: any) => {\n        if (value?.length === 0) return false;\n\n        return true;\n      }),\n  })\n  .required();\n\nexport default function WeddingEditForm({\n  data,\n  file,\n  handleCancel,\n  refetch,\n}: {\n  data: any;\n  file: any;\n  handleCancel: () => void;\n  refetch: () => void;\n}) {\n  const isExistService = find(data?.stories?.wedding, { id: file?.id });\n  const serviceItem = isExistService || file;\n\n  const defaultUrlItem = {\n    id: uuidv4(),\n    uid: uuidv4(),\n    status: \"done\",\n    url: serviceItem?.url,\n    name: serviceItem?.name,\n    alt: serviceItem?.alt,\n  };\n  const formRef = useRef<FormInstance>(null);\n  const [form] = FormAntDeisgn.useForm();\n  const [messageApi, contextHolder] = message.useMessage();\n  const [loading, setLoading] = useState(false);\n  const [fileList, setFileList] = useState<any[]>([]);\n  const [fileListUrl, setFileListUrl] = useState<any[]>([defaultUrlItem]);\n  const homePageRef = collection(firestore, \"homePage\");\n  //   const mutation = useFirestoreCollectionMutation(homePageRef);\n  const queryClient = useQueryClient();\n\n  const defaultValues = {\n    title: serviceItem?.title || \"\",\n    description: serviceItem?.description || \"\",\n    gallery: serviceItem?.gallery || [],\n    url: [defaultUrlItem],\n  };\n\n  const {\n    control,\n    handleSubmit,\n    formState: { errors },\n    reset,\n    setValue,\n  } = useForm<any>({\n    defaultValues: defaultValues,\n    resolver: yupResolver(schema),\n  });\n\n  useEffect(() => {\n    form.setFieldsValue({\n      title: serviceItem?.title || \"\",\n      description: serviceItem?.description || \"\",\n      gallery: serviceItem?.gallery || [],\n      url: [serviceItem?.url] || [],\n    });\n    setFileList(serviceItem?.gallery || []);\n    setFileListUrl([defaultUrlItem] || []);\n  }, [serviceItem, form]);\n\n  //   useEffect(() => {\n  //     form.setFieldsValue({\n  //       services: data?.[0]?.hero,\n  //     });\n  //     setFileList(data?.[0]?.hero);\n  //   }, [data, form]);\n\n  const handleUpload = async (info: any) => {\n    if (info.file.status === \"done\") {\n      setFileList((prev) => [\n        ...prev,\n        {\n          id: uuidv4(),\n          url: info.file.url,\n          name: info.file.name,\n          alt: info.file.name.substr(0, info.file.name.lastIndexOf(\".\")),\n        },\n      ]);\n      setValue(\"gallery\", [\n        ...fileList,\n        {\n          id: uuidv4(),\n          url: info.file.url,\n          name: info.file.name,\n          alt: info.file.name.substr(0, info.file.name.lastIndexOf(\".\")),\n        },\n      ]);\n      message.success(`${info.file.name} file uploaded successfully`);\n    } else if (info.file.status === \"error\") {\n      message.error(`${info.file.name} file upload failed.`);\n    }\n  };\n\n  const customRequest = async ({ file, onSuccess, onError }: any) => {\n    try {\n      // const storageRef = ref(storage, `/manager-page/${file.name}`);\n\n      // const uploadTask = uploadBytesResumable(storageRef, file);\n\n      // uploadTask.on(\n      //   \"state_changed\",\n      //   (snapshot) => {\n      //     const percent = Math.round(\n      //       (snapshot.bytesTransferred / snapshot.totalBytes) * 100\n      //     );\n\n      //     // update progress\n      //     // setPercent(percent);\n      //   },\n      //   (err) => console.log(err),\n      //   () => {\n      //     // download url\n      //     getDownloadURL(uploadTask.snapshot.ref).then((url) => {\n      //       onSuccess();\n      //       handleUpload({\n      //         file: {\n      //           status: \"done\",\n      //           name: file.name,\n      //           url,\n      //         },\n      //       });\n      //     });\n      //   }\n      // );\n      const reader = new FileReader();\n      reader.readAsDataURL(file);\n      reader.onload = (e: any) => {\n        const originalImage = new Image() as any;\n        originalImage.src = e.target.result;\n\n        originalImage.onload = () => {\n          // Define your desired dimensions\n          const maxWidth = 800;\n          const maxHeight = 800;\n\n          // Calculate the new dimensions while preserving the aspect ratio\n          const aspectRatio = originalImage.width / originalImage.height;\n          let newWidth, newHeight;\n          if (\n            originalImage.width > maxWidth ||\n            originalImage.height > maxHeight\n          ) {\n            if (aspectRatio > 1) {\n              newWidth = maxWidth;\n              newHeight = maxWidth / aspectRatio;\n            } else {\n              newWidth = maxHeight * aspectRatio;\n              newHeight = maxHeight;\n            }\n          } else {\n            newWidth = originalImage.width;\n            newHeight = originalImage.height;\n          }\n\n          // Create a canvas element to draw the resized image\n          const canvas = document.createElement(\"canvas\");\n          const ctx = canvas.getContext(\"2d\") as any;\n          canvas.width = newWidth;\n          canvas.height = newHeight;\n\n          // Draw the resized image on the canvas\n          ctx.drawImage(originalImage, 0, 0, newWidth, newHeight);\n\n          // Convert the canvas to a Blob (image file)\n          canvas.toBlob((blob: any) => {\n            // Create a new File object from the Blob\n            const resizedFile = new File([blob], file.name, {\n              type: file.type,\n            });\n            const storageRef = ref(\n              storage,\n              `/manager-page/${resizedFile.name}`\n            );\n            const uploadTask = uploadBytesResumable(storageRef, resizedFile);\n\n            uploadTask.on(\n              \"state_changed\",\n              (snapshot) => {\n                const percent = Math.round(\n                  (snapshot.bytesTransferred / snapshot.totalBytes) * 100\n                );\n\n                // update progress\n                // setPercent(percent);\n              },\n              (err) => console.log(err),\n              () => {\n                // download url\n                getDownloadURL(uploadTask.snapshot.ref).then((url) => {\n                  onSuccess();\n                  handleUpload({\n                    file: {\n                      status: \"done\",\n                      name: resizedFile.name,\n                      url,\n                    },\n                  });\n                });\n              }\n            );\n          }, file.type);\n        };\n      };\n    } catch (error) {\n      console.error(\"Error uploading file:\", error);\n      onError();\n    }\n  };\n  const handleChange: UploadProps[\"onChange\"] = ({ fileList: newFileList }) => {\n    if (fileList.length > 0) {\n      const matchingUrls = fileList?.reduce((result: any, image: any) => {\n        if (newFileList.some((file: any) => image?.id?.includes(file?.id))) {\n          result.push(image);\n        }\n        return result;\n      }, []);\n      setFileList(matchingUrls);\n      setValue(\"gallery\", matchingUrls);\n    }\n  };\n\n  const props: UploadProps = {\n    name: \"file\",\n    multiple: true,\n    listType: \"picture-card\",\n    // beforeUpload,\n    customRequest,\n    onChange: handleChange,\n    fileList,\n    onDrop(e) {\n      console.log(\"Dropped files\", e.dataTransfer.files);\n    },\n  };\n\n  // url\n\n  const handleUploadUrl = async (info: any) => {\n    if (info.file.status === \"done\") {\n      setFileListUrl([\n        {\n          id: uuidv4(),\n          url: info.file.url,\n          name: info.file.name,\n          alt: info.file.name.substr(0, info.file.name.lastIndexOf(\".\")),\n        },\n      ]);\n      setValue(\"url\", [\n        {\n          id: uuidv4(),\n          url: info.file.url,\n          name: info.file.name,\n          alt: info.file.name.substr(0, info.file.name.lastIndexOf(\".\")),\n        },\n      ]);\n      message.success(`${info.file.name} file uploaded successfully`);\n    } else if (info.file.status === \"error\") {\n      message.error(`${info.file.name} file upload failed.`);\n    }\n  };\n\n  const customRequestUrl = async ({ file, onSuccess, onError }: any) => {\n    try {\n      // const storageRef = ref(storage, `/manager-page/${file.name}`);\n\n      // const uploadTask = uploadBytesResumable(storageRef, file);\n\n      // uploadTask.on(\n      //   \"state_changed\",\n      //   (snapshot) => {\n      //     const percent = Math.round(\n      //       (snapshot.bytesTransferred / snapshot.totalBytes) * 100\n      //     );\n\n      //     // update progress\n      //     // setPercent(percent);\n      //   },\n      //   (err) => console.log(err),\n      //   () => {\n      //     // download url\n      //     getDownloadURL(uploadTask.snapshot.ref).then((url) => {\n      //       onSuccess();\n      //       handleUploadUrl({\n      //         file: {\n      //           status: \"done\",\n      //           name: file.name,\n      //           url,\n      //         },\n      //       });\n      //     });\n      //   }\n      // );\n      const reader = new FileReader();\n      reader.readAsDataURL(file);\n      reader.onload = (e: any) => {\n        const originalImage = new Image() as any;\n        originalImage.src = e.target.result;\n\n        originalImage.onload = () => {\n          // Define your desired dimensions\n          const maxWidth = 800;\n          const maxHeight = 800;\n\n          // Calculate the new dimensions while preserving the aspect ratio\n          const aspectRatio = originalImage.width / originalImage.height;\n          let newWidth, newHeight;\n          if (\n            originalImage.width > maxWidth ||\n            originalImage.height > maxHeight\n          ) {\n            if (aspectRatio > 1) {\n              newWidth = maxWidth;\n              newHeight = maxWidth / aspectRatio;\n            } else {\n              newWidth = maxHeight * aspectRatio;\n              newHeight = maxHeight;\n            }\n          } else {\n            newWidth = originalImage.width;\n            newHeight = originalImage.height;\n          }\n\n          // Create a canvas element to draw the resized image\n          const canvas = document.createElement(\"canvas\");\n          const ctx = canvas.getContext(\"2d\") as any;\n          canvas.width = newWidth;\n          canvas.height = newHeight;\n\n          // Draw the resized image on the canvas\n          ctx.drawImage(originalImage, 0, 0, newWidth, newHeight);\n\n          // Convert the canvas to a Blob (image file)\n          canvas.toBlob((blob: any) => {\n            // Create a new File object from the Blob\n            const resizedFile = new File([blob], file.name, {\n              type: file.type,\n            });\n            const storageRef = ref(\n              storage,\n              `/manager-page/${resizedFile.name}`\n            );\n            const uploadTask = uploadBytesResumable(storageRef, resizedFile);\n\n            uploadTask.on(\n              \"state_changed\",\n              (snapshot) => {\n                const percent = Math.round(\n                  (snapshot.bytesTransferred / snapshot.totalBytes) * 100\n                );\n\n                // update progress\n                // setPercent(percent);\n              },\n              (err) => console.log(err),\n              () => {\n                // download url\n                getDownloadURL(uploadTask.snapshot.ref).then((url) => {\n                  onSuccess();\n                  handleUploadUrl({\n                    file: {\n                      status: \"done\",\n                      name: resizedFile.name,\n                      url,\n                    },\n                  });\n                });\n              }\n            );\n          }, file.type);\n        };\n      };\n    } catch (error) {\n      console.error(\"Error uploading file:\", error);\n      onError();\n    }\n  };\n  const handleChangeUrl: UploadProps[\"onChange\"] = ({\n    fileList: newFileList,\n  }) => {\n    if (fileList.length > 0) {\n      const matchingUrls = fileListUrl?.reduce((result: any, image: any) => {\n        if (newFileList.some((file: any) => image?.id?.includes(file?.id))) {\n          result.push(image);\n        }\n        return result;\n      }, []);\n      setFileListUrl(matchingUrls);\n      setValue(\"url\", matchingUrls);\n    }\n  };\n\n  const urlProps: UploadProps = {\n    name: \"file\",\n    multiple: false,\n    listType: \"picture\",\n    // beforeUpload,\n    customRequest: customRequestUrl,\n    onChange: handleChangeUrl,\n    fileList: fileListUrl,\n    onDrop(e) {\n      console.log(\"Dropped files\", e.dataTransfer.files);\n    },\n  };\n\n  return (\n    <>\n      {contextHolder}\n      <FormAntDeisgn\n        form={form}\n        name=\"control-wedding-edit-ref\"\n        ref={formRef}\n        layout=\"vertical\"\n        initialValues={defaultValues}\n        onFinish={handleSubmit(async (values: any) => {\n          const newWeddingItem = map(data?.stories?.wedding, (item) => {\n            if (item.id === file.id) {\n              return assign({}, item, {\n                name: fileListUrl?.[0]?.name || fileListUrl?.[0]?.url,\n                alt: fileListUrl?.[0]?.alt || \"\",\n                url: fileListUrl?.[0]?.url || \"\",\n                title: values.title,\n                description: values.description,\n                gallery: fileList,\n              });\n            }\n            return item;\n          });\n\n          const payload = {\n            ...data,\n            stories: {\n              title: data?.stories?.title || \"\",\n              content: data?.stories?.content || \"\",\n              wedding: isEmpty(isExistService)\n                ? [\n                    ...data?.stories?.wedding,\n                    {\n                      id: uuidv4(),\n                      name: fileListUrl?.[0]?.name || fileListUrl?.[0]?.url,\n                      alt: fileListUrl?.[0]?.alt || \"\",\n                      url: fileListUrl?.[0]?.url || \"\",\n                      title: values.title,\n                      description: values.description,\n                      gallery: fileList,\n                    },\n                  ]\n                : newWeddingItem || [],\n              preWedding: data?.stories?.preWedding || [],\n            },\n          };\n          const docRef = doc(homePageRef, data.id);\n          await updateDoc(docRef, payload);\n          queryClient.invalidateQueries(\"homePage\");\n          setTimeout(async () => await refetch(), 300);\n          setLoading(true);\n          messageApi.open({\n            type: \"success\",\n            content: \"Cp nhp thnh cng!\",\n            duration: 5,\n          });\n          setLoading(false);\n          handleCancel?.();\n          form.resetFields();\n          formRef.current?.resetFields();\n          reset();\n        })}\n      >\n        <FormItem\n          control={control}\n          name=\"url\"\n          // valuePropName='fileList'\n          label=\"Upload hnh chnh ca wedding\"\n        >\n          <Upload {...urlProps}>\n            <Button icon={<UploadOutlined />}>Upload</Button>\n          </Upload>\n        </FormItem>\n        <FormItem\n          hasFeedback={false}\n          control={control}\n          name=\"title\"\n          label=\"Tiu \"\n        >\n          <Input.TextArea allowClear placeholder=\"Nhp tiu  dch v\" />\n        </FormItem>\n        <FormItem\n          hasFeedback={false}\n          control={control}\n          name=\"description\"\n          label=\"Ni dung\"\n        >\n          <Input.TextArea allowClear placeholder=\"Nhp ni dung\" />\n        </FormItem>\n        <FormItem\n          control={control}\n          name=\"gallery\"\n          // valuePropName='fileList'\n          label=\"Upload danh sch hnh detail v Wedding\"\n        >\n          <Dragger {...props}>\n            <p className=\"ant-upload-drag-icon\">\n              <InboxOutlined />\n            </p>\n            <p className=\"ant-upload-text\">\n              Nhp hoc ko tp vo khu vc ny  ti ln\n            </p>\n            <p className=\"ant-upload-hint\">\n              H tr ti ln mt ln hoc hng lot. Nghim cm ti ln d liu\n              cng ty hoc cc thng tin khc\n            </p>\n          </Dragger>\n        </FormItem>\n        <Button\n          loading={loading}\n          disabled={!isEmpty(errors)}\n          type=\"primary\"\n          htmlType=\"submit\"\n          block\n          size=\"large\"\n        >\n          Cp nht\n        </Button>\n      </FormAntDeisgn>\n    </>\n  );\n}\n","import React, { useEffect, useRef, useState } from \"react\";\nimport {\n  Button,\n  Form as FormAntDeisgn,\n  Modal,\n  UploadFile,\n  message,\n} from \"antd\";\nimport { FormInstance } from \"antd/es/form/Form\";\nimport { useForm } from \"react-hook-form\";\nimport { yupResolver } from \"@hookform/resolvers/yup\";\nimport * as yup from \"yup\";\nimport type { UploadProps } from \"antd\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport { ref, uploadBytesResumable, getDownloadURL } from \"firebase/storage\";\nimport { collection, doc, updateDoc } from \"firebase/firestore\";\nimport { firestore, storage } from \"../../../../../../lib/firebase\";\nimport { FormItem } from \"../../../../../../components/Form\";\nimport Dragger from \"antd/es/upload/Dragger\";\nimport { InboxOutlined } from \"@ant-design/icons\";\nimport { isEmpty } from \"lodash\";\nimport { HomePageModal, ServiceModal } from \"../../../../../../models\";\nimport { useQueryClient } from \"react-query\";\nimport { useFirestoreCollectionMutation } from \"@react-query-firebase/firestore\";\nimport WeddingEditForm from \"./WeddingEditForm\";\n\nconst defaultValues = {\n  wedding: [],\n};\n\nconst schema = yup\n  .object({\n    wedding: yup.mixed(),\n    // .required(\"Vui lng upload file hnh nh\")\n    // .test(\"fileEmpty\", \"Vui lng upload file hnh nh\", (value: any) => {\n    //   if (value?.length === 0) return false;\n\n    //   return true;\n    // }),\n  })\n  .required();\n\ninterface DraggableUploadListItemProps {\n  originNode: React.ReactElement<\n    any,\n    string | React.JSXElementConstructor<any>\n  >;\n  file: UploadFile<any>;\n}\n\nexport default function PreWeddingEditPage({\n  data,\n  refetch,\n  handleCancel,\n}: any) {\n  const formRef = useRef<FormInstance>(null);\n  const [form] = FormAntDeisgn.useForm();\n  const [messageApi, contextHolder] = message.useMessage();\n  const [loading, setLoading] = useState(false);\n  const [fileList, setFileList] = useState<any[]>([]);\n  const homePageRef = collection(firestore, \"homePage\");\n  // const mutation = useFirestoreCollectionMutation(homePageRef);\n  const queryClient = useQueryClient();\n  const [itemFile, setItemFile] = useState<any>({});\n\n  const [isOpen, setIsOpen] = useState(false);\n\n  const {\n    control,\n    handleSubmit,\n    formState: { errors },\n    reset,\n    getValues,\n    setValue,\n  } = useForm<any>({\n    defaultValues: { wedding: data?.stories?.wedding || [] },\n    resolver: yupResolver(schema),\n  });\n  const uuId = uuidv4();\n\n  const isEditWedding = data?.stories?.wedding?.length > 0;\n\n  useEffect(() => {\n    form.setFieldsValue({\n      wedding: data?.stories?.wedding || [],\n    });\n    setFileList(data?.stories?.wedding || []);\n  }, [data, form]);\n\n  const handleUpload = async (info: any) => {\n    if (info.file.status === \"done\") {\n      setFileList((prev) => [\n        ...prev,\n        {\n          id: uuidv4(),\n          url: info.file.url,\n          name: info.file.name,\n          alt: info.file.name.substr(0, info.file.name.lastIndexOf(\".\")),\n        },\n      ]);\n      setValue(\"wedding\", [\n        ...fileList,\n        {\n          id: uuidv4(),\n          url: info.file.url,\n          name: info.file.name,\n          alt: info.file.name.substr(0, info.file.name.lastIndexOf(\".\")),\n        },\n      ]);\n      message.success(`${info.file.name} file uploaded successfully`);\n    } else if (info.file.status === \"error\") {\n      message.error(`${info.file.name} file upload failed.`);\n    }\n  };\n\n  const customRequest = async ({ file, onSuccess, onError }: any) => {\n    try {\n      // const storageRef = ref(storage, `/manager-page/${file.name}`);\n\n      // const uploadTask = uploadBytesResumable(storageRef, file);\n\n      // uploadTask.on(\n      //   \"state_changed\",\n      //   (snapshot) => {\n      //     const percent = Math.round(\n      //       (snapshot.bytesTransferred / snapshot.totalBytes) * 100\n      //     );\n\n      //     // update progress\n      //     // setPercent(percent);\n      //   },\n      //   (err) => console.log(err),\n      //   () => {\n      //     // download url\n      //     getDownloadURL(uploadTask.snapshot.ref).then((url) => {\n      //       onSuccess();\n      //       handleUpload({\n      //         file: {\n      //           status: \"done\",\n      //           name: file.name,\n      //           url,\n      //         },\n      //       });\n      //     });\n      //   }\n      // );\n      const reader = new FileReader();\n      reader.readAsDataURL(file);\n      reader.onload = (e: any) => {\n        const originalImage = new Image() as any;\n        originalImage.src = e.target.result;\n\n        originalImage.onload = () => {\n          // Define your desired dimensions\n          const maxWidth = 800;\n          const maxHeight = 800;\n\n          // Calculate the new dimensions while preserving the aspect ratio\n          const aspectRatio = originalImage.width / originalImage.height;\n          let newWidth, newHeight;\n          if (\n            originalImage.width > maxWidth ||\n            originalImage.height > maxHeight\n          ) {\n            if (aspectRatio > 1) {\n              newWidth = maxWidth;\n              newHeight = maxWidth / aspectRatio;\n            } else {\n              newWidth = maxHeight * aspectRatio;\n              newHeight = maxHeight;\n            }\n          } else {\n            newWidth = originalImage.width;\n            newHeight = originalImage.height;\n          }\n\n          // Create a canvas element to draw the resized image\n          const canvas = document.createElement(\"canvas\");\n          const ctx = canvas.getContext(\"2d\") as any;\n          canvas.width = newWidth;\n          canvas.height = newHeight;\n\n          // Draw the resized image on the canvas\n          ctx.drawImage(originalImage, 0, 0, newWidth, newHeight);\n\n          // Convert the canvas to a Blob (image file)\n          canvas.toBlob((blob: any) => {\n            // Create a new File object from the Blob\n            const resizedFile = new File([blob], file.name, {\n              type: file.type,\n            });\n            const storageRef = ref(\n              storage,\n              `/manager-page/${resizedFile.name}`\n            );\n            const uploadTask = uploadBytesResumable(storageRef, resizedFile);\n\n            uploadTask.on(\n              \"state_changed\",\n              (snapshot) => {\n                const percent = Math.round(\n                  (snapshot.bytesTransferred / snapshot.totalBytes) * 100\n                );\n\n                // update progress\n                // setPercent(percent);\n              },\n              (err) => console.log(err),\n              () => {\n                // download url\n                getDownloadURL(uploadTask.snapshot.ref).then((url) => {\n                  onSuccess();\n                  handleUpload({\n                    file: {\n                      status: \"done\",\n                      name: resizedFile.name,\n                      url,\n                    },\n                  });\n                });\n              }\n            );\n          }, file.type);\n        };\n      };\n    } catch (error) {\n      console.error(\"Error uploading file:\", error);\n      onError();\n    }\n  };\n  const handleChange: UploadProps[\"onChange\"] = ({ fileList: newFileList }) => {\n    if (fileList.length > 0) {\n      const matchingUrls = fileList?.reduce((result: any, image: any) => {\n        if (newFileList.some((file: any) => image?.id?.includes(file?.id))) {\n          result.push(image);\n        }\n        return result;\n      }, []);\n      setFileList(matchingUrls);\n      setValue(\"wedding\", matchingUrls);\n    }\n  };\n  const props: UploadProps = {\n    name: \"file\",\n    multiple: true,\n    listType: \"picture\",\n    // beforeUpload,\n    customRequest,\n    onChange: handleChange,\n    fileList,\n    onDrop(e) {\n      console.log(\"Dropped files\", e.dataTransfer.files);\n    },\n  };\n\n  const handleShowModalForm = (item: any) => () => {\n    setIsOpen(true);\n    setItemFile(item);\n  };\n\n  const handleCloseModalForm = () => {\n    setIsOpen(false);\n  };\n\n  const DraggableUploadListItem = ({\n    originNode,\n    file,\n  }: DraggableUploadListItemProps) => {\n    return (\n      <div className=\"py-4\">\n        {originNode}\n        {isEditWedding && (\n          <Button className=\"!mt-2\" onClick={handleShowModalForm(file)}>\n            Chnh sa\n          </Button>\n        )}\n      </div>\n    );\n  };\n\n  return (\n    <>\n      {contextHolder}\n      <FormAntDeisgn\n        form={form}\n        name=\"control-wedding-ref\"\n        ref={formRef}\n        layout=\"vertical\"\n        initialValues={defaultValues}\n        onFinish={handleSubmit(async (values) => {\n          const newWedding = fileList?.map((item: any) => {\n            if (isEmpty(item?.title)) {\n              return {\n                ...item,\n                title: \"\",\n                description: \"\",\n                gallery: [],\n              };\n            }\n            return item;\n          });\n          //   console.log(\"newPreWedding\", newPreWedding);\n          const payload: HomePageModal = {\n            ...data,\n            stories: {\n              title: data?.stories?.title || \"\",\n              content: data?.stories?.content || \"\",\n              preWedding: data?.stories?.preWedding || [],\n              wedding: newWedding || [],\n            },\n          };\n          // console.log(\"payload\", payload);\n          const docRef = doc(homePageRef, payload.id);\n          await updateDoc(docRef, payload);\n          queryClient.invalidateQueries(\"homePage\");\n          handleCancel?.();\n          setTimeout(async () => await refetch(), 300);\n          setLoading(true);\n          messageApi.open({\n            type: \"success\",\n            content: \"Chnh sa wedding thnh cng!\",\n            duration: 5,\n          });\n          setLoading(false);\n          form.resetFields();\n          formRef.current?.resetFields();\n          reset();\n        })}\n      >\n        <FormItem\n          control={control}\n          name=\"Wedding\"\n          // valuePropName='fileList'\n          label=\"Upload hnh nh wedding\"\n        >\n          <Dragger\n            {...props}\n            itemRender={(originNode, file) => {\n              return (\n                <DraggableUploadListItem originNode={originNode} file={file} />\n              );\n            }}\n          >\n            <p className=\"ant-upload-drag-icon\">\n              <InboxOutlined />\n            </p>\n            <p className=\"ant-upload-text\">\n              Nhp hoc ko tp vo khu vc ny  ti ln\n            </p>\n            <p className=\"ant-upload-hint\">\n              H tr ti ln mt ln hoc hng lot. Nghim cm ti ln d liu\n              cng ty hoc cc thng tin khc\n            </p>\n            {!isEditWedding && fileList?.length > 0 && (\n              <p className=\"text-red-600\">\n                Cp nht wedding  chnh sa chi tit ca tng hnh nh\n              </p>\n            )}\n          </Dragger>\n        </FormItem>\n        <Button\n          loading={loading}\n          disabled={!isEmpty(errors)}\n          type=\"primary\"\n          htmlType=\"submit\"\n          block\n          size=\"large\"\n        >\n          Cp nht\n        </Button>\n      </FormAntDeisgn>\n      <Modal\n        centered\n        bodyStyle={{ overflowY: \"scroll\", height: \"calc(100vh - 250px)\" }}\n        footer={null}\n        open={isOpen}\n        onCancel={handleCloseModalForm}\n        title=\"Cp nht thng tin wedding\"\n      >\n        <WeddingEditForm\n          refetch={refetch}\n          data={data}\n          file={itemFile}\n          handleCancel={handleCloseModalForm}\n        />\n      </Modal>\n    </>\n  );\n}\n","import { Tabs, TabsProps } from \"antd\";\nimport PreWeddingEditPage from \"./PreWeddingEditPage/index\";\nimport WeddingEditPage from \"./WeddingEditPage/index\";\n\nexport default function AllWeddingEditPage({\n  data,\n  handleCancel,\n  refetch,\n}: {\n  data: any;\n  handleCancel: () => void;\n  refetch: () => void;\n}) {\n  console.log(\"datadata\", data);\n  const items: TabsProps[\"items\"] = [\n    {\n      key: \"1\",\n      label: \"PRE WEDDING\",\n      children: (\n        <PreWeddingEditPage\n          data={data}\n          refetch={refetch}\n          handleCancel={handleCancel}\n        />\n      ),\n    },\n    {\n      key: \"2\",\n      label: \"PHNG S CI\",\n      children: (\n        <WeddingEditPage\n          data={data}\n          refetch={refetch}\n          handleCancel={handleCancel}\n        />\n      ),\n    },\n  ];\n\n  return <Tabs defaultActiveKey=\"1\" centered items={items} />;\n}\n","import { Breadcrumb, Card, Modal, Tabs, TabsProps } from \"antd\";\r\nimport React, { useState } from \"react\";\r\nimport Hero from \"../../../components/Hero\";\r\nimport IntroduceStudio from \"../../../components/IntroduceStudio\";\r\nimport Services from \"../../../components/Services\";\r\nimport Stories from \"../../../components/Stories\";\r\nimport Testimonials from \"../../../components/Testimonials\";\r\n\r\nimport HeroEditPage from \"../EditPage/HomePage/HeroEditPage\";\r\nimport { useHomePage } from \"./useHomePage\";\r\nimport IntroduceStudioEditPage from \"../EditPage/HomePage/IntroduceStudioEditPage\";\r\nimport ServicesEditPage from \"../EditPage/HomePage/ServicesEditPage/index\";\r\nimport StoriesEditPage from \"../EditPage/HomePage/StoriesEditPage\";\r\nimport TestimonialsEditPage from \"../EditPage/HomePage/TestimonialsEditPage\";\r\nimport PreWeddingDay from \"../../../components/Stories/PreWeddingDay\";\r\nimport WeddingDay from \"../../../components/Stories/WeddingDay\";\r\nimport AllWeddingEditPage from \"../EditPage/HomePage/StoriesEditPage/AllWeddingEditPage\";\r\n\r\n// {\r\n//   hero: false,\r\n//   introduceStudio: false,\r\n//   services: false,\r\n//   stories: false,\r\n//   testimonials: false\r\n// }\r\n\r\nexport default function HomePage() {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [activeModal, setActiveModal] = useState<string>(\"\");\r\n  const { data, refetch } = useHomePage();\r\n\r\n  const handleShowModalEdit = (value: string) => () => {\r\n    setIsOpen(true);\r\n    setActiveModal(value);\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    setIsOpen(false);\r\n  };\r\n\r\n  const renderEditComponent: any = {\r\n    hero: (\r\n      <HeroEditPage data={data} refetch={refetch} handleCancel={handleCancel} />\r\n    ),\r\n    introduceStudio: (\r\n      <IntroduceStudioEditPage\r\n        data={data?.[0] || {}}\r\n        refetch={refetch}\r\n        handleCancel={handleCancel}\r\n      />\r\n    ),\r\n    services: (\r\n      <ServicesEditPage\r\n        data={data}\r\n        refetch={refetch}\r\n        handleCancel={handleCancel}\r\n      />\r\n    ),\r\n    stories: (\r\n      <StoriesEditPage\r\n        data={data?.[0] || {}}\r\n        refetch={refetch}\r\n        handleCancel={handleCancel}\r\n      />\r\n    ),\r\n    testimonials: (\r\n      <TestimonialsEditPage\r\n        data={data?.[0] || {}}\r\n        refetch={refetch}\r\n        handleCancel={handleCancel}\r\n      />\r\n    ),\r\n    preWedding: (\r\n      <AllWeddingEditPage\r\n        data={data?.[0] || {}}\r\n        refetch={refetch}\r\n        handleCancel={handleCancel}\r\n      />\r\n    ),\r\n  };\r\n\r\n  const items: TabsProps[\"items\"] = [\r\n    {\r\n      key: \"1\",\r\n      label: \"PRE WEDDING\",\r\n      children: <PreWeddingDay data={data?.[0]?.stories?.preWedding || []} />,\r\n    },\r\n    {\r\n      key: \"2\",\r\n      label: \"PHNG S CI\",\r\n      children: <WeddingDay data={data?.[0]?.stories?.wedding || []} />,\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <>\r\n      <div className=\"m-2 p-2 md:p-10 bg-white rounded-3xl\">\r\n        <div className=\"mb-4\">\r\n          <Breadcrumb\r\n            items={[\r\n              {\r\n                href: \"/\",\r\n                title: \"Qun l trang\",\r\n              },\r\n              {\r\n                title: \"Trang ch\",\r\n              },\r\n            ]}\r\n          />\r\n        </div>\r\n        <div className=\"flex flex-col gap-6\">\r\n          <Card\r\n            title=\"Banner Header (Carousel)\"\r\n            extra={\r\n              <p\r\n                className=\"text-blue-600 cursor-pointer\"\r\n                onClick={handleShowModalEdit(\"hero\")}\r\n              >\r\n                Chnh sa\r\n              </p>\r\n            }\r\n          >\r\n            <Hero data={data?.[0]?.hero} />\r\n          </Card>\r\n          <Card\r\n            title=\"Gii thiu\"\r\n            extra={\r\n              <p\r\n                className=\"text-blue-600 cursor-pointer\"\r\n                onClick={handleShowModalEdit(\"introduceStudio\")}\r\n              >\r\n                Chnh sa\r\n              </p>\r\n            }\r\n          >\r\n            <IntroduceStudio {...data?.[0]?.introduceStudio} />\r\n          </Card>\r\n          <Card\r\n            title=\"Danh sch dch v\"\r\n            extra={\r\n              <p\r\n                className=\"text-blue-600 cursor-pointer\"\r\n                onClick={handleShowModalEdit(\"services\")}\r\n              >\r\n                Chnh sa\r\n              </p>\r\n            }\r\n          >\r\n            <Services services={data?.[0]?.services} />\r\n          </Card>\r\n          <Card\r\n            title=\"Danh sch Album ci\"\r\n            extra={\r\n              <p\r\n                className=\"text-blue-600 cursor-pointer\"\r\n                onClick={handleShowModalEdit(\"stories\")}\r\n              >\r\n                Chnh sa\r\n              </p>\r\n            }\r\n          >\r\n            <Stories stories={data?.[0]?.stories} />\r\n            <Card\r\n              title=\"Danh sch PreWedding and Wedding\"\r\n              extra={\r\n                <p\r\n                  className=\"text-blue-600 cursor-pointer\"\r\n                  onClick={handleShowModalEdit(\"preWedding\")}\r\n                >\r\n                  Chnh sa\r\n                </p>\r\n              }\r\n            >\r\n              <Tabs defaultActiveKey=\"1\" centered items={items} />\r\n            </Card>\r\n          </Card>\r\n          <Card\r\n            title=\"Nhn xt ca khch hng\"\r\n            extra={\r\n              <p\r\n                className=\"text-blue-600 cursor-pointer\"\r\n                onClick={handleShowModalEdit(\"testimonials\")}\r\n              >\r\n                Chnh sa\r\n              </p>\r\n            }\r\n          >\r\n            <Testimonials\r\n              titleReviewer={data?.[0]?.titleReviewer}\r\n              reviewer={data?.[0]?.reviewer}\r\n            />\r\n          </Card>\r\n        </div>\r\n      </div>\r\n      <Modal\r\n        centered\r\n        open={isOpen}\r\n        title=\"Chnh sa\"\r\n        onCancel={handleCancel}\r\n        bodyStyle={{ overflowY: \"scroll\", height: \"calc(100vh - 200px)\" }}\r\n        footer={null}\r\n      >\r\n        {(renderEditComponent[activeModal] as React.ReactNode) ?? (\r\n          <HeroEditPage />\r\n        )}\r\n      </Modal>\r\n    </>\r\n  );\r\n}\r\n","import { useFirestoreQuery } from '@react-query-firebase/firestore';\r\nimport { query, collection } from 'firebase/firestore';\r\nimport { firestore } from '../../../lib/firebase';\r\nimport { HomePageModal } from '../../../models';\r\n\r\nexport function useHomePage() {\r\n\tconst ref = query(collection(firestore, 'homePage'));\r\n\t// Provide the query to the hook\r\n\tconst queryContract = useFirestoreQuery(['homePage'], ref);\r\n\tconst snapshot = queryContract.data;\r\n\tlet data: any[] = [];\r\n\tsnapshot?.forEach((docSnapshot) => {\r\n\t\tdata.push({ id: docSnapshot.id, ...docSnapshot.data() });\r\n\t});\r\n\r\n\tconst refetch = async () => {\r\n\t\ttry {\r\n\t\t\tawait queryContract.refetch(); // You can use refetch to fetch data again\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error('Error refetching wedding dress data:', error);\r\n\t\t}\r\n\t};\r\n\r\n\treturn {\r\n\t\tisError: queryContract.isError,\r\n\t\tisLoading: queryContract.isLoading,\r\n\t\tdata: data as HomePageModal[],\r\n\t\trefetch\r\n\t};\r\n}\r\n"],"names":["CustomCarousel","_ref","children","others","_objectWithoutProperties","_excluded","carouselRef","useRef","_jsxs","className","_jsx","Carousel","_objectSpread","autoplay","ref","Button","onClick","_carouselRef$current2","current","prev","shape","icon","LeftOutlined","size","color","colors","primary","_carouselRef$current","next","RightOutlined","FormItem","_errors$name$message","_errors$name","control","name","help","_ref$hasFeedback","hasFeedback","props","_useController","useController","field","fieldState","errors","formState","AntdForm","Item","normalize","value","onChange","validateStatus","invalid","undefined","message","cn","_len","arguments","length","classes","Array","_key","twMerge","clsx","Hero","data","_Fragment","map","item","index","alt","src","url","IntroduceStudio","title","subTitle","content","subContent","userName","userRole","ServiceItem","description","gallery","showDescription","btnShowMore","_useState","useState","_useState2","_slicedToArray","visible","setVisible","console","log","Image","PreviewGroup","items","preview","onVisibleChange","Services","_gridColumnNumber$ser","services","Stories","stories","Testimonials","reviewer","titleReviewer","dots","width","height","defaultValues","hero","schema","yup","required","test","HeroEditPage","_data$","refetch","handleCancel","formRef","_FormAntDeisgn$useFor","FormAntDeisgn","useForm","form","_message$useMessage","useMessage","_message$useMessage2","messageApi","contextHolder","loading","setLoading","_useState3","_useState4","fileList","setFileList","homePageRef","collection","firestore","queryClient","useFirestoreCollectionMutation","useQueryClient","_useForm","resolver","yupResolver","handleSubmit","reset","setValue","getValues","uuId","uuidv4","useEffect","_data$2","_data$3","setFieldsValue","handleUpload","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","info","wrap","_context","file","status","concat","_toConsumableArray","id","substr","lastIndexOf","success","error","stop","_x","apply","customRequest","_ref4","_callee2","_ref3","onSuccess","onError","reader","_context2","FileReader","readAsDataURL","onload","e","originalImage","target","result","newWidth","newHeight","maxWidth","aspectRatio","canvas","document","createElement","ctx","getContext","drawImage","toBlob","blob","resizedFile","File","type","storageRef","storage","uploadTask","uploadBytesResumable","on","snapshot","Math","round","bytesTransferred","totalBytes","err","getDownloadURL","then","_x2","multiple","listType","_ref5","newFileList","matchingUrls","reduce","image","some","_image$id","includes","push","onDrop","dataTransfer","files","layout","initialValues","onFinish","_ref6","_callee4","values","_formRef$current","payload","docRef","_context4","doc","updateDoc","invalidateQueries","setTimeout","_callee3","_context3","abrupt","sent","open","duration","resetFields","_x3","label","Dragger","InboxOutlined","disabled","isEmpty","htmlType","block","IntroduceStudioEditPage","_data$introduceStudio","_data$introduceStudio2","_data$introduceStudio3","_data$introduceStudio4","_data$introduceStudio5","_data$introduceStudio6","introduceStudio","_data$introduceStudio7","_data$introduceStudio8","_data$introduceStudio9","_data$introduceStudio10","_data$introduceStudio11","_data$introduceStudio12","Input","TextArea","allowClear","placeholder","serviceTitle","serviceDescription","serviceGallery","serviceUrl","ServiceEditForm","serviceItem","find","defaultUrlItem","uid","_useState5","_useState6","fileListUrl","setFileListUrl","handleUploadUrl","customRequestUrl","_ref8","_ref7","_x4","urlProps","_ref9","_image$id2","_ref10","_callee6","newServiceItem","_context6","_fileListUrl$","_fileListUrl$2","_fileListUrl$3","_fileListUrl$4","assign","_callee5","_context5","_x5","Upload","UploadOutlined","ServicesEditPage","itemFile","setItemFile","_useState7","_useState8","isOpen","setIsOpen","handleCloseModalForm","DraggableUploadListItem","originNode","newServices","itemRender","Modal","centered","bodyStyle","overflowY","footer","onCancel","StoriesEditPage","_data$stories","_data$stories2","_data$stories3","_data$stories4","_data$stories5","_data$stories6","preWedding","wedding","style","ReviewerForm","isExistReviewer","reviewerItem","_fileListUrl$5","_fileListUrl$6","_fileListUrl$7","_fileListUrl$8","newReviewer","TestimonialsEditPage","_data$reviewer","isEditReviewer","newReviewers","PreWeddingDay","_gridColumnNumber$dat","WeddingDay","PreWeddingEditForm","isExistService","newPreWeddingItem","PreWeddingEditPage","_data$stories2$preWed","isEditPreWedding","_data$stories7","newPreWedding","WeddingEditForm","newWeddingItem","_data$stories2$weddin","isEditWedding","newWedding","AllWeddingEditPage","key","WeddingEditPage","Tabs","defaultActiveKey","HomePage","_data$$stories","_data$2$stories","_data$4","_data$5","_data$6","_data$7","_data$8","activeModal","setActiveModal","_useHomePage","query","queryContract","useFirestoreQuery","forEach","docSnapshot","t0","isError","isLoading","useHomePage","handleShowModalEdit","renderEditComponent","testimonials","Breadcrumb","href","Card","extra"],"sourceRoot":""}