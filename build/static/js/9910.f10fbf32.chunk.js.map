{"version":3,"file":"static/js/9910.f10fbf32.chunk.js","mappings":"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","sources":["components/Editor/Parser.ts","components/Editor/index.tsx","pages/Contract/ContractTypeList/useContractType.tsx","pages/Contract/ServicesArisingList/useServicesArising.tsx","pages/Contract/EditContract/index.tsx","pages/Contract/index.tsx"],"sourcesContent":["import { remark } from \"remark\";\r\nimport remarkHtml from \"remark-html\";\r\n\r\nimport rehypeParse from \"rehype-parse\";\r\nimport rehypeRemark from \"rehype-remark\";\r\nimport remarkStringify from \"remark-stringify\";\r\n\r\nexport function markdownToHtml(markdownText: string) {\r\n  const file = remark().use(remarkHtml).processSync(markdownText);\r\n  return String(file);\r\n}\r\n\r\nexport function htmlToMarkdown(htmlText: string) {\r\n  const file = remark()\r\n    .use(rehypeParse, { emitParseErrors: true, duplicateAttribute: false })\r\n    .use(rehypeRemark)\r\n    .use(remarkStringify)\r\n    .processSync(htmlText);\r\n\r\n  return String(file);\r\n}\r\n","import { useEffect, useRef, useState } from \"react\";\r\nimport ReactQuill, { Quill } from \"react-quill\";\r\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\r\n// @ts-ignore\r\nimport * as Emoji from \"quill-emoji\";\r\nimport { markdownToHtml, htmlToMarkdown } from \"./Parser\";\r\n\r\nimport \"react-quill/dist/quill.snow.css\";\r\nimport \"quill-emoji/dist/quill-emoji.css\";\r\n\r\nQuill.register(\"modules/emoji\", Emoji);\r\n\r\nexport interface EditorContentChanged {\r\n  html: string;\r\n  markdown: string;\r\n}\r\n\r\nexport interface EditorProps {\r\n  value?: string;\r\n  onChange?: (changes: EditorContentChanged) => void;\r\n}\r\n\r\nconst TOOLBAR_OPTIONS = [\r\n  [{ header: [1, 2, 3, false] }],\r\n  [\"bold\", \"italic\", \"underline\", \"strike\", \"blockquote\", \"link\"],\r\n  [{ list: \"ordered\" }, { list: \"bullet\" }],\r\n  [{ indent: \"-1\" }, { indent: \"+1\" }],\r\n  [\"emoji\"],\r\n  [\"clean\"],\r\n];\r\n\r\nexport default function Editor(props: EditorProps) {\r\n  const [value, setValue] = useState<string>(\r\n    (props?.value?.[0] as any)?.html || (props?.value as any)?.html\r\n  );\r\n  const reactQuillRef = useRef<ReactQuill>(null);\r\n\r\n  const onChange = (content: string) => {\r\n    setValue(content);\r\n    if (props.onChange) {\r\n      props.onChange({\r\n        html: content,\r\n        markdown: htmlToMarkdown(content),\r\n      });\r\n    }\r\n  };\r\n  useEffect(\r\n    () =>\r\n      setValue((props?.value?.[0] as any)?.html || (props?.value as any)?.html),\r\n    [props?.value]\r\n  );\r\n\r\n  return (\r\n    <ReactQuill\r\n      ref={reactQuillRef}\r\n      theme=\"snow\"\r\n      placeholder=\"Nhập chú thích của hợp đồng\"\r\n      modules={{\r\n        toolbar: {\r\n          container: TOOLBAR_OPTIONS,\r\n        },\r\n        \"emoji-toolbar\": true,\r\n        \"emoji-textarea\": false,\r\n        \"emoji-shortname\": true,\r\n      }}\r\n      className=\"h-[360px]\"\r\n      value={value}\r\n      onChange={onChange}\r\n    />\r\n  );\r\n}\r\n","import { useFirestoreQuery } from \"@react-query-firebase/firestore\";\r\nimport { query, collection } from \"firebase/firestore\";\r\nimport { firestore } from \"../../../lib/firebase\";\r\nimport { ContractType } from \"../../../models/ContractModel\";\r\n\r\nexport function useContractType() {\r\n  const ref = query(collection(firestore, \"contractType\"));\r\n  // Provide the query to the hook\r\n  const queryContractType = useFirestoreQuery([\"contractType\"], ref);\r\n  const snapshot = queryContractType.data;\r\n  let data: any[] = [];\r\n  snapshot?.forEach((docSnapshot) => {\r\n    data.push({ id: docSnapshot.id, ...docSnapshot.data() });\r\n  });\r\n\r\n  const refetch = async () => {\r\n    try {\r\n      await queryContractType.refetch(); // You can use refetch to fetch data again\r\n    } catch (error) {\r\n      console.error(\"Error refetching wedding dress data:\", error);\r\n    }\r\n  };\r\n\r\n  return {\r\n    isError: queryContractType.isError,\r\n    isLoading: queryContractType.isLoading,\r\n    data: data as ContractType[],\r\n    refetch,\r\n  };\r\n}\r\n","import { useFirestoreQuery } from \"@react-query-firebase/firestore\";\r\nimport { query, collection } from \"firebase/firestore\";\r\nimport { firestore } from \"../../../lib/firebase\";\r\nimport { ContractType, ServicesArising } from \"../../../models/ContractModel\";\r\n\r\nexport function useServicesArising() {\r\n  const ref = query(collection(firestore, \"servicesArising\"));\r\n  // Provide the query to the hook\r\n  const queryServicesArising = useFirestoreQuery([\"servicesArising\"], ref);\r\n  const snapshot = queryServicesArising.data;\r\n  let data: any[] = [];\r\n  snapshot?.forEach((docSnapshot) => {\r\n    data.push({ id: docSnapshot.id, ...docSnapshot.data() });\r\n  });\r\n\r\n  const refetch = async () => {\r\n    try {\r\n      await queryServicesArising.refetch(); // You can use refetch to fetch data again\r\n    } catch (error) {\r\n      console.error(\"Error refetching wedding dress data:\", error);\r\n    }\r\n  };\r\n\r\n  return {\r\n    isError: queryServicesArising.isError,\r\n    isLoading: queryServicesArising.isLoading,\r\n    data: data as ServicesArising[],\r\n    refetch,\r\n  };\r\n}\r\n","import React, { useRef, useState, useEffect } from \"react\";\nimport { InboxOutlined } from \"@ant-design/icons\";\nimport { yupResolver } from \"@hookform/resolvers/yup\";\nimport {\n  Card,\n  Checkbox,\n  Popconfirm,\n  Radio,\n  SelectProps,\n  Space,\n  UploadProps,\n} from \"antd\";\nimport {\n  Badge,\n  Button,\n  DatePicker,\n  Form as FormAntDeisgn,\n  Input,\n  InputNumber,\n  Select,\n  Upload,\n  message,\n} from \"antd\";\nimport type { FormInstance } from \"antd/es/form\";\nimport dayjs from \"dayjs\";\nimport { collection, doc, updateDoc } from \"firebase/firestore\";\nimport { getDownloadURL, ref, uploadBytesResumable } from \"firebase/storage\";\nimport {\n  capitalize,\n  filter,\n  find,\n  isArray,\n  isEmpty,\n  isUndefined,\n  map,\n  reduce,\n} from \"lodash\";\nimport { useForm } from \"react-hook-form\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport { useQueryClient } from \"react-query\";\nimport * as yup from \"yup\";\nimport { FormItem } from \"../../../components/Form\";\nimport { firestore, storage } from \"../../../lib/firebase\";\nimport { ContractModel } from \"../../../models\";\nimport {\n  StatusColorType,\n  formatCurrency,\n  generateSlugUrl,\n  getStatusColor,\n  isVietnamesePhoneNumber,\n} from \"../../../utils\";\nimport Editor from \"../../../components/Editor\";\nimport { useServicesArising } from \"../ServicesArisingList/useServicesArising\";\nimport { cn } from \"../../../lib/cs\";\nimport { useUser } from \"../../../store/useUser\";\nimport { useContractType } from \"../ContractTypeList/useContractType\";\nconst { Dragger } = Upload;\n\nconst currentDate = dayjs();\nconst dateFormat = \"DD-MM-YYYY\";\n\nconst statusList = [\"pending\", \"active\", \"complete\", \"canceled\", \"rejected\"];\nconst dressNameList = [\n  \"Premium\",\n  \"Limited\",\n  \"Luxury\",\n  \"Ruby\",\n  \"Basic\",\n  \"Áo Dài\",\n];\n\nconst dressTypeList = [\"Chụp ảnh cưới\", \"Thuê váy cưới\", \"Quay phóng sự\"];\n\nconst schema = yup\n  .object({\n    // contractType: yup.string().required(\"Vui lòng chọn loại hợp đồng\"),\n    // dressName: yup.string().required(\"Vui lòng chọn loại váy cưới\"),\n    status: yup.string().required(\"Vui lòng chọn trạng thái hợp đồng\"),\n    phone: yup\n      .string()\n      .required(\"Vui lòng nhập số điện thoại của bạn!\")\n      .test(\"phone\", \"Số điên thoại sai định dạng\", (str, context) => {\n        return isVietnamesePhoneNumber(str);\n      }),\n    createDate: yup.date().required(\"Chọn ngày ký hợp đồng\"),\n    shootingDate: yup.date().required(\"Chọn ngày bấm máy\"),\n    dueDate: yup.date().required(\"Chọn ngày hoàn thành hợp đồng\"),\n    // .min(\n    //   currentDate,\n    //   \"Ngày hoàn thành hợp đồng lớn hơn hoặc bằng ngày hiện tại!\"\n    // ),\n    // contractPrice: yup.string().required(\"Vui lòng nhập giá hợp đồng\"),\n    address: yup.string().required(\"Vui lòng địa chỉ\"),\n    // contractImage: yup\n    //   .mixed()\n    //   .required(\"Vui lòng upload file hình ảnh\")\n    //   .test(\"fileEmpty\", \"Vui lòng upload file hình ảnh\", (value: any) => {\n    //     if (value?.length === 0) return false;\n    //     return true;\n    //   }),\n  })\n  .required();\n\nexport default function EditContract({\n  defaultValues,\n  handleCancel,\n  refetch,\n}: {\n  defaultValues: ContractModel;\n  handleCancel: () => void;\n  refetch: () => void;\n}) {\n  const formRef = useRef<FormInstance>(null);\n  const [form] = FormAntDeisgn.useForm();\n  const [messageApi, contextHolder] = message.useMessage();\n  const [loading, setLoading] = useState(false);\n  const [listItems, setListItems] = useState<any>(\n    defaultValues?.servicesArisingItems\n  );\n  const [listContractItems, setListContractItems] = useState<any>(\n    defaultValues?.contractPriceItems || []\n  );\n  const [selectedItem, setSelectedItem] = useState<any>(null);\n  const [quantity, setQuantity] = useState(1);\n  const [discountArising, setDiscountArising] = useState(0);\n  const [showQuantityInput, setShowQuantityInput] = useState(false);\n  const [selectedContractItem, setSelectedContractItem] = useState<any>(null);\n  const [quantityContract, setQuantityContract] = useState(1);\n  const [discountContract, setDiscountContract] = useState(0);\n  const [showQuantityContractInput, setShowQuantityContractInput] =\n    useState(false);\n  const contractRef = collection(firestore, \"contract\");\n  const queryClient = useQueryClient();\n  const { user } = useUser();\n  const isAdmin = user?.permission === \"admin\";\n\n  const [fileList, setFileList] = useState<any[]>(defaultValues.contractImage);\n  const uuId = uuidv4();\n  const { data: servicesArisingData } = useServicesArising();\n  const { data: contractTypeData } = useContractType();\n\n  const {\n    control,\n    handleSubmit,\n    formState: { errors },\n    reset,\n    setValue,\n    getValues,\n  } = useForm<any>({\n    mode: \"onChange\",\n    defaultValues: {\n      ...defaultValues,\n      customerType: defaultValues?.customerType ?? \"offline\",\n      notes: defaultValues?.notes?.[0]?.html || \"<p></p>\",\n    },\n    resolver: yupResolver(schema),\n  });\n\n      console.log(\"defaultValues\", defaultValues);\n\n  useEffect(() => {\n    form.setFieldsValue({\n      id: defaultValues.id,\n      contractType: defaultValues.contractType,\n      servicesArising: (defaultValues as any)?.servicesArising,\n      status: defaultValues.status,\n      phone: defaultValues.phone,\n      address: defaultValues.address,\n      createDate: defaultValues.createDate,\n      dueDate: defaultValues.dueDate,\n      shootingDate: defaultValues.shootingDate,\n      firstDepositPriceDate: defaultValues.firstDepositPriceDate,\n      secondDepositPriceDate: defaultValues.secondDepositPriceDate,\n      firstDepositPrice: defaultValues?.firstDepositPrice,\n      secondDepositPrice: defaultValues?.secondDepositPrice,\n      contractPrice: defaultValues.contractPrice,\n      contractImage: defaultValues.contractImage,\n      notes: defaultValues?.notes,\n      firstPaymentMethod: defaultValues?.firstPaymentMethod,\n      secondPaymentMethod: defaultValues?.secondPaymentMethod,\n      userName: defaultValues?.userName,\n      customerType: defaultValues?.customerType ?? \"offline\",\n      firstCheckDeposit: defaultValues?.firstCheckDeposit ?? false,\n      secondCheckDeposit: defaultValues?.secondCheckDeposit ?? false,\n    });\n\n    setValue(\"id\", defaultValues?.id);\n    setValue(\"notes\", defaultValues?.notes);\n    setValue(\"status\", defaultValues?.status);\n    setValue(\"phone\", defaultValues?.phone);\n    setValue(\"address\", defaultValues?.address);\n    setValue(\"createDate\", defaultValues?.createDate);\n    setValue(\"dueDate\", defaultValues?.dueDate);\n    setValue(\"shootingDate\", defaultValues?.shootingDate);\n    setValue(\"firstDepositPriceDate\", defaultValues?.firstDepositPriceDate);\n    setValue(\"secondDepositPriceDate\", defaultValues?.secondDepositPriceDate);\n    setValue(\"firstDepositPrice\", defaultValues?.firstDepositPrice);\n    setValue(\"secondDepositPrice\", defaultValues?.secondDepositPrice);\n    setValue(\"contractPrice\", defaultValues?.contractPrice);\n    setValue(\"userName\", defaultValues?.userName);\n    setValue(\"contractImage\", defaultValues?.contractImage);\n    setValue(\"firstPaymentMethod\", defaultValues?.firstPaymentMethod);\n    setValue(\"secondPaymentMethod\", defaultValues?.secondPaymentMethod);\n    setValue(\"contractType\", defaultValues.contractType);\n    setValue(\"customerType\", defaultValues.customerType ?? \"offline\");\n    setValue(\"serviceArising\", (defaultValues as any)?.servicesArising);\n    setFileList(defaultValues.contractImage);\n    setListItems(defaultValues?.servicesArisingItems || []);\n    setListContractItems(defaultValues?.contractPriceItems || []);\n    setValue(\"firstCheckDeposit\", defaultValues?.firstCheckDeposit ?? false);\n    setValue(\"secondCheckDeposit\", defaultValues?.secondCheckDeposit ?? false);\n  }, [defaultValues, form, setValue]);\n\n  // useEffect(() => {\n  //   setListItems(defaultValues?.servicesArisingItems || []);\n  //   setListContractItems(defaultValues?.contractPriceItems || []);\n  // }, [defaultValues]);\n\n  const contractTypeValue = FormAntDeisgn.useWatch(\"contractType\", form);\n\n  const handleUpload = async (info: any) => {\n    if (info.file.status === \"done\") {\n      setFileList((prev) => [\n        ...prev,\n        {\n          id: uuId,\n          url: info.file.url,\n          name: info.file.name,\n        },\n      ]);\n      setValue(\"contractImage\", [\n        ...fileList,\n        {\n          id: uuId,\n          url: info.file.url,\n          name: info.file.name,\n        },\n      ]);\n      message.success(`${info.file.name} file uploaded successfully`);\n    } else if (info.file.status === \"error\") {\n      message.error(`${info.file.name} file upload failed.`);\n    }\n  };\n\n  const customRequest = async ({ file, onSuccess, onError }: any) => {\n    try {\n      // const storageRef = ref(storage, `/files/${file.name}`);\n\n      // const uploadTask = uploadBytesResumable(storageRef, file);\n\n      // uploadTask.on(\n      //   \"state_changed\",\n      //   (snapshot) => {\n      //     const percent = Math.round(\n      //       (snapshot.bytesTransferred / snapshot.totalBytes) * 100\n      //     );\n\n      //     // update progress\n      //     // setPercent(percent);\n      //   },\n      //   (err) => console.log(err),\n      //   () => {\n      //     // download url\n      //     getDownloadURL(uploadTask.snapshot.ref).then((url) => {\n      //       onSuccess();\n      //       handleUpload({\n      //         file: {\n      //           status: \"done\",\n      //           name: file.name,\n      //           url,\n      //         },\n      //       });\n      //     });\n      //   }\n      // );\n      const reader = new FileReader();\n      reader.readAsDataURL(file);\n      reader.onload = (e: any) => {\n        const originalImage = new Image() as any;\n        originalImage.src = e.target.result;\n\n        originalImage.onload = () => {\n          // Define your desired dimensions\n          const maxWidth = 800;\n          const maxHeight = 800;\n\n          // Calculate the new dimensions while preserving the aspect ratio\n          const aspectRatio = originalImage.width / originalImage.height;\n          let newWidth, newHeight;\n          if (\n            originalImage.width > maxWidth ||\n            originalImage.height > maxHeight\n          ) {\n            if (aspectRatio > 1) {\n              newWidth = maxWidth;\n              newHeight = maxWidth / aspectRatio;\n            } else {\n              newWidth = maxHeight * aspectRatio;\n              newHeight = maxHeight;\n            }\n          } else {\n            newWidth = originalImage.width;\n            newHeight = originalImage.height;\n          }\n\n          // Create a canvas element to draw the resized image\n          const canvas = document.createElement(\"canvas\");\n          const ctx = canvas.getContext(\"2d\") as any;\n          canvas.width = newWidth;\n          canvas.height = newHeight;\n\n          // Draw the resized image on the canvas\n          ctx.drawImage(originalImage, 0, 0, newWidth, newHeight);\n\n          // Convert the canvas to a Blob (image file)\n          canvas.toBlob((blob: any) => {\n            // Create a new File object from the Blob\n            const resizedFile = new File([blob], file.name, {\n              type: file.type,\n            });\n            const storageRef = ref(\n              storage,\n              `/manager-page/${resizedFile.name}`\n            );\n            const uploadTask = uploadBytesResumable(storageRef, resizedFile);\n\n            uploadTask.on(\n              \"state_changed\",\n              (snapshot) => {\n                const percent = Math.round(\n                  (snapshot.bytesTransferred / snapshot.totalBytes) * 100\n                );\n\n                // update progress\n                // setPercent(percent);\n              },\n              (err) => console.log(err),\n              () => {\n                // download url\n                getDownloadURL(uploadTask.snapshot.ref).then((url) => {\n                  onSuccess();\n                  handleUpload({\n                    file: {\n                      status: \"done\",\n                      name: resizedFile.name,\n                      url,\n                    },\n                  });\n                });\n              }\n            );\n          }, file.type);\n        };\n      };\n    } catch (error) {\n      console.error(\"Error uploading file:\", error);\n      onError();\n    }\n  };\n  const handleChange: UploadProps[\"onChange\"] = ({ fileList: newFileList }) => {\n    if (fileList.length > 0) {\n      const matchingUrls = fileList?.reduce((result: any, image: any) => {\n        if (newFileList.some((file: any) => image?.id?.includes(file?.id))) {\n          result.push(image);\n        }\n        return result;\n      }, []);\n      setFileList(matchingUrls);\n      setValue(\"contractImage\", matchingUrls);\n    }\n  };\n  const props: UploadProps = {\n    name: \"file\",\n    multiple: true,\n    listType: \"picture\",\n    // beforeUpload,\n    customRequest,\n    onChange: handleChange,\n    fileList,\n    onDrop(e) {\n      console.log(\"Dropped files\", e.dataTransfer.files);\n    },\n  };\n  const options: SelectProps[\"options\"] = map(servicesArisingData, (data) => {\n    const findSelectedArising = find(listItems, [\"value\", data.serviceName]);\n    const renderLabelArising = () => {\n      return (\n        <span\n          onClick={(e) => {\n            const isExistItem = find(listItems, { value: data.serviceName });\n            const payload = {\n              key: generateSlugUrl(`${data.serviceName}`),\n              value: data.serviceName,\n              label: data.serviceName,\n              quantity: isExistItem?.quantity || quantity,\n              discount: isExistItem?.discount || discountContract,\n            };\n            isExistItem?.quantity && setQuantity(isExistItem?.quantity);\n            isExistItem?.discount >= 0 &&\n              setDiscountArising(isExistItem?.discount);\n            setSelectedItem(data.serviceName);\n            if (!isExistItem) {\n              const isExistContract = find(servicesArisingData, {\n                serviceName: payload?.value,\n              });\n              setListItems([\n                ...listContractItems,\n                { ...payload, price: isExistContract?.servicePrice || 0 },\n              ]);\n            }\n            setShowQuantityInput(true);\n          }}\n        >\n          {!isEmpty(findSelectedArising)\n            ? `${data.serviceName} - (${findSelectedArising?.quantity}) ${\n                findSelectedArising?.discount > 0\n                  ? `- (discount ${formatCurrency(\n                      `${findSelectedArising?.discount}`\n                    )})`\n                  : \"\"\n              }`\n            : data.serviceName}\n        </span>\n      );\n    };\n    return {\n      value: data.serviceName,\n      label: renderLabelArising(),\n    };\n  });\n  const contractTypeOptions: SelectProps[\"options\"] = map(\n    contractTypeData,\n    (data) => {\n      const findSelectedContract = find(listContractItems, [\n        \"value\",\n        data.contractName,\n      ]);\n      const renderLabelContract = () => {\n        return (\n          <span\n            onClick={(e) => {\n              const isExistItem = find(listContractItems, {\n                value: data.contractName,\n              });\n              const payload = {\n                key: generateSlugUrl(`${data.contractName}`),\n                value: data.contractName,\n                label: data.contractName,\n                quantity: isExistItem?.quantity || quantity,\n                discount: isExistItem?.discount || discountContract,\n              };\n              isExistItem?.quantity &&\n                setQuantityContract(isExistItem?.quantity);\n              isExistItem?.discount >= 0 &&\n                setDiscountContract(isExistItem?.discount);\n              setSelectedContractItem(data.contractName);\n              if (!isExistItem) {\n                const isExistContract = find(contractTypeData, {\n                  contractName: payload?.value,\n                });\n                setListContractItems([\n                  ...listContractItems,\n                  { ...payload, price: isExistContract?.contractPrice || 0 },\n                ]);\n              }\n              setShowQuantityContractInput(true);\n            }}\n          >\n            {!isEmpty(findSelectedContract)\n              ? `${data.contractName} - (${findSelectedContract?.quantity}) ${\n                  findSelectedContract?.discount > 0\n                    ? `- (discount ${formatCurrency(\n                        `${findSelectedContract?.discount}`\n                      )})`\n                    : \"\"\n                }`\n              : data.contractName}\n          </span>\n        );\n      };\n      return {\n        value: data.contractName,\n        label: renderLabelContract(),\n      };\n    }\n  );\n\n  const handleSelectContract = (value: any) => {\n    // When an item is selected, show the quantity input field\n    const isExistItem = find(listContractItems, { value });\n    const payload = {\n      key: generateSlugUrl(`${value}`),\n      value,\n      label: value,\n      quantity: isExistItem?.quantity || quantity,\n      discount: isExistItem?.discount || discountContract,\n    };\n    isExistItem?.quantity && setQuantityContract(isExistItem?.quantity);\n    isExistItem?.discount && setDiscountContract(isExistItem?.discount);\n    setSelectedContractItem(value);\n    if (!isExistItem) {\n      const isExistContract = find(contractTypeData, {\n        contractName: payload?.value,\n      });\n      setListContractItems([\n        ...listContractItems,\n        { ...payload, price: isExistContract?.contractPrice || 0 },\n      ]);\n    }\n    setShowQuantityContractInput(true);\n  };\n\n  const handleAddContractItem = () => {\n    // Perform actions with selected item and quantity\n    const updateItems = map(listContractItems, (item) => {\n      if (item.key === generateSlugUrl(`${selectedContractItem}`)) {\n        return {\n          ...item,\n          quantity: quantityContract,\n          discount: discountContract,\n        };\n      }\n      return item;\n    });\n    // Reset the state and hide the quantity input field\n    setSelectedContractItem(null);\n    setListContractItems(updateItems);\n    setQuantityContract(1);\n    setDiscountContract(0);\n    setShowQuantityContractInput(false);\n  };\n  const handleDeSelectContract = (value: string) => {\n    setListContractItems(\n      filter(listContractItems, (item: any) => item?.value !== value)\n    );\n  };\n\n  const handleSelect = (value: any) => {\n    // When an item is selected, show the quantity input field\n    // const payload = {\n    //   key: generateSlugUrl(`${value}`),\n    //   value,\n    //   label: value,\n    //   quantity: quantity,\n    //   discount: discountArising,\n    // };\n    // setSelectedItem(value);\n    // const isExistItem = find(listItems, { value: payload?.value });\n    // if (!isExistItem) {\n    //   const servicesArising = find(servicesArisingData, {\n    //     serviceName: payload?.value,\n    //   });\n    //   setListItems([\n    //     ...listItems,\n    //     { ...payload, price: servicesArising?.servicePrice || 0 },\n    //   ]);\n    // }\n    // setShowQuantityInput(true);\n    const isExistItem = find(listItems, { value });\n    const payload = {\n      key: generateSlugUrl(`${value}`),\n      value,\n      label: value,\n      quantity: isExistItem?.quantity || quantity,\n      discount: isExistItem?.discount || discountContract,\n    };\n    isExistItem?.quantity && setQuantity(isExistItem?.quantity);\n    isExistItem?.discount && setDiscountArising(isExistItem?.discount);\n    setSelectedItem(value);\n    if (!isExistItem) {\n      const servicesArising = find(servicesArisingData, {\n        serviceName: payload?.value,\n      });\n      setListItems([\n        ...listItems,\n        { ...payload, price: servicesArising?.servicePrice || 0 },\n      ]);\n    }\n    setShowQuantityInput(true);\n  };\n\n  const handleDeSelect = (value: string) => {\n    setListItems(filter(listItems, (item: any) => item?.value !== value));\n  };\n\n  const handleAddItem = () => {\n    // Perform actions with selected item and quantity\n    const updateItems = map(listItems, (item) => {\n      if (item.key === generateSlugUrl(`${selectedItem}`)) {\n        return {\n          ...item,\n          quantity: quantity,\n          discount: discountArising,\n        };\n      }\n      return item;\n    });\n    // Reset the state and hide the quantity input field\n    setSelectedItem(null);\n    setListItems(updateItems);\n    setQuantity(1);\n    setDiscountArising(0);\n    setShowQuantityInput(false);\n  };\n  const servicesArisingValue = FormAntDeisgn.useWatch(\"servicesArising\", form);\n  const nameValue = FormAntDeisgn.useWatch(\"contractType\", form);\n\n  useEffect(() => {\n    const servicesArisingDiscountValue = reduce(\n      listItems,\n      (total: number, item: any) => {\n        return total + +item?.discount || 0;\n      },\n      0\n    );\n    const contractDiscountValue = reduce(\n      listContractItems,\n      (total: number, item: any) => {\n        return total + +item?.discount || 0;\n      },\n      0\n    );\n    form.setFieldValue(\n      \"discount\",\n      +contractDiscountValue + +servicesArisingDiscountValue\n    );\n    setValue(\n      \"discount\",\n      +contractDiscountValue + +servicesArisingDiscountValue\n    );\n  }, [listContractItems, listItems]);\n\n  useEffect(() => {\n    if (nameValue) {\n      const contractTypePrice = reduce(\n        nameValue,\n        (sum: any, value) => {\n          const findContractType = find(listContractItems, {\n            value: value,\n          });\n          if (findContractType) {\n            return (sum +=\n              +findContractType?.price * +findContractType?.quantity);\n          }\n          return sum;\n        },\n        0\n      );\n      form.setFieldValue(\"contractPrice\", `${+contractTypePrice}`);\n      setValue(\"contractPrice\", `${+contractTypePrice}`);\n    }\n    // if (servicesArisingValue?.length > 0) {\n    //   const totalArisingPrice = reduce(\n    //     servicesArisingValue,\n    //     (total: number, item: string) => {\n    //       const foundItem = find(servicesArisingData, { serviceName: item });\n    //       if (foundItem) {\n    //         return total + +foundItem.servicePrice;\n    //       }\n    //       return total;\n    //     },\n    //     0\n    //   );\n    //   form.setFieldValue(\"servicesArisingPrice\", `${totalArisingPrice}`);\n    //   setValue(\"servicesArisingPrice\", `${totalArisingPrice}`);\n    // }\n  });\n\n  useEffect(() => {\n    form.setFieldValue(\"servicesArisingPrice\", `${+servicesArisingPriceValue}`);\n    setValue(\"servicesArisingPrice\", `${+servicesArisingPriceValue}`);\n    setValue(\"servicesArisingItems\", listItems);\n  });\n\n  const contractPriceValue = FormAntDeisgn.useWatch(\"contractPrice\", form);\n\n  const servicesArisingPriceValue = reduce(\n    listItems,\n    (total: number, item: any) => {\n      return total + +item?.price * item?.quantity || 0;\n    },\n    0\n  );\n  const discountValue = FormAntDeisgn.useWatch(\"discount\", form);\n  const firstDepositPriceValue = FormAntDeisgn.useWatch(\n    \"firstDepositPrice\",\n    form\n  );\n  const secondDepositPriceValue = FormAntDeisgn.useWatch(\n    \"secondDepositPrice\",\n    form\n  );\n  const firstCheckDepositValue = FormAntDeisgn.useWatch(\n    \"firstCheckDeposit\",\n    form\n  );\n  const secondCheckDepositValue = FormAntDeisgn.useWatch(\n    \"secondCheckDeposit\",\n    form\n  );\n  const discountValueValid = isUndefined(discountValue) ? 0 : +discountValue;\n  const firstDepositPriceValueValid = isUndefined(firstDepositPriceValue)\n    ? 0\n    : +firstDepositPriceValue;\n  const secondDepositPriceValueValid = isUndefined(secondDepositPriceValue)\n    ? 0\n    : +secondDepositPriceValue;\n  const totalPrice = `${\n    +contractPriceValue +\n    +servicesArisingPriceValue -\n    (+discountValueValid +\n      +firstDepositPriceValueValid +\n      +secondDepositPriceValueValid)\n  }`;\n\n  return (\n    <>\n      {contextHolder}\n      <FormAntDeisgn\n        form={form}\n        name=\"control-contract-edit-ref\"\n        ref={formRef}\n        layout=\"vertical\"\n        initialValues={defaultValues}\n        onFinish={handleSubmit(async (data: ContractModel) => {\n          // const contractTypeValuePrice = map(\n          //   (data as any)?.servicesArising,\n          //   (service) => {\n          //     const findContractType = find(servicesArisingData, {\n          //       serviceName: service,\n          //     });\n          //     if (findContractType) {\n          //       return {\n          //         name: service || \"\",\n          //         price: findContractType?.servicePrice,\n          //       };\n          //     }\n          //     return {\n          //       name: service || \"\",\n          //       price: `${0}`,\n          //     };\n          //   }\n          // );\n          const payload: ContractModel = {\n            ...data,\n\n            contractPriceItems: listContractItems,\n            servicesArisingItems: listItems,\n            contractImage: fileList,\n            customerType: data?.customerType || \"offline\",\n            servicesArising:\n              map(listItems, (item) => {\n                return item?.value;\n              }) || [],\n            // contractTypeValuePrice: contractTypeValuePrice as any,\n            createDate: dayjs(data.createDate).toISOString(),\n            dueDate: dayjs(data.dueDate).toISOString(),\n            shootingDate: dayjs(data.shootingDate).toISOString(),\n            firstDepositPriceDate: dayjs(\n              data.firstDepositPriceDate\n            ).toISOString(),\n            secondDepositPriceDate: dayjs(\n              data.secondDepositPriceDate\n            ).toISOString(),\n            notes: isArray(data?.notes) ? data?.notes : [data?.notes],\n            totalPrice: `${\n              +contractPriceValue +\n              +servicesArisingPriceValue -\n              +discountValueValid\n            }`,\n          };\n          const docRef = doc(contractRef, defaultValues.id);\n          updateDoc(docRef, payload).then(async () => {\n            await refetch()\n          });\n          queryClient.invalidateQueries(\"contract\");\n          setLoading(true);\n          messageApi.open({\n            type: \"success\",\n            content: \"Cập nhập hợp đồng thành công!\",\n            duration: 5,\n          });\n          setLoading(false);\n          handleCancel?.();\n          form.resetFields();\n          formRef.current?.resetFields();\n          reset();\n        })}\n      >\n        <div className=\"grid grid-cols-1\">\n          <Popconfirm\n            title=\"Nhập số lượng\"\n            open={showQuantityContractInput}\n            description={\n              <div className=\"flex gap-2\">\n                <Input\n                  type=\"number\"\n                  min={1}\n                  value={quantityContract}\n                  onChange={(e) =>\n                    setQuantityContract(parseInt(e.target.value))\n                  }\n                />\n                <InputNumber\n                  defaultValue={0}\n                  value={discountContract}\n                  style={{ width: \"100%\" }}\n                  placeholder=\"Nhập discount\"\n                  onChange={(e) => setDiscountContract(e as number)}\n                  formatter={(value) =>\n                    `${value}`.replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\")\n                  }\n                />\n              </div>\n            }\n            onConfirm={handleAddContractItem}\n            onCancel={() => setShowQuantityContractInput(false)}\n            okText=\"Thêm\"\n            cancelText=\"Huỷ\"\n          >\n            {\" \"}\n          </Popconfirm>\n          <FormItem control={control} name=\"contractType\" label=\"Loại hợp đồng\">\n            {/* <Select>\n              {dressTypeList.map((dt) => {\n                return (\n                  <Select.Option key={dt} value={dt}>\n                    {dt}\n                  </Select.Option>\n                );\n              })}\n            </Select> */}\n\n            <Select\n              mode=\"multiple\"\n              // allowClear\n              // value={contractTypeValue}\n              defaultValue={contractTypeValue}\n              showSearch\n              style={{ width: \"100%\" }}\n              placeholder=\"Chọn loại hợp đồng\"\n              options={contractTypeOptions}\n              onDeselect={handleDeSelectContract}\n              onSelect={handleSelectContract}\n            />\n          </FormItem>\n          <Popconfirm\n            title=\"Nhập số lượng và discount\"\n            open={showQuantityInput}\n            description={\n              <div className=\"flex gap-2\">\n                <Input\n                  type=\"number\"\n                  min={1}\n                  value={quantity}\n                  onChange={(e) => setQuantity(parseInt(e.target.value))}\n                />\n                <InputNumber\n                  defaultValue={0}\n                  value={discountArising}\n                  style={{ width: \"100%\" }}\n                  placeholder=\"Nhập discount\"\n                  onChange={(e) => setDiscountArising(e as number)}\n                  formatter={(value) =>\n                    `${value}`.replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\")\n                  }\n                />\n              </div>\n            }\n            onConfirm={handleAddItem}\n            onCancel={() => setShowQuantityInput(false)}\n            okText=\"Thêm\"\n            cancelText=\"Huỷ\"\n          ></Popconfirm>\n          <FormItem\n            control={control}\n            name=\"servicesArising\"\n            label=\"Danh mục phát sinh\"\n          >\n            <Select\n              mode=\"multiple\"\n              // allowClear\n              defaultValue={servicesArisingValue}\n              showSearch\n              style={{ width: \"100%\" }}\n              placeholder=\"Chọn danh mục phát sinh\"\n              options={options}\n              onDeselect={handleDeSelect}\n              onSelect={handleSelect}\n            />\n          </FormItem>\n          {/* <FormItem control={control} name=\"dressName\" label=\"Loại váy cưới\">\n            <Select>\n              {dressNameList.map((dr) => {\n                return (\n                  <Select.Option key={dr} value={dr}>\n                    {dr}\n                  </Select.Option>\n                );\n              })}\n            </Select>\n          </FormItem> */}\n          <FormItem control={control} name=\"status\" label=\"Trạng thái\">\n            <Select>\n              {statusList.map((sts, index) => {\n                return (\n                  <Select.Option key={index} value={sts}>\n                    <Badge\n                      color={getStatusColor(\n                        (`${sts}`.toLowerCase() as StatusColorType) || \"pending\"\n                      )}\n                      text={capitalize(sts)}\n                    />\n                  </Select.Option>\n                );\n              })}\n            </Select>\n          </FormItem>\n        </div>\n        <div className=\"grid grid-cols-1 xl:grid-cols-2 xl:gap-6\">\n          <FormItem control={control} name=\"userName\" label=\"Tên khách hàng\">\n            <Input allowClear placeholder=\"Nhập tên khách hàng\" />\n          </FormItem>\n          <FormItem control={control} name=\"phone\" label=\"Số điện thoại\">\n            <Input placeholder=\"Nhập số điện thoại\" />\n          </FormItem>\n          <FormItem control={control} name=\"address\" label=\"Địa chỉ\">\n            <Input placeholder=\"Nhập địa chỉ\" />\n          </FormItem>\n        </div>\n        <FormItem control={control} name=\"contractPrice\" label=\"Giá hợp đồng\">\n          <InputNumber\n            disabled\n            style={{ width: \"100%\" }}\n            placeholder=\"Nhập giá hợp đồng\"\n            formatter={(value) =>\n              `${value}`.replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\")\n            }\n          />\n        </FormItem>\n        <div className={cn(!isAdmin && \"hidden\")}>\n          <FormItem\n            control={control}\n            name=\"servicesArisingPrice\"\n            label=\"Giá mục phát sinh\"\n            valuePropName=\"value\"\n          >\n            <InputNumber\n              disabled\n              style={{ width: \"100%\" }}\n              placeholder=\"Giá mục phát sinh\"\n              formatter={(value) =>\n                `${value}`.replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\")\n              }\n            />\n          </FormItem>\n        </div>\n        <FormItem\n          control={control}\n          name=\"discount\"\n          label=\"Tổng discount\"\n          valuePropName=\"value\"\n        >\n          <InputNumber\n            style={{ width: \"100%\" }}\n            placeholder=\"Giá discount\"\n            formatter={(value) =>\n              `${value}`.replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\")\n            }\n          />\n        </FormItem>\n        <div className=\"pb-6\">\n          <Space>\n            <span className=\"text-lg font-semibold text-gray-900\">\n              Thành tiền:\n            </span>\n            <span className=\"text-lg font-semibold text-blue-600\">\n              {formatCurrency(\n                `${+contractPriceValue + +servicesArisingPriceValue}`\n              )}\n            </span>\n          </Space>\n        </div>\n        <div className=\"pb-6\">\n          <Space>\n            <span className=\"text-lg font-semibold text-gray-900\">\n              Thanh toán còn lại:\n            </span>\n            <span className=\"text-lg font-semibold text-blue-600\">\n              {formatCurrency(`${totalPrice}`)}\n            </span>\n          </Space>\n        </div>\n        <div className=\"grid grid-cols-1 xl:grid-cols-2 xl:gap-6\">\n          <FormItem\n            control={control}\n            name=\"createDate\"\n            label=\"Ngày ký hợp đồng\"\n          >\n            <DatePicker\n              format={dateFormat}\n              placeholder=\"Vui lòng chọn ngày ký hợp đồng\"\n              style={{ width: \"100%\" }}\n            />\n          </FormItem>\n          <FormItem control={control} name=\"shootingDate\" label=\"Ngày bấm máy\">\n            <DatePicker\n              format={dateFormat}\n              placeholder=\"Vui lòng chọn ngày bấm máy\"\n              style={{ width: \"100%\" }}\n            />\n          </FormItem>\n          <FormItem control={control} name=\"dueDate\" label=\"Ngày dự kiến\">\n            <DatePicker\n              format={dateFormat}\n              placeholder=\"Vui lòng chọn ngày hoàn thành hợp đồng\"\n              style={{ width: \"100%\" }}\n            />\n          </FormItem>\n          <FormItem\n            control={control}\n            name=\"customerType\"\n            label=\"Kênh khách hàng\"\n          >\n            <Radio.Group optionType=\"button\" buttonStyle=\"solid\">\n              <Radio.Button value=\"online\">Online</Radio.Button>\n              <Radio.Button value=\"offline\">Offline</Radio.Button>\n            </Radio.Group>\n          </FormItem>\n        </div>\n        <div className=\"py-6\">\n          <FormItem\n            control={control}\n            name=\"contractImage\"\n            // valuePropName='fileList'\n            label=\"Upload hình ảnh hợp đồng\"\n          >\n            <Dragger {...props}>\n              <p className=\"ant-upload-drag-icon\">\n                <InboxOutlined />\n              </p>\n              <p className=\"ant-upload-text\">\n                Nhấp hoặc kéo tệp vào khu vực này để tải lên\n              </p>\n              <p className=\"ant-upload-hint\">\n                Hỗ trợ tải lên một lần hoặc hàng loạt. Nghiêm cấm tải lên dữ\n                liệu công ty hoặc các thông tin khác\n              </p>\n            </Dragger>\n          </FormItem>\n        </div>\n        <div className=\"grid grid-cols-1 xl:grid-cols-2 xl:gap-6 pb-6\">\n          <Card\n            size=\"small\"\n            title=\"Cọc lần 1\"\n            extra={\n              <FormItem\n                style={{ marginBottom: 0 }}\n                control={control}\n                name=\"firstCheckDeposit\"\n                valuePropName=\"checked\"\n              >\n                <Checkbox />\n              </FormItem>\n            }\n          >\n            <div className=\"grid grid-cols-1 xl:grid-cols-2 xl:gap-6 pb-6\">\n              <FormItem\n                control={control}\n                name=\"firstDepositPrice\"\n                label=\"Tiền cọc lần 1\"\n              >\n                <InputNumber\n                  disabled={!firstCheckDepositValue}\n                  style={{ width: \"100%\" }}\n                  placeholder=\"Nhập tiền cọc lần 1\"\n                  formatter={(value) =>\n                    `${value}`.replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\")\n                  }\n                />\n              </FormItem>\n              <FormItem\n                control={control}\n                name=\"firstDepositPriceDate\"\n                label=\"Ngày cọc lần 1\"\n              >\n                <DatePicker\n                  disabled={!firstCheckDepositValue}\n                  format={dateFormat}\n                  placeholder=\"Vui lòng chọn ngày cọc lần 1\"\n                  style={{ width: \"100%\" }}\n                />\n              </FormItem>\n              <FormItem\n                control={control}\n                name=\"firstPaymentMethod\"\n                label=\"Phương thức thanh toán\"\n              >\n                <Select\n                  style={{ width: 140 }}\n                  disabled={!firstCheckDepositValue}\n                  options={[\n                    { value: \"Chuyển khoản\", label: \"Chuyển khoản\" },\n                    { value: \"Tiền mặt\", label: \"Tiền mặt\" },\n                  ]}\n                />\n              </FormItem>\n            </div>\n          </Card>\n          <Card\n            size=\"small\"\n            title=\"Cọc lần 2\"\n            extra={\n              <FormItem\n                style={{ marginBottom: 0 }}\n                control={control}\n                name=\"secondCheckDeposit\"\n                valuePropName=\"checked\"\n              >\n                <Checkbox />\n              </FormItem>\n            }\n          >\n            <div className=\"grid grid-cols-1 xl:grid-cols-2 xl:gap-6 pb-6\">\n              <FormItem\n                control={control}\n                name=\"secondDepositPrice\"\n                label=\"Tiền cọc lần 2\"\n              >\n                <InputNumber\n                  disabled={!secondCheckDepositValue}\n                  style={{ width: \"100%\" }}\n                  placeholder=\"Nhập tiền cọc lần 2\"\n                  formatter={(value) =>\n                    `${value}`.replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\")\n                  }\n                />\n              </FormItem>\n              <FormItem\n                control={control}\n                name=\"secondDepositPriceDate\"\n                label=\"Ngày cọc lần 2\"\n              >\n                <DatePicker\n                  disabled={!secondCheckDepositValue}\n                  format={dateFormat}\n                  placeholder=\"Vui lòng chọn ngày cọc lần 2\"\n                  style={{ width: \"100%\" }}\n                />\n              </FormItem>\n              <FormItem\n                control={control}\n                name=\"secondPaymentMethod\"\n                label=\"Phương thức thanh toán\"\n              >\n                <Select\n                  style={{ width: 140 }}\n                  disabled={!secondCheckDepositValue}\n                  options={[\n                    { value: \"Chuyển khoản\", label: \"Chuyển khoản\" },\n                    { value: \"Tiền mặt\", label: \"Tiền mặt\" },\n                  ]}\n                />\n              </FormItem>\n            </div>\n          </Card>\n        </div>\n        <div className=\"pb-20 \">\n          <FormItem control={control} name=\"notes\" label=\"Ghi chú\">\n            <Editor />\n          </FormItem>\n        </div>\n        <Button\n          loading={loading}\n          disabled={!isEmpty(errors)}\n          type=\"primary\"\n          htmlType=\"submit\"\n          block\n          size=\"large\"\n        >\n          Cập nhật\n        </Button>\n      </FormAntDeisgn>\n    </>\n  );\n}\n","import React, { useState, useRef, useMemo } from \"react\";\nimport {\n  Badge,\n  Image,\n  Input,\n  InputRef,\n  Modal,\n  Popconfirm,\n  Tooltip,\n} from \"antd\";\nimport { Button, Space, Table, Breadcrumb } from \"antd\";\nimport Highlighter from \"react-highlight-words\";\nimport { SearchOutlined, QuestionCircleOutlined } from \"@ant-design/icons\";\nimport { FaEdit } from \"react-icons/fa\";\nimport { AiOutlineEye, AiTwotonePrinter } from \"react-icons/ai\";\nimport { MdDeleteForever } from \"react-icons/md\";\nimport type {\n  ColumnsType,\n  FilterConfirmProps,\n  ColumnType,\n} from \"antd/es/table/interface\";\n\nimport {\n  StatusColorType,\n  StatusOnlineType,\n  canDelete,\n  canEdit,\n  formatCurrency,\n  formatNumber,\n  getStatusColor,\n  getStatusOnline,\n} from \"../../utils\";\nimport dayjs, { Dayjs } from \"dayjs\";\nimport ColorButton from \"../../components/ColorButton\";\nimport { colors } from \"../../styles/colors\";\nimport { useQueryClient } from \"react-query\";\nimport { useContract } from \"./useContract\";\nimport { collection, deleteDoc, doc } from \"firebase/firestore\";\nimport { firestore } from \"../../lib/firebase\";\nimport { ContractModel } from \"../../models\";\nimport EditContract from \"./EditContract\";\nimport { isEmpty, map, uniq } from \"lodash\";\nimport { v4 as uuid } from \"uuid\";\nimport { useUser } from \"../../store/useUser\";\nimport { PrintContract } from \"../../components/ComponentToPrint/PrintContract\";\nconst currentDate = dayjs();\nconst dateFormat = \"DD-MM-YYYY\";\n\ntype DataIndex = keyof ContractModel;\n\nconst Contract = () => {\n  const [searchText, setSearchText] = useState(\"\");\n  const [searchedColumn, setSearchedColumn] = useState(\"\");\n  const searchInput = useRef<InputRef>(null);\n  const queryClient = useQueryClient();\n  const { data: contractData, isLoading, refetch, isFetching } = useContract();\n\n  const collectionRef = collection(firestore, \"contract\");\n  const [opened, setOpened] = useState(false);\n  const { user } = useUser();\n  const role = user?.permission || \"\";\n  const userPermissions = user?.permissions || {};\n  const [statusFilter, setStatusFilter] = useState<string[] | null>(null);\n  const [defaultValues, setDefaultValues] = useState<ContractModel>({\n    contractType: \"\",\n    dressName: \"\",\n    status: \"\",\n    phone: \"\",\n    address: \"\",\n    createDate: \"\",\n    dueDate: \"\",\n    shottingDate: \"\",\n    contractPrice: \"\",\n    notes: [],\n    contractImage: [],\n    discount: \"\",\n    contractTypeValuePrice: [],\n    firstCheckDeposit: false,\n    firstDepositPrice: \"\",\n    firstDepositPriceDate: \"\",\n    secondCheckDeposit: false,\n    secondDepositPrice: \"\",\n    secondDepositPriceDate: \"\",\n    shootingDate: \"\",\n    totalPrice: \"\",\n    userName: \"\",\n    servicesArisingPrice: \"\",\n    firstPaymentMethod: \"\",\n    secondPaymentMethod: \"\",\n    servicesArisingItems: undefined,\n    contractPriceItems: undefined,\n    totalContractPrice: \"\",\n    servicesArising: [],\n    id: \"\",\n  });\n\n  // tạo danh sách trạng thái từ data (hoặc dùng constant riêng của bạn)\n  const statusOptions = useMemo(\n    () =>\n      uniq(\n        (contractData ?? []).map((x) => (x.status ?? \"\").trim()).filter(Boolean)\n      ).map((s) => ({ text: s, value: s })),\n    [contractData]\n  );\n\n  const handleSearch = (\n    selectedKeys: string[],\n    confirm: (param?: FilterConfirmProps) => void,\n    dataIndex: DataIndex\n  ) => {\n    confirm();\n    setSearchText(selectedKeys[0]);\n    setSearchedColumn(dataIndex);\n  };\n\n  const handleReset = (clearFilters: () => void) => {\n    clearFilters();\n    setSearchText(\"\");\n  };\n\n  const handleEditContract = (record: ContractModel) => () => {\n    setDefaultValues({\n      ...record,\n      createDate: dayjs(record.createDate) as any,\n      dueDate: dayjs(record.dueDate) as any,\n      shootingDate: dayjs(record.shootingDate) as any,\n      firstDepositPriceDate: !isEmpty(record.firstDepositPriceDate)\n        ? (dayjs(record.firstDepositPriceDate) as any)\n        : undefined,\n      secondDepositPriceDate: !isEmpty(record.secondDepositPriceDate)\n        ? (dayjs(record.secondDepositPriceDate) as any)\n        : undefined,\n    });\n    setOpened(true);\n  };\n\n  const handleCancel = () => {\n    setOpened(false);\n  };\n\n  const handleDelete = (record: ContractModel) => async () => {\n    const docRef = doc(collectionRef, record?.id);\n    await deleteDoc(docRef);\n    queryClient.invalidateQueries(\"contract\");\n    setTimeout(async () => await refetch(), 300);\n  };\n\n  const handlePrint = (record: ContractModel) => () => {\n    console.log(\"record\", record);\n  };\n\n  const getColumnSearchProps = (\n    dataIndex: DataIndex,\n    type:\n      | \"contractType\"\n      | \"phone\"\n      | \"createDate\"\n      | \"shootingDate\" = \"contractType\"\n  ): ColumnType<ContractModel> => ({\n    filterDropdown: ({\n      setSelectedKeys,\n      selectedKeys,\n      confirm,\n      clearFilters,\n      close,\n    }) => {\n      const handleResetAll = () => {\n        if (clearFilters) {\n          handleReset(clearFilters);\n          setTimeout(() => {\n            handleSearch(selectedKeys as string[], confirm, dataIndex);\n          }, 100);\n        }\n      };\n\n      return (\n        <div style={{ padding: 8 }} onKeyDown={(e) => e.stopPropagation()}>\n          <Input\n            ref={searchInput}\n            placeholder={`Search ${dataIndex}`}\n            value={selectedKeys[0]}\n            onChange={(e) =>\n              setSelectedKeys(e.target.value ? [e.target.value] : [])\n            }\n            onPressEnter={() =>\n              handleSearch(selectedKeys as string[], confirm, dataIndex)\n            }\n            style={{ marginBottom: 8, display: \"block\" }}\n          />\n          <Space>\n            <Button\n              type=\"primary\"\n              onClick={() =>\n                handleSearch(selectedKeys as string[], confirm, dataIndex)\n              }\n              icon={<SearchOutlined />}\n              size=\"small\"\n              style={{ width: 90 }}\n            >\n              Search\n            </Button>\n            <Button onClick={handleResetAll} size=\"small\" style={{ width: 90 }}>\n              Reset\n            </Button>\n            <Button\n              type=\"link\"\n              size=\"small\"\n              onClick={() => {\n                confirm({ closeDropdown: false });\n                setSearchText((selectedKeys as string[])[0]);\n                setSearchedColumn(dataIndex);\n              }}\n            >\n              Filter\n            </Button>\n            <Button\n              type=\"link\"\n              size=\"small\"\n              onClick={() => {\n                close();\n              }}\n            >\n              close\n            </Button>\n          </Space>\n        </div>\n      );\n    },\n    filterIcon: (filtered: boolean) => (\n      <SearchOutlined style={{ color: filtered ? \"#1677ff\" : undefined }} />\n    ),\n    onFilter: (value: any, record: ContractModel) => {\n      if (dataIndex === \"createDate\" || dataIndex === \"shootingDate\") {\n        return dayjs(record[dataIndex])\n          .format(\"DD/MM/YYYY\")\n          .toString()\n          .includes(value as string);\n      }\n      return record[dataIndex]\n        ?.toString()\n        ?.toLowerCase()\n        ?.includes?.(value?.toLowerCase?.() as string);\n      // ?.toLowerCase?.();\n    },\n    onFilterDropdownOpenChange: (visible: any) => {\n      if (visible) {\n        setTimeout(() => searchInput.current?.select(), 100);\n      }\n    },\n    render: (text, record) => {\n      if (type !== \"contractType\") {\n        return (\n          <>\n            {searchedColumn === dataIndex ? (\n              <Highlighter\n                highlightStyle={{ backgroundColor: \"#ffc069\", padding: 0 }}\n                searchWords={[searchText]}\n                autoEscape\n                textToHighlight={\n                  text\n                    ? type === \"createDate\" || type === \"shootingDate\"\n                      ? dayjs(text).format(\"DD/MM/YYYY\").toString()\n                      : text.toString()\n                    : \"\"\n                }\n              />\n            ) : type === \"createDate\" || type === \"shootingDate\" ? (\n              dayjs(text).format(\"DD/MM/YYYY\")\n            ) : (\n              text\n            )}\n          </>\n        );\n      }\n      return (\n        <div className=\"flex flex-col gap-2 items-center\">\n          {record?.contractImage.length > 0 ? (\n            <div className=\"overflow-hidden rounded-lg drop-shadow-lg w-[40px] h-[40px]\">\n              <Image.PreviewGroup items={map(record?.contractImage, \"url\")}>\n                <Image\n                  src={record.contractImage?.[0]?.url}\n                  width={40}\n                  height={40}\n                  preview={{\n                    mask: <AiOutlineEye />,\n                  }}\n                />\n              </Image.PreviewGroup>\n            </div>\n          ) : null}\n\n          {searchedColumn === dataIndex ? (\n            <Highlighter\n              highlightStyle={{ backgroundColor: \"#ffc069\", padding: 0 }}\n              searchWords={[searchText]}\n              autoEscape\n              textToHighlight={text ? text?.toString() : \"\"}\n            />\n          ) : (\n            <p className=\"font-semibold text-base\">{text}</p>\n          )}\n        </div>\n      );\n    },\n  });\n\n  const columns: ColumnsType<ContractModel> = [\n    {\n      title: \"Tên hợp đồng\",\n      dataIndex: \"contractType\",\n      key: \"contractType\",\n      fixed: \"left\",\n      width: \"20%\",\n      ...getColumnSearchProps(\"contractType\", \"contractType\"),\n    },\n\n    {\n      title: \"Trạng thái\",\n      dataIndex: \"status\",\n      key: \"status\",\n      filters: statusOptions, // ⬅️ dropdown các trạng thái\n      filterMultiple: true,\n      filterSearch: true, // ô search trong dropdown\n      onFilter: (value, record) =>\n        (record.status ?? \"\").toLowerCase() === String(value).toLowerCase(),\n      filteredValue: statusFilter ?? null, // (tuỳ chọn) controlled\n      render: (text) => (\n        <Badge\n          color={getStatusColor(\n            (`${text}`.toLowerCase() as StatusColorType) || \"pending\"\n          )}\n          text={text}\n        />\n      ),\n    },\n    {\n      title: \"Tên khách hàng\",\n      dataIndex: \"userName\",\n      key: \"userName\",\n      sorter: (a, b) => a.userName.localeCompare(b.userName),\n      sortDirections: [\"descend\", \"ascend\"],\n    },\n    {\n      title: \"Kênh KH\",\n      dataIndex: \"customerType\",\n      key: \"customerType\",\n      sortDirections: [\"descend\", \"ascend\"],\n       render: (text, record) => {\n        console.log('text, ', text)\n        return (\n        <Badge\n          color={getStatusOnline(\n            (`${record?.customerType || 'offline'}`.toLowerCase() as StatusOnlineType) || \"offline\"\n          )}\n          text={record?.customerType || '--'}\n        />\n      )\n       },\n    },\n    {\n      title: \"Số điện thoại\",\n      dataIndex: \"phone\",\n      key: \"phone\",\n      // sorter: (a, b) => a.phone.length - b.phone.length,\n      // sortDirections: [\"descend\", \"ascend\"],\n      ...getColumnSearchProps(\"phone\", \"phone\"),\n    },\n    {\n      title: \"Giá\",\n      dataIndex: \"totalPrice\",\n      key: \"totalPrice\",\n      sorter: (a, b) => a.totalPrice.localeCompare(b.totalPrice),\n      sortDirections: [\"descend\", \"ascend\"],\n      render: (text: string) => {\n        return <p>{formatCurrency(text)}</p>;\n      },\n    },\n    {\n      title: \"Địa chỉ\",\n      dataIndex: \"address\",\n      key: \"address\",\n      // sorter: (a, b) => a.status.localeCompare(b.status),\n      // sortDirections: [\"descend\", \"ascend\"],\n    },\n    {\n      title: \"Ngày ký hợp đồng\",\n      dataIndex: \"createDate\",\n      key: \"createDate\",\n      sorter: (a, b) => a.createDate.localeCompare(b.createDate),\n      sortDirections: [\"descend\", \"ascend\"],\n      // sorter: (a, b) =>\n      //   dayjs(a.createDate).format(\"DD/MM/YYYY\").length -\n      //   dayjs(b.createDate).format(\"DD/MM/YYYY\").length,\n      // sortDirections: [\"descend\", \"ascend\"],\n      ...getColumnSearchProps(\"createDate\", \"createDate\"),\n      // render: (text: string) => {\n      //   return <p>{dayjs(text).format(\"DD/MM/YYYY\")}</p>;\n      // },\n    },\n    {\n      title: \"Ngày ngày bấm máy\",\n      dataIndex: \"shootingDate\",\n      key: \"shootingDate\",\n      sorter: (a, b) => a.shootingDate.localeCompare(b.shootingDate),\n      sortDirections: [\"descend\", \"ascend\"],\n      // sorter: (a, b) =>\n      //   dayjs(a.createDate).format(\"DD/MM/YYYY\").length -\n      //   dayjs(b.createDate).format(\"DD/MM/YYYY\").length,\n      // sortDirections: [\"descend\", \"ascend\"],\n      ...getColumnSearchProps(\"shootingDate\", \"shootingDate\"),\n      // render: (text: string) => {\n      //   return <p>{dayjs(text).format(\"DD/MM/YYYY\")}</p>;\n      // },\n    },\n    {\n      title: \"Ngày hoàn thành\",\n      dataIndex: \"dueDate\",\n      key: \"dueDate\",\n      sorter: (a, b) => a.dueDate.localeCompare(b.dueDate),\n      sortDirections: [\"descend\", \"ascend\"],\n      render: (text: string) => {\n        return <p>{dayjs(text).format(\"DD/MM/YYYY\")}</p>;\n      },\n    },\n    {\n      title: \"Chỉnh sửa\",\n      dataIndex: \"editDelete\",\n      key: \"editDelete\",\n      fixed: \"right\",\n      width: \"10%\",\n      render: (text, record) => (\n        <div className=\"flex items-center gap-1\">\n          <Tooltip title=\"In hợp đồng\">\n            <PrintContract getValues={handlePrintContract(record)} />\n          </Tooltip>\n          {canEdit(userPermissions, \"contracts\") && (\n            <Tooltip title=\"Chỉnh sửa\">\n              <ColorButton\n                override={colors.primary}\n                type=\"primary\"\n                size=\"small\"\n                icon={<FaEdit />}\n                onClick={handleEditContract(record)}\n              />\n            </Tooltip>\n          )}\n          {canDelete(userPermissions, \"contracts\") && (\n            <Tooltip title=\"Xoá\">\n              <Popconfirm\n                title=\"Xóa hợp đồng\"\n                description=\"Bạn có chắc là muốn xóa hợp đồng?\"\n                icon={<QuestionCircleOutlined style={{ color: colors.red2 }} />}\n                onConfirm={handleDelete(record)}\n              >\n                <ColorButton\n                  override={colors.red2}\n                  type=\"primary\"\n                  size=\"small\"\n                  disabled={role !== \"admin\"}\n                  icon={<MdDeleteForever />}\n                />\n              </Popconfirm>\n            </Tooltip>\n          )}\n        </div>\n      ),\n    },\n  ];\n\n  const handlePrintContract = (record: ContractModel) => () => {\n    return {\n      ...record,\n    };\n  };\n\n  // if (user?.permission === \"admin\" || user?.permission === \"manager\") {\n  //   columns.push({\n  //     title: \"Chỉnh sửa\",\n  //     dataIndex: \"editDelete\",\n  //     key: \"editDelete\",\n  //     fixed: \"right\",\n  //     width: \"10%\",\n  //     render: (text, record) => (\n  //       <div className=\"flex items-center gap-1\">\n  //         <Tooltip title=\"In hợp đồng\">\n  //           <PrintContract getValues={handlePrintContract(record)} />\n  //         </Tooltip>\n  //         {user?.permission === \"admin\" ? (\n  //           <>\n  //             <Tooltip title=\"Chỉnh sửa\">\n  //               <ColorButton\n  //                 override={colors.primary}\n  //                 type=\"primary\"\n  //                 size=\"small\"\n  //                 icon={<FaEdit />}\n  //                 onClick={handleEditContract(record)}\n  //               />\n  //             </Tooltip>\n\n  //             <Tooltip title=\"Xoá\">\n  //               <Popconfirm\n  //                 title=\"Xóa hợp đồng\"\n  //                 description=\"Bạn có chắc là muốn xóa hợp đồng?\"\n  //                 icon={\n  //                   <QuestionCircleOutlined style={{ color: colors.red2 }} />\n  //                 }\n  //                 onConfirm={handleDelete(record)}\n  //               >\n  //                 <ColorButton\n  //                   override={colors.red2}\n  //                   type=\"primary\"\n  //                   size=\"small\"\n  //                   icon={<MdDeleteForever />}\n  //                 />\n  //               </Popconfirm>\n  //             </Tooltip>\n  //           </>\n  //         ) : null}\n  //       </div>\n  //     ),\n  //   });\n  // }\n\n  return (\n    <div className=\"m-6 p-2 md:p-10 bg-white rounded-3xl\">\n      <div className=\"mb-4\">\n        <Breadcrumb\n          items={[\n            {\n              href: \"/\",\n              title: \"Trang chủ\",\n            },\n            {\n              title: \"Danh sách hợp đồng\",\n            },\n          ]}\n        />\n      </div>\n\n      <Table\n        rowKey={(record) => `${uuid()}-${record.id}`}\n        columns={columns}\n        dataSource={contractData}\n        onChange={(_, filters) => setStatusFilter((filters.status as string[]) ?? null)}\n        bordered\n        scroll={{ x: 1300 }}\n      />\n      <Modal\n        title=\"Cập nhật hợp đồng\"\n        open={opened}\n        footer={null}\n        onCancel={handleCancel}\n        width={1000}\n        bodyStyle={{\n          overflowY: \"scroll\",\n          height: \"calc(100vh - 250px)\",\n        }}\n      >\n        <EditContract\n          defaultValues={defaultValues}\n          handleCancel={handleCancel}\n          refetch={refetch}\n        />\n      </Modal>\n    </div>\n  );\n};\nexport default Contract;\n"],"names":["htmlToMarkdown","htmlText","file","remark","use","rehypeParse","emitParseErrors","duplicateAttribute","rehypeRemark","remarkStringify","processSync","String","Quill","register","Emoji","TOOLBAR_OPTIONS","header","list","indent","Editor","props","_props$value","_props$value$","_props$value2","_useState","useState","value","html","_useState2","_slicedToArray","setValue","reactQuillRef","useRef","useEffect","_props$value3","_props$value3$","_props$value4","_jsx","ReactQuill","ref","theme","placeholder","modules","toolbar","container","className","onChange","content","markdown","useContractType","query","collection","firestore","queryContractType","useFirestoreQuery","snapshot","data","forEach","docSnapshot","push","_objectSpread","id","refetch","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_context","prev","next","t0","console","error","stop","apply","arguments","isError","isLoading","useServicesArising","queryServicesArising","Dragger","Upload","dateFormat","dayjs","statusList","schema","yup","status","required","phone","test","str","context","isVietnamesePhoneNumber","createDate","shootingDate","dueDate","address","EditContract","_defaultValues$custom","_defaultValues$notes","_defaultValues$notes$","defaultValues","handleCancel","formRef","_FormAntDeisgn$useFor","FormAntDeisgn","useForm","form","_message$useMessage","message","useMessage","_message$useMessage2","messageApi","contextHolder","loading","setLoading","_useState3","servicesArisingItems","_useState4","listItems","setListItems","_useState5","contractPriceItems","_useState6","listContractItems","setListContractItems","_useState7","_useState8","selectedItem","setSelectedItem","_useState9","_useState10","quantity","setQuantity","_useState11","_useState12","discountArising","setDiscountArising","_useState13","_useState14","showQuantityInput","setShowQuantityInput","_useState15","_useState16","selectedContractItem","setSelectedContractItem","_useState17","_useState18","quantityContract","setQuantityContract","_useState19","_useState20","discountContract","setDiscountContract","_useState21","_useState22","showQuantityContractInput","setShowQuantityContractInput","contractRef","queryClient","useQueryClient","user","useUser","isAdmin","permission","_useState23","contractImage","_useState24","fileList","setFileList","uuId","uuidv4","servicesArisingData","contractTypeData","_useForm","mode","customerType","notes","resolver","yupResolver","control","handleSubmit","errors","formState","reset","getValues","log","_defaultValues$custom2","_defaultValues$firstC","_defaultValues$second","_defaultValues$custom3","_defaultValues$firstC2","_defaultValues$second2","setFieldsValue","contractType","servicesArising","firstDepositPriceDate","secondDepositPriceDate","firstDepositPrice","secondDepositPrice","contractPrice","firstPaymentMethod","secondPaymentMethod","userName","firstCheckDeposit","secondCheckDeposit","contractTypeValue","useWatch","handleUpload","_ref2","info","concat","_toConsumableArray","url","name","success","_x","customRequest","_ref4","_callee2","_ref3","onSuccess","onError","reader","_context2","FileReader","readAsDataURL","onload","e","originalImage","Image","src","target","result","newWidth","newHeight","aspectRatio","width","height","canvas","document","createElement","ctx","getContext","drawImage","toBlob","blob","resizedFile","File","type","storageRef","storage","uploadTask","uploadBytesResumable","on","Math","round","bytesTransferred","totalBytes","err","getDownloadURL","then","_x2","multiple","listType","_ref5","newFileList","length","matchingUrls","reduce","image","some","_image$id","includes","onDrop","dataTransfer","files","options","map","findSelectedArising","find","serviceName","label","onClick","isExistItem","payload","key","generateSlugUrl","discount","isExistContract","price","servicePrice","children","isEmpty","formatCurrency","contractTypeOptions","findSelectedContract","contractName","servicesArisingValue","nameValue","servicesArisingDiscountValue","total","item","contractDiscountValue","setFieldValue","contractTypePrice","sum","findContractType","servicesArisingPriceValue","contractPriceValue","discountValue","firstDepositPriceValue","secondDepositPriceValue","firstCheckDepositValue","secondCheckDepositValue","discountValueValid","isUndefined","firstDepositPriceValueValid","secondDepositPriceValueValid","totalPrice","_jsxs","_Fragment","layout","initialValues","onFinish","_ref6","_callee4","_formRef$current","docRef","_context4","toISOString","isArray","doc","updateDoc","_callee3","_context3","invalidateQueries","open","duration","resetFields","current","_x3","Popconfirm","title","description","Input","min","parseInt","InputNumber","defaultValue","style","formatter","replace","onConfirm","updateItems","onCancel","okText","cancelText","FormItem","Select","showSearch","onDeselect","filter","onSelect","sts","index","Option","Badge","color","getStatusColor","toLowerCase","text","capitalize","allowClear","disabled","cn","valuePropName","Space","DatePicker","format","Radio","optionType","buttonStyle","InboxOutlined","Card","size","extra","marginBottom","Checkbox","Button","htmlType","block","searchText","setSearchText","searchedColumn","setSearchedColumn","searchInput","_useContract","useContract","contractData","collectionRef","isFetching","opened","setOpened","role","userPermissions","permissions","statusFilter","setStatusFilter","dressName","shottingDate","contractTypeValuePrice","servicesArisingPrice","undefined","totalContractPrice","setDefaultValues","statusOptions","useMemo","uniq","x","_x$status","trim","Boolean","s","handleSearch","selectedKeys","confirm","dataIndex","handleEditContract","record","handleDelete","deleteDoc","setTimeout","abrupt","sent","getColumnSearchProps","filterDropdown","setSelectedKeys","clearFilters","close","padding","onKeyDown","stopPropagation","onPressEnter","display","icon","SearchOutlined","handleReset","closeDropdown","filterIcon","filtered","onFilter","_record$dataIndex","_record$dataIndex$toS","_record$dataIndex$toS2","_record$dataIndex$toS3","_value$toLowerCase","toString","call","onFilterDropdownOpenChange","visible","_searchInput$current","select","render","_record$contractImage","_record$contractImage2","Highlighter","highlightStyle","backgroundColor","searchWords","autoEscape","textToHighlight","PreviewGroup","items","preview","mask","AiOutlineEye","columns","fixed","filters","filterMultiple","filterSearch","_record$status","filteredValue","sorter","a","b","localeCompare","sortDirections","getStatusOnline","Tooltip","PrintContract","handlePrintContract","canEdit","ColorButton","override","colors","primary","FaEdit","canDelete","QuestionCircleOutlined","red2","MdDeleteForever","Breadcrumb","href","Table","rowKey","uuid","dataSource","_","bordered","scroll","Modal","footer","bodyStyle","overflowY"],"sourceRoot":""}