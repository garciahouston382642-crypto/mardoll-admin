"use strict";(self.webpackChunkmardoll_admin=self.webpackChunkmardoll_admin||[]).push([[3242],{47701:function(e,n,t){t.d(n,{x:function(){return s}});var r=t(1413),a=t(44925),l=(t(72791),t(93070)),o=t(61134),i=t(80184),c=["children","control","name","help","hasFeedback"],s=function(e){var n,t,s=e.children,u=e.control,d=e.name,f=e.help,p=e.hasFeedback,m=void 0!==p&&p,h=(0,a.Z)(e,c),v=(0,o.bc)({name:d,control:u}),g=v.field,b=v.fieldState,x=v.formState.errors;return(0,i.jsx)(l.Z.Item,(0,r.Z)((0,r.Z)({hasFeedback:m,name:d,normalize:function(e){return g.onChange(e),e},validateStatus:b.invalid?"error":void 0,help:null!==(n=null===(t=x[d])||void 0===t?void 0:t.message)&&void 0!==n?n:f},h),{},{children:s}))}},33242:function(e,n,t){t.r(n),t.d(n,{default:function(){return R}});var r=t(29439),a=t(1630),l=t(36473),o=t(9773),i=t(72791),c=t(80184);function s(e){var n,t=e.data;return(0,c.jsxs)("div",{className:"w-full flex flex-col md:flex-row mt-10 justify-start md:items-center gap-9",children:[(0,c.jsxs)("div",{className:"max-w-none md:max-w-[36rem]",children:[(0,c.jsx)("h1",{className:"tracking-tight font-bold text-[3.75rem] leading-none text-gray-900",children:null===t||void 0===t?void 0:t.title}),(0,c.jsx)("p",{className:"max-w-none text-lg mt-6 text-gray-600",children:null===t||void 0===t?void 0:t.content})]}),(0,c.jsx)("div",{className:"grid grid-cols-3 gap-2",children:null===t||void 0===t||null===(n=t.gallery)||void 0===n?void 0:n.map((function(e,n){return(0,c.jsx)("div",{className:"w-[160px] h-[300px]",children:(0,c.jsx)("img",{src:null===e||void 0===e?void 0:e.url,alt:null===e||void 0===e?void 0:e.alt,className:"w-full h-full aspect-[2/3] object-cover rounded-xl shadow-xl"})},n)}))})]})}var u=t(74165),d=t(15861),f=t(1413),p=t(20028),m=t(12481),h=t(54174);var v=t(93433),g=t(44695),b=t(93070),x=t(4206),y=t(86005),j=t(2641),Z=t(763),O=t(61134),C=t(8007),w=t(91933),k=t(47701),S=t(66776),E=t(54941),N=t(54261),P=t(30276),T=C.Ry({title:C.Z_().required("Vui l\xf2ng nh\u1eadp ti\xeau \u0111\u1ec1 gi\u1edbi thi\u1ec7u v\u1ec1 ch\xfang t\xf4i!"),content:C.Z_().required("Vui l\xf2ng nh\u1eadp n\u1ed9i dung v\u1ec1 ch\xfang t\xf4i"),gallery:C.nK().required("Vui l\xf2ng upload file h\xecnh \u1ea3nh").test("fileEmpty","Vui l\xf2ng upload file h\xecnh \u1ea3nh",(function(e){return 0!==(null===e||void 0===e?void 0:e.length)}))}).required();function I(e){var n=e.data,t=e.handleCancel,a=e.refetch,l=(0,i.useRef)(null),o=b.Z.useForm(),s=(0,r.Z)(o,1)[0],C=x.ZP.useMessage(),I=(0,r.Z)(C,2),R=I[0],F=I[1],M=(0,i.useState)(!1),_=(0,r.Z)(M,2),z=_[0],H=_[1],X=(0,m.hJ)(h.R,"aboutMePage"),V=(0,i.useState)([]),B=(0,r.Z)(V,2),A=B[0],D=B[1],L=((0,p.b)(X),(0,w.useQueryClient)()),q={title:(null===n||void 0===n?void 0:n.title)||"",content:(null===n||void 0===n?void 0:n.content)||"",gallery:(null===n||void 0===n?void 0:n.gallery)||[]};(0,i.useEffect)((function(){s.setFieldsValue({title:(null===n||void 0===n?void 0:n.title)||"",content:(null===n||void 0===n?void 0:n.content)||"",gallery:(null===n||void 0===n?void 0:n.gallery)||[]}),D((null===n||void 0===n?void 0:n.gallery)||[])}),[n,s]);var Q=(0,O.cI)({defaultValues:q,resolver:(0,g.X)(T)}),U=Q.control,J=Q.handleSubmit,W=Q.formState.errors,K=Q.reset,Y=Q.setValue,G=function(){var e=(0,d.Z)((0,u.Z)().mark((function e(n){return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"done"===n.file.status?(D((function(e){return[].concat((0,v.Z)(e),[{id:(0,N.Z)(),url:n.file.url,name:n.file.name,alt:n.file.name.substr(0,n.file.name.lastIndexOf("."))}])})),Y("gallery",[].concat((0,v.Z)(A),[{id:(0,N.Z)(),url:n.file.url,name:n.file.name,alt:n.file.name.substr(0,n.file.name.lastIndexOf("."))}])),x.ZP.success("".concat(n.file.name," file uploaded successfully"))):"error"===n.file.status&&x.ZP.error("".concat(n.file.name," file upload failed."));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),$=function(){var e=(0,d.Z)((0,u.Z)().mark((function e(n){var t,r,a,l;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=n.file,r=n.onSuccess,a=n.onError;try{(l=new FileReader).readAsDataURL(t),l.onload=function(e){var n=new Image;n.src=e.target.result,n.onload=function(){var e,a,l=n.width/n.height;n.width>800||n.height>800?l>1?(e=800,a=800/l):(e=800*l,a=800):(e=n.width,a=n.height);var o=document.createElement("canvas"),i=o.getContext("2d");o.width=e,o.height=a,i.drawImage(n,0,0,e,a),o.toBlob((function(e){var n=new File([e],t.name,{type:t.type}),a=(0,P.iH)(h.t,"/manager-page/".concat(n.name)),l=(0,P.B0)(a,n);l.on("state_changed",(function(e){Math.round(e.bytesTransferred/e.totalBytes*100)}),(function(e){return console.log(e)}),(function(){(0,P.Jt)(l.snapshot.ref).then((function(e){r(),G({file:{status:"done",name:n.name,url:e}})}))}))}),t.type)}}}catch(o){console.error("Error uploading file:",o),a()}case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),ee={name:"file",multiple:!0,listType:"picture-card",customRequest:$,onChange:function(e){var n=e.fileList;if(A.length>0){var t=null===A||void 0===A?void 0:A.reduce((function(e,t){return n.some((function(e){var n;return null===t||void 0===t||null===(n=t.id)||void 0===n?void 0:n.includes(null===e||void 0===e?void 0:e.id)}))&&e.push(t),e}),[]);D(t),Y("gallery",t)}},fileList:A,onDrop:function(e){console.log("Dropped files",e.dataTransfer.files)}};return(0,c.jsxs)(c.Fragment,{children:[F,(0,c.jsxs)(b.Z,{form:s,name:"control-about-me-ref",ref:l,layout:"vertical",initialValues:q,onFinish:J(function(){var e=(0,d.Z)((0,u.Z)().mark((function e(r){var o,i,c;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=(0,f.Z)((0,f.Z)({},r),{},{gallery:A}),console.log("payload",i),c=(0,m.JU)(X,n.id),e.next=5,(0,m.r7)(c,i);case 5:L.invalidateQueries("aboutMePage"),setTimeout((0,d.Z)((0,u.Z)().mark((function e(){return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),300),H(!0),R.open({type:"success",content:"C\u1eadp nh\u1eadp th\xe0nh c\xf4ng!",duration:5}),H(!1),null===t||void 0===t||t(),s.resetFields(),null===(o=l.current)||void 0===o||o.resetFields(),K();case 14:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),children:[(0,c.jsx)(k.x,{hasFeedback:!1,control:U,name:"title",label:"Ti\xeau \u0111\u1ec1",children:(0,c.jsx)(y.Z.TextArea,{allowClear:!0,placeholder:"Nh\u1eadp ti\xeau \u0111\u1ec1 gi\u1edbi thi\u1ec7u v\u1ec1 ch\xfang t\xf4i"})}),(0,c.jsx)(k.x,{hasFeedback:!1,control:U,name:"content",label:"N\u1ed9i dung",children:(0,c.jsx)(y.Z.TextArea,{style:{height:90},allowClear:!0,placeholder:"Nh\u1eadp n\u1ed9i dung v\u1ec1 ch\xfang t\xf4i"})}),(0,c.jsx)(k.x,{control:U,name:"gallery",label:"Upload danh s\xe1ch h\xecnh v\u1ec1 ch\xfang t\xf4i",children:(0,c.jsxs)(E.Z,(0,f.Z)((0,f.Z)({},ee),{},{children:[(0,c.jsx)("p",{className:"ant-upload-drag-icon",children:(0,c.jsx)(S.Z,{})}),(0,c.jsx)("p",{className:"ant-upload-text",children:"Nh\u1ea5p ho\u1eb7c k\xe9o t\u1ec7p v\xe0o khu v\u1ef1c n\xe0y \u0111\u1ec3 t\u1ea3i l\xean"}),(0,c.jsx)("p",{className:"ant-upload-hint",children:"H\u1ed7 tr\u1ee3 t\u1ea3i l\xean m\u1ed9t l\u1ea7n ho\u1eb7c h\xe0ng lo\u1ea1t. Nghi\xeam c\u1ea5m t\u1ea3i l\xean d\u1eef li\u1ec7u c\xf4ng ty ho\u1eb7c c\xe1c th\xf4ng tin kh\xe1c"})]}))}),(0,c.jsx)(j.ZP,{loading:z,disabled:!(0,Z.isEmpty)(W),type:"primary",htmlType:"submit",block:!0,size:"large",children:"C\u1eadp nh\u1eadt"})]})]})}function R(){var e=(0,i.useState)(!1),n=(0,r.Z)(e,2),t=n[0],v=n[1],g=(0,i.useState)(""),b=(0,r.Z)(g,2),x=(b[0],b[1],function(){var e=(0,m.IO)((0,m.hJ)(h.R,"aboutMePage")),n=(0,p.sQ)(["aboutMePage"],e),t=n.data,r=[];null===t||void 0===t||t.forEach((function(e){r.push((0,f.Z)({id:e.id},e.data()))}));var a=function(){var e=(0,d.Z)((0,u.Z)().mark((function e(){return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.refetch();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error("Error refetching wedding dress data:",e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}();return{isError:n.isError,isLoading:n.isLoading,data:r,refetch:a}}()),y=x.data,j=x.refetch,Z=function(){v(!1)};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("div",{className:"m-2 p-2 md:p-10 bg-white rounded-3xl",children:[(0,c.jsx)("div",{className:"mb-4",children:(0,c.jsx)(a.Z,{items:[{href:"/",title:"Qu\u1ea3n l\xfd trang"},{title:"V\u1ec1 ch\xfang t\xf4i"}]})}),(0,c.jsx)("div",{className:"flex flex-col gap-6",children:(0,c.jsx)(l.Z,{title:"Ti\xeau \u0111\u1ec1 n\u1ed9i dung v\xe0 h\xecnh \u1ea3nh",extra:(0,c.jsx)("p",{className:"text-blue-600 cursor-pointer",onClick:function(){v(!0)},children:"Ch\u1ec9nh s\u1eeda"}),children:(0,c.jsx)(s,{data:null===y||void 0===y?void 0:y[0]})})})]}),(0,c.jsx)(o.Z,{centered:!0,open:t,title:"C\u1eadp nh\u1eadt v\u1ec1 ch\xfang t\xf4i",onCancel:Z,bodyStyle:{overflowY:"scroll",height:"calc(100vh - 200px)"},footer:null,children:(0,c.jsx)(I,{data:y[0],refetch:j,handleCancel:Z})})]})}},66776:function(e,n,t){t.d(n,{Z:function(){return c}});var r=t(87462),a=t(72791),l={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M885.2 446.3l-.2-.8-112.2-285.1c-5-16.1-19.9-27.2-36.8-27.2H281.2c-17 0-32.1 11.3-36.9 27.6L139.4 443l-.3.7-.2.8c-1.3 4.9-1.7 9.9-1 14.8-.1 1.6-.2 3.2-.2 4.8V830a60.9 60.9 0 0060.8 60.8h627.2c33.5 0 60.8-27.3 60.9-60.8V464.1c0-1.3 0-2.6-.1-3.7.4-4.9 0-9.6-1.3-14.1zm-295.8-43l-.3 15.7c-.8 44.9-31.8 75.1-77.1 75.1-22.1 0-41.1-7.1-54.8-20.6S436 441.2 435.6 419l-.3-15.7H229.5L309 210h399.2l81.7 193.3H589.4zm-375 76.8h157.3c24.3 57.1 76 90.8 140.4 90.8 33.7 0 65-9.4 90.3-27.2 22.2-15.6 39.5-37.4 50.7-63.6h156.5V814H214.4V480.1z"}}]},name:"inbox",theme:"outlined"},o=t(54291),i=function(e,n){return a.createElement(o.Z,(0,r.Z)({},e,{ref:n,icon:l}))};var c=a.forwardRef(i)},1630:function(e,n,t){t.d(n,{Z:function(){return I}});var r=t(4942),a=t(29439),l=t(72791),o=t(81694),i=t.n(o),c=t(85501),s=t(54170),u=t(61113),d=t(71929),f=t(10430),p=t(61292),m=function(e){var n=e.children,t=(0,l.useContext(d.E_).getPrefixCls)("breadcrumb");return l.createElement("li",{className:"".concat(t,"-separator"),"aria-hidden":"true"},""===n?n:n||"/")};m.__ANT_BREADCRUMB_SEPARATOR=!0;var h=m,v=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)n.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(t[r[a]]=e[r[a]])}return t};function g(e,n,t,r){if(null===t||void 0===t)return null;var a=n.className,o=n.onClick,c=v(n,["className","onClick"]),u=Object.assign(Object.assign({},(0,s.Z)(c,{data:!0,aria:!0})),{onClick:o});return void 0!==r?l.createElement("a",Object.assign({},u,{className:i()("".concat(e,"-link"),a),href:r}),t):l.createElement("span",Object.assign({},u,{className:i()("".concat(e,"-link"),a)}),t)}function b(e,n){return function(t,r,a,l,o){if(n)return n(t,r,a,l);var i=function(e,n){if(void 0===e.title||null===e.title)return null;var t=Object.keys(n).join("|");return"object"===typeof e.title?e.title:String(e.title).replace(new RegExp(":(".concat(t,")"),"g"),(function(e,t){return n[t]||e}))}(t,r);return g(e,t,i,o)}}var x=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)n.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(t[r[a]]=e[r[a]])}return t},y=function(e){var n=e.prefixCls,t=e.separator,r=void 0===t?"/":t,a=e.children,o=e.menu,i=e.overlay,c=e.dropdownProps,s=e.href,u=function(e){if(o||i){var t=Object.assign({},c);if(o){var r=o||{},a=r.items,u=x(r,["items"]);t.menu=Object.assign(Object.assign({},u),{items:null===a||void 0===a?void 0:a.map((function(e,n){var t=e.key,r=e.title,a=e.label,o=e.path,i=x(e,["key","title","label","path"]),c=null!==a&&void 0!==a?a:r;return o&&(c=l.createElement("a",{href:"".concat(s).concat(o)},c)),Object.assign(Object.assign({},i),{key:null!==t&&void 0!==t?t:n,label:c})}))})}else i&&(t.overlay=i);return l.createElement(p.Z,Object.assign({placement:"bottom"},t),l.createElement("span",{className:"".concat(n,"-overlay-link")},e,l.createElement(f.Z,null)))}return e}(a);return void 0!==u&&null!==u?l.createElement(l.Fragment,null,l.createElement("li",null,u),r&&l.createElement(h,null,r)):null},j=function(e){var n=e.prefixCls,t=e.children,r=e.href,a=x(e,["prefixCls","children","href"]),o=(0,l.useContext(d.E_).getPrefixCls)("breadcrumb",n);return l.createElement(y,Object.assign({},a,{prefixCls:o}),g(o,a,t,r))};j.__ANT_BREADCRUMB_ITEM=!0;var Z=j,O=t(67521),C=t(55564),w=t(89922),k=function(e){var n,t,a=e.componentCls,l=e.iconCls;return(0,r.Z)({},a,Object.assign(Object.assign({},(0,O.Wf)(e)),(t={color:e.itemColor,fontSize:e.fontSize},(0,r.Z)(t,l,{fontSize:e.iconFontSize}),(0,r.Z)(t,"ol",{display:"flex",flexWrap:"wrap",margin:0,padding:0,listStyle:"none"}),(0,r.Z)(t,"a",Object.assign({color:e.linkColor,transition:"color ".concat(e.motionDurationMid),padding:"0 ".concat(e.paddingXXS,"px"),borderRadius:e.borderRadiusSM,height:e.lineHeight*e.fontSize,display:"inline-block",marginInline:-e.marginXXS,"&:hover":{color:e.linkHoverColor,backgroundColor:e.colorBgTextHover}},(0,O.Qy)(e))),(0,r.Z)(t,"li:last-child",{color:e.lastItemColor}),(0,r.Z)(t,"".concat(a,"-separator"),{marginInline:e.separatorMargin,color:e.separatorColor}),(0,r.Z)(t,"".concat(a,"-link"),(0,r.Z)({},"\n          > ".concat(l," + span,\n          > ").concat(l," + a\n        "),{marginInlineStart:e.marginXXS})),(0,r.Z)(t,"".concat(a,"-overlay-link"),(n={borderRadius:e.borderRadiusSM,height:e.lineHeight*e.fontSize,display:"inline-block",padding:"0 ".concat(e.paddingXXS,"px"),marginInline:-e.marginXXS},(0,r.Z)(n,"> ".concat(l),{marginInlineStart:e.marginXXS,fontSize:e.fontSizeIcon}),(0,r.Z)(n,"&:hover",{color:e.linkHoverColor,backgroundColor:e.colorBgTextHover,a:{color:e.linkHoverColor}}),(0,r.Z)(n,"a",{"&:hover":{backgroundColor:"transparent"}}),n)),(0,r.Z)(t,"&".concat(e.componentCls,"-rtl"),{direction:"rtl"}),t)))},S=(0,C.Z)("Breadcrumb",(function(e){var n=(0,w.TS)(e,{});return[k(n)]}),(function(e){return{itemColor:e.colorTextDescription,lastItemColor:e.colorText,iconFontSize:e.fontSize,linkColor:e.colorTextDescription,linkHoverColor:e.colorText,separatorColor:e.colorTextDescription,separatorMargin:e.marginXS}})),E=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)n.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(t[r[a]]=e[r[a]])}return t};function N(e){var n=e.breadcrumbName,t=e.children,r=E(e,["breadcrumbName","children"]),a=Object.assign({title:n},r);return t&&(a.menu={items:t.map((function(e){var n=e.breadcrumbName,t=E(e,["breadcrumbName"]);return Object.assign(Object.assign({},t),{title:n})}))}),a}var P=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)n.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(t[r[a]]=e[r[a]])}return t},T=function(e){var n,t=e.prefixCls,o=e.separator,f=void 0===o?"/":o,p=e.style,m=e.className,v=e.rootClassName,g=e.routes,x=e.items,j=e.children,Z=e.itemRender,O=e.params,C=void 0===O?{}:O,w=P(e,["prefixCls","separator","style","className","rootClassName","routes","items","children","itemRender","params"]),k=l.useContext(d.E_),E=k.getPrefixCls,T=k.direction,I=k.breadcrumb,R=E("breadcrumb",t),F=S(R),M=(0,a.Z)(F,2),_=M[0],z=M[1],H=function(e,n){return(0,l.useMemo)((function(){return e||(n?n.map(N):null)}),[e,n])}(x,g),X=b(R,Z);if(H&&H.length>0){var V=[],B=x||g;n=H.map((function(e,n){var t=e.path,r=e.key,a=e.type,o=e.menu,i=e.overlay,c=e.onClick,u=e.className,d=e.separator,p=e.dropdownProps,m=function(e,n){if(void 0===n)return n;var t=(n||"").replace(/^\//,"");return Object.keys(e).forEach((function(n){t=t.replace(":".concat(n),e[n])})),t}(C,t);void 0!==m&&V.push(m);var v=null!==r&&void 0!==r?r:n;if("separator"===a)return l.createElement(h,{key:v},d);var g={},b=n===H.length-1;o?g.menu=o:i&&(g.overlay=i);var x=e.href;return V.length&&void 0!==m&&(x="#/".concat(V.join("/"))),l.createElement(y,Object.assign({key:v},g,(0,s.Z)(e,{data:!0,aria:!0}),{className:u,dropdownProps:p,href:x,separator:b?"":f,onClick:c,prefixCls:R}),X(e,C,B,V,x))}))}else if(j){var A=(0,c.Z)(j).length;n=(0,c.Z)(j).map((function(e,n){if(!e)return e;var t=n===A-1;return(0,u.Tm)(e,{separator:t?"":f,key:n})}))}var D=i()(R,null===I||void 0===I?void 0:I.className,(0,r.Z)({},"".concat(R,"-rtl"),"rtl"===T),m,v,z),L=Object.assign(Object.assign({},null===I||void 0===I?void 0:I.style),p);return _(l.createElement("nav",Object.assign({className:D,style:L},w),l.createElement("ol",null,n)))};T.Item=Z,T.Separator=h;var I=T}}]);
//# sourceMappingURL=3242.0c7cb771.chunk.js.map