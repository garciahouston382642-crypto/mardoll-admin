{"version":3,"file":"static/js/9866.6dfac238.chunk.js","mappings":"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","sources":["pages/Contract/useContract.ts","components/Chart/BarChart/index.tsx","components/Chart/AreaChart/index.tsx","components/TotalSales/index.tsx","components/TotalIncome/index.tsx","components/Chart/BarChartArising/index.tsx","components/Chart/BarChartRevenue/index.tsx","components/Chart/BarChartDiscount/index.tsx","pages/Home/index.tsx","utils/index.ts"],"sourcesContent":["import { useFirestoreQuery } from \"@react-query-firebase/firestore\";\nimport { query, collection, orderBy } from \"firebase/firestore\";\nimport { useQuery, useQueryClient } from \"react-query\";\nimport { firestore } from \"../../lib/firebase\";\nimport { ContractModel } from \"../../models\";\nimport { useMemo } from \"react\";\n\nexport function useContract() {\n  const ref = query(\n    collection(firestore, \"contract\"),\n    orderBy(\"createDate\", \"desc\") // Assuming 'createDate' is stored as a date in ISO format.\n  );\n\n  // const ref = query(collection(firestore, 'contract'));\n  // Provide the query to the hook\n  const queryContract = useFirestoreQuery([\"contract\"], ref);\n  const snapshot = queryContract.data;\n  let data: any[] = [];\n  snapshot?.forEach((docSnapshot) => {\n    data.push({ id: docSnapshot.id, ...docSnapshot.data() });\n  });\n\n  //   const data = useMemo(\n  //   () => queryContract.data?.docs.map(docSnapshot => ({ id: docSnapshot.id, ...(docSnapshot.data() as any) })) ?? [],\n  //   [queryContract.data]\n  // );\n\n  const refetchContract = async () => {\n    try {\n      await queryContract.refetch(); // You can use refetch to fetch data again\n    } catch (error) {\n      console.error(\"Error refetching wedding dress data:\", error);\n    }\n  };\n\n  return {\n    isError: queryContract.isError,\n    isLoading: queryContract.isLoading,\n    isFetching: queryContract.isFetching,\n    data: data as ContractModel[],\n    refetch: refetchContract,\n  };\n}\n","import React, { useEffect, useMemo, useRef, useState } from \"react\";\r\nimport Chart from \"react-apexcharts\";\r\nimport dayjs from \"dayjs\";\r\nimport { PlusOutlined } from \"@ant-design/icons\";\r\nimport { formatCurrency, formatNumber } from \"../../../utils\";\r\nimport { Button, Divider, Input, InputRef, Select, Space, Tooltip } from \"antd\";\r\nimport { collection, getDocs, query, where } from \"firebase/firestore\";\r\nimport { firestore } from \"../../../lib/firebase\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nlet index = 0;\r\nconst currentYear = dayjs().year();\r\n\r\nexport default function BarChart() {\r\n  const [contractData, setContractData] = useState<any[]>([]);\r\n  const [items, setItems] = useState([`${currentYear}`]);\r\n  const [defaultValue, setDefaultValue] = useState<number>(currentYear);\r\n  const [name, setName] = useState(\"\");\r\n  const inputRef = useRef<InputRef>(null);\r\n\r\n  const onNameChange = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    setName(event.target.value);\r\n  };\r\n\r\n  const handleChange = (value: { value: string; label: React.ReactNode }) => {\r\n    setDefaultValue(+value);\r\n  };\r\n\r\n  const addItem = (\r\n    e: React.MouseEvent<HTMLButtonElement | HTMLAnchorElement>\r\n  ) => {\r\n    e.preventDefault();\r\n    if (!items.includes(name)) {\r\n      setItems((prev) => [...prev, name || `New item ${index++}`]);\r\n      setName(\"\");\r\n      setTimeout(() => {\r\n        inputRef.current?.focus();\r\n      }, 0);\r\n      return;\r\n    }\r\n    toast.error(\r\n      \"Số năm đã tồn tại trọng danh sách vui lòng nhập số năm khác !\",\r\n      {\r\n        position: toast.POSITION.TOP_RIGHT,\r\n      }\r\n    );\r\n  };\r\n  // Lọc dữ liệu chỉ trong năm 2023\r\n  const filteredData = useMemo(() => {\r\n    return contractData.filter((item) => {\r\n      const itemYear = dayjs(item?.dueDate).year();\r\n      return itemYear === +defaultValue && item.status === \"complete\";\r\n    });\r\n  }, [contractData, defaultValue]);\r\n\r\n  // Lấy danh sách tháng từ dữ liệu lọc\r\n  const uniqueMonths = Array.from(\r\n    new Set(\r\n      filteredData.map((item) => {\r\n        // return dayjs(item.createDate).month() + 1\r\n        return item.dueDate.substring(5, 7);\r\n      })\r\n    )\r\n  );\r\n\r\n  // Sắp xếp danh sách tháng theo thứ tự\r\n  const sortedMonths = uniqueMonths.sort((a, b) => a - b);\r\n\r\n  // Tạo danh sách labels từ danh sách tháng\r\n  const labels = sortedMonths.map((month) => `Tháng ${month}`);\r\n\r\n  // Tạo datasets với tổng giá trị cho từng tháng\r\n  const datasets = filteredData.reduce((result: any, item) => {\r\n    const itemMonth = item.dueDate.substring(5, 7);\r\n    // const itemMonth = dayjs(item.createDate).month() + 1;\r\n    const dataIndex = sortedMonths.indexOf(itemMonth);\r\n\r\n    if (dataIndex !== -1) {\r\n      if (!result[item.contractType]) {\r\n        result[item.contractType] = Array(sortedMonths.length).fill(0);\r\n      }\r\n\r\n      result[item.contractType][dataIndex] += +item.totalPrice;\r\n    }\r\n\r\n    return result;\r\n  }, {});\r\n\r\n  const options = {\r\n    chart: {\r\n      stacked: true,\r\n    },\r\n    plotOptions: {\r\n      bar: {\r\n        // borderRadius: 8,\r\n        horizontal: false,\r\n        columnWidth: \"55%\",\r\n        // endingShape: \"rounded\",\r\n      },\r\n    },\r\n    dataLabels: {\r\n      enabled: false,\r\n    },\r\n    stroke: {\r\n      show: true,\r\n      width: 2,\r\n      colors: [\"transparent\"],\r\n    },\r\n    xaxis: {\r\n      categories: labels,\r\n    },\r\n    yaxis: {\r\n      title: {\r\n        text: \"VNĐ\",\r\n      },\r\n      labels: {\r\n        formatter: function (value: any) {\r\n          return formatNumber(+value);\r\n        },\r\n      },\r\n    },\r\n    fill: {\r\n      opacity: 1,\r\n    },\r\n    tooltip: {\r\n      theme: \"dark\",\r\n      y: {\r\n        formatter: function (val: any) {\r\n          return formatCurrency(`${val}`);\r\n        },\r\n      },\r\n    },\r\n  };\r\n\r\n  useEffect(() => {\r\n    const handleQuery = async () => {\r\n      const ref = query(\r\n        collection(firestore, \"contract\"),\r\n        where(\r\n          \"createDate\",\r\n          \">=\",\r\n          dayjs(`${+defaultValue}-01-01`).toISOString()\r\n        ),\r\n        where(\r\n          \"createDate\",\r\n          \"<\",\r\n          dayjs(`${+defaultValue + 1}-01-01`).toISOString()\r\n        )\r\n      );\r\n      const querySnapshot = await getDocs(ref);\r\n      let data: any = [];\r\n      querySnapshot.forEach((doc) => {\r\n        data.push({ id: doc.id, ...doc.data() });\r\n      });\r\n      setContractData(data);\r\n    };\r\n    handleQuery();\r\n  }, [defaultValue]);\r\n\r\n  const series = Object.keys(datasets).map((type) => ({\r\n    name: type,\r\n    data: datasets[type],\r\n  }));\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"flex items-center justify-between\">\r\n        <h4>Doanh thu tháng trong năm</h4>\r\n        <Select\r\n          defaultValue={{ value: `${currentYear}`, label: `${currentYear}` }}\r\n          style={{ width: 200 }}\r\n          placeholder=\"Filter theo năm\"\r\n          onChange={handleChange}\r\n          dropdownRender={(menu) => (\r\n            <>\r\n              {menu}\r\n              <Divider style={{ margin: \"8px 0\" }} />\r\n              <Space style={{ padding: \"0 8px 4px\" }}>\r\n                <Tooltip title=\"Nhập năm\">\r\n                  <Input\r\n                    placeholder=\"Nhập năm\"\r\n                    ref={inputRef}\r\n                    value={name}\r\n                    onChange={onNameChange}\r\n                  />\r\n                </Tooltip>\r\n                <Button type=\"text\" icon={<PlusOutlined />} onClick={addItem}>\r\n                  Thêm\r\n                </Button>\r\n              </Space>\r\n            </>\r\n          )}\r\n          options={items.map((item) => ({ label: item, value: item }))}\r\n        />\r\n      </div>\r\n      <Chart options={options} series={series} type=\"bar\" />\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useMemo, useState } from \"react\";\nimport Chart from \"react-apexcharts\";\nimport { colors } from \"../../../styles/colors\";\nimport { useContract } from \"../../../pages/Contract/useContract\";\nimport dayjs from \"dayjs\";\nimport { groupBy, keys, map, sumBy } from \"lodash\";\nimport { collection, getDocs, query, where } from \"firebase/firestore\";\nimport { firestore } from \"../../../lib/firebase\";\nimport { formatCurrency, formatNumber } from \"../../../utils\";\nimport { Avatar } from \"antd\";\nimport { FiShoppingBag } from \"react-icons/fi\";\n\nexport default function AreaChart() {\n  const currentYear = dayjs().year();\n  const [contractData, setContractData] = useState<any[]>([]);\n  const [defaultValue, setDefaultValue] = useState<number>(currentYear);\n\n  const filteredData = useMemo(() => {\n    return contractData.filter((item) => {\n      const itemYear = dayjs(item.createDate).year();\n      return itemYear === +currentYear && item.status === \"complete\";\n    });\n  }, [contractData, currentYear]);\n  const groupedData = groupBy(filteredData, (item) =>\n    item.createDate.substring(5, 7)\n  );\n  const labels = keys(groupedData);\n\n  const seriestotalsales = map(groupedData, (yearData) =>\n    sumBy(yearData, (item) => +item.totalPrice)\n  );\n\n  useEffect(() => {\n    const handleQuery = async () => {\n      const ref = query(\n        collection(firestore, \"contract\"),\n        where(\n          \"createDate\",\n          \">=\",\n          dayjs(`${+defaultValue}-01-01`).toISOString()\n        ),\n        where(\n          \"createDate\",\n          \"<\",\n          dayjs(`${+defaultValue + 1}-01-01`).toISOString()\n        )\n      );\n      const querySnapshot = await getDocs(ref);\n      let data: any = [];\n      querySnapshot.forEach((doc) => {\n        data.push({ id: doc.id, ...doc.data() });\n      });\n      setContractData(data);\n    };\n    handleQuery();\n  }, [defaultValue]);\n\n  const options = {\n    labels: labels,\n    grid: {\n      show: true,\n      borderColor: \"transparent\",\n      strokeDashArray: 2,\n      padding: {\n        left: 0,\n        right: 0,\n        bottom: 0,\n      },\n    },\n    colors: [colors.primary],\n    chart: {\n      toolbar: {\n        show: false,\n      },\n      foreColor: \"#adb0bb\",\n      fontFamily: \"'DM Sans',sans-serif\",\n      sparkline: {\n        enabled: true,\n      },\n    },\n    dataLabels: {\n      enabled: false,\n    },\n    markers: {\n      size: 0,\n    },\n    legend: {\n      show: false,\n    },\n    stroke: {\n      show: true,\n      width: 2,\n      curve: \"smooth\",\n    },\n    tooltip: {\n      theme: \"dark\",\n      y: {\n        formatter: function (val: any) {\n          return formatCurrency(`${val}`);\n        },\n      },\n    },\n  };\n  const series = [\n    {\n      name: \"Monthly Sales\",\n      data: seriestotalsales,\n    },\n  ];\n  const total = sumBy(seriestotalsales);\n  return (\n    <div className=\"bg-white rounded-2xl md:rounded-3xl drop-shadow-lg overflow-hidden flex flex-col justify-between\">\n      <div className=\"flex gap-3 items-center px-3 md:px-6 md:mt-6\">\n        <div>\n          <p>Tháng Sales</p>\n          <p>{formatNumber(total)}</p>\n        </div>\n        <Avatar\n          size={40}\n          style={{ backgroundColor: colors.primary }}\n          icon={<FiShoppingBag />}\n        />\n      </div>\n      <Chart\n        options={options as any}\n        series={series}\n        type=\"area\"\n        height=\"90px\"\n      />\n    </div>\n  );\n}\n","import React, { useMemo, useState } from \"react\";\nimport Chart from \"react-apexcharts\";\nimport { colors } from \"../../styles/colors\";\nimport { Divider, Select, SelectProps } from \"antd\";\nimport dayjs from \"dayjs\";\nimport { useContract } from \"../../pages/Contract/useContract\";\nimport { findIndex, groupBy, keys, map, reduce, sumBy } from \"lodash\";\nimport { formatCurrency } from \"../../utils\";\n\nexport default function TotalSales() {\n  const currentYear = `${dayjs().year()}`;\n  const { data: contractData } = useContract();\n  const [defaultYear, setDefaultYear] = useState<string>(currentYear);\n  const filteredData = useMemo(() => {\n    return contractData.filter((item) => {\n      return item.status === \"complete\";\n    });\n  }, [contractData]);\n\n  const groupedData = groupBy(filteredData, (item) =>\n    item.createDate.substring(0, 4)\n  );\n  const labels = keys(groupedData);\n\n  const seriesTotalSales = map(groupedData, (yearData) =>\n    sumBy(yearData, (item) => +item.totalPrice)\n  );\n\n  const handleChange = (value: SelectProps[\"onChange\"]) => {\n    setDefaultYear(`${value}`);\n  };\n\n  const optionsTotalSales = {\n    labels,\n    colors: [colors.primary, \"#feb01a\", \"#00e396\"],\n    // chart: {\n    //     height: 280,\n    //     type: 'donut',\n    //     foreColor: '#adb0bb',\n    //     fontFamily: 'DM sans',\n    // },\n    chart: {\n      width: 380,\n      height: 380,\n      type: \"donut\",\n      foreColor: \"#adb0bb\",\n      fontFamily: \"DM sans\",\n    },\n    dataLabels: {\n      enabled: false,\n    },\n    responsive: [\n      {\n        breakpoint: 480,\n        options: {\n          chart: {\n            width: 240,\n          },\n          legend: {\n            show: false,\n          },\n        },\n      },\n    ],\n    legend: {\n      position: \"right\",\n      offsetY: 0,\n      height: 430,\n    },\n    plotOptions: {\n      pie: {\n        customScale: 0.8, // Adjust the size of the donut\n        donut: {\n          labels: {\n            show: true,\n            total: {\n              show: true,\n              label: \"Tổng\",\n              formatter: function (w: any) {\n                return formatCurrency(\n                  `${w.globals.seriesTotals\n                    .reduce((a: any, b: any) => a + b, 0)\n                    .toFixed?.(2)}`\n                );\n              },\n            },\n          },\n        },\n      },\n    },\n    tooltip: {\n      theme: \"dark\",\n      fillSeriesColor: false,\n      y: {\n        formatter: function (val: any) {\n          return formatCurrency(`${val}`);\n        },\n      },\n    },\n  };\n\n  return (\n    <>\n      <div className=\"flex justify-between items-center px-6\">\n        <h3>Tổng doanh thu</h3>\n        <Select\n          style={{ width: 120 }}\n          defaultValue={currentYear as any}\n          onChange={handleChange}\n          options={map(labels, (value) => ({ value, label: value }))}\n        />\n      </div>\n      <Divider style={{ marginTop: 8 }} />\n      <div className=\"flex justify-between items-center px-6\">\n        <p className=\"text-base text-[rgb(119,126,137)]\">Doanh thu hàng năm</p>\n        <h2 className=\"text-xl font-bold leading-3\">\n          {/* {formatCurrency(\n            +seriesTotalSales?.[\n              findIndex(labels, (e) => e === defaultYear)\n            ] as any\n          )} */}\n          {formatCurrency(\n            `${reduce(seriesTotalSales, (res, item) => (res += item))}`\n          )}\n        </h2>\n      </div>\n      {/* <div className=\"flex items-center justify-center\"> */}\n      <Chart\n        options={optionsTotalSales as any}\n        series={seriesTotalSales}\n        type=\"donut\"\n        height=\"380\"\n      />\n      {/* </div> */}\n    </>\n  );\n}\n","import { Avatar, Tooltip } from \"antd\";\r\nimport React from \"react\";\r\nimport { colors } from \"../../styles/colors\";\r\nimport { FaDongSign } from \"react-icons/fa6\";\r\nimport { useContract } from \"../../pages/Contract/useContract\";\r\nimport { sumBy } from \"lodash\";\r\nimport { formatCurrency, formatNumber } from \"../../utils\";\r\n\r\nexport default function TotalIncome() {\r\n  const { data: contractData } = useContract();\r\n  const totalIncome = sumBy(contractData, (item) =>\r\n    item.status === \"complete\"\r\n      ? +item.totalPrice - (+item?.discount + +item?.servicesArisingPrice)\r\n      : 0\r\n  );\r\n  return (\r\n    <div className=\"bg-[#fb9679] rounded-2xl md:rounded-3xl drop-shadow-lg p-2 md:p-6\">\r\n      <div className=\"flex items-center gap-3\">\r\n        <p className=\"text-white text-xl font-medium\">Thu nhập</p>\r\n        <Avatar\r\n          size={40}\r\n          style={{ backgroundColor: colors.secondary }}\r\n          icon={<FaDongSign color=\"#000000\" />}\r\n        />\r\n      </div>\r\n      <Tooltip title={formatCurrency(`${totalIncome}`)} trigger=\"click\">\r\n        <p className=\"whitespace-nowrap overflow-hidden text-ellipsis text-white text-2xl lg:text-xl font-semibold overflow-hidden\">\r\n          {formatCurrency(`${totalIncome}`)}\r\n        </p>\r\n      </Tooltip>\r\n\r\n      <p className=\"text-white opacity-60 text-sm\">Doanh thu hàng năm</p>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useMemo, useRef, useState } from \"react\";\r\nimport Chart from \"react-apexcharts\";\r\nimport dayjs from \"dayjs\";\r\nimport { PlusOutlined } from \"@ant-design/icons\";\r\nimport { formatCurrency, formatNumber } from \"../../../utils\";\r\nimport { Button, Divider, Input, InputRef, Select, Space, Tooltip } from \"antd\";\r\nimport { collection, getDocs, query, where } from \"firebase/firestore\";\r\nimport { firestore } from \"../../../lib/firebase\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nlet index = 0;\r\nconst currentYear = dayjs().year();\r\n\r\nexport default function BarChartArising() {\r\n  const [contractData, setContractData] = useState<any[]>([]);\r\n  const [items, setItems] = useState([`${currentYear}`]);\r\n  const [defaultValue, setDefaultValue] = useState<number>(currentYear);\r\n  const [name, setName] = useState(\"\");\r\n  const inputRef = useRef<InputRef>(null);\r\n\r\n  const onNameChange = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    setName(event.target.value);\r\n  };\r\n\r\n  const handleChange = (value: { value: string; label: React.ReactNode }) => {\r\n    setDefaultValue(+value);\r\n  };\r\n\r\n  const addItem = (\r\n    e: React.MouseEvent<HTMLButtonElement | HTMLAnchorElement>\r\n  ) => {\r\n    e.preventDefault();\r\n    if (!items.includes(name)) {\r\n      setItems((prev) => [...prev, name || `New item ${index++}`]);\r\n      setName(\"\");\r\n      setTimeout(() => {\r\n        inputRef.current?.focus();\r\n      }, 0);\r\n      return;\r\n    }\r\n    toast.error(\r\n      \"Số năm đã tồn tại trọng danh sách vui lòng nhập số năm khác !\",\r\n      {\r\n        position: toast.POSITION.TOP_RIGHT,\r\n      }\r\n    );\r\n  };\r\n  // Lọc dữ liệu chỉ trong năm 2023\r\n  const filteredData = useMemo(() => {\r\n    return contractData.filter((item) => {\r\n      const itemYear = dayjs(item?.dueDate).year();\r\n      return itemYear === +defaultValue && item.status === \"complete\";\r\n    });\r\n  }, [contractData, defaultValue]);\r\n\r\n  // Lấy danh sách tháng từ dữ liệu lọc\r\n  const uniqueMonths = Array.from(\r\n    new Set(\r\n      filteredData.map((item) => {\r\n        // return dayjs(item.createDate).month() + 1\r\n        return item.dueDate.substring(5, 7);\r\n      })\r\n    )\r\n  );\r\n\r\n  // Sắp xếp danh sách tháng theo thứ tự\r\n  const sortedMonths = uniqueMonths.sort((a, b) => a - b);\r\n\r\n  // Tạo danh sách labels từ danh sách tháng\r\n  const labels = sortedMonths.map((month) => `Tháng ${month}`);\r\n\r\n  // Tạo datasets với tổng giá trị cho từng tháng\r\n  const datasets = filteredData.reduce((result: any, item) => {\r\n    const itemMonth = item.dueDate.substring(5, 7);\r\n    // const itemMonth = dayjs(item.createDate).month() + 1;\r\n    const dataIndex = sortedMonths.indexOf(itemMonth);\r\n\r\n    if (dataIndex !== -1) {\r\n      if (!result[item.contractType]) {\r\n        result[item.contractType] = Array(sortedMonths.length).fill(0);\r\n      }\r\n\r\n      result[item.contractType][dataIndex] += +item.servicesArisingPrice;\r\n    }\r\n\r\n    return result;\r\n  }, {});\r\n\r\n  const options = {\r\n    chart: {\r\n      stacked: true,\r\n    },\r\n    plotOptions: {\r\n      bar: {\r\n        // borderRadius: 8,\r\n        horizontal: false,\r\n        columnWidth: \"55%\",\r\n        // endingShape: \"rounded\",\r\n      },\r\n    },\r\n    dataLabels: {\r\n      enabled: false,\r\n    },\r\n    stroke: {\r\n      show: true,\r\n      width: 2,\r\n      colors: [\"transparent\"],\r\n    },\r\n    xaxis: {\r\n      categories: labels,\r\n    },\r\n    yaxis: {\r\n      title: {\r\n        text: \"VNĐ\",\r\n      },\r\n      labels: {\r\n        formatter: function (value: any) {\r\n          return formatNumber(+value);\r\n        },\r\n      },\r\n    },\r\n    fill: {\r\n      opacity: 1,\r\n    },\r\n    tooltip: {\r\n      theme: \"dark\",\r\n      y: {\r\n        formatter: function (val: any) {\r\n          return formatCurrency(`${val}`);\r\n        },\r\n      },\r\n    },\r\n  };\r\n\r\n  useEffect(() => {\r\n    const handleQuery = async () => {\r\n      const ref = query(\r\n        collection(firestore, \"contract\"),\r\n        where(\r\n          \"createDate\",\r\n          \">=\",\r\n          dayjs(`${+defaultValue}-01-01`).toISOString()\r\n        ),\r\n        where(\r\n          \"createDate\",\r\n          \"<\",\r\n          dayjs(`${+defaultValue + 1}-01-01`).toISOString()\r\n        )\r\n      );\r\n      const querySnapshot = await getDocs(ref);\r\n      let data: any = [];\r\n      querySnapshot.forEach((doc) => {\r\n        data.push({ id: doc.id, ...doc.data() });\r\n      });\r\n      setContractData(data);\r\n    };\r\n    handleQuery();\r\n  }, [defaultValue]);\r\n\r\n  const series = Object.keys(datasets).map((type) => ({\r\n    name: type,\r\n    data: datasets[type],\r\n  }));\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"flex items-center justify-between\">\r\n        <h4>Chi phí phát sinh tháng trong năm</h4>\r\n        <Select\r\n          defaultValue={{ value: `${currentYear}`, label: `${currentYear}` }}\r\n          style={{ width: 200 }}\r\n          placeholder=\"Filter theo năm\"\r\n          onChange={handleChange}\r\n          dropdownRender={(menu) => (\r\n            <>\r\n              {menu}\r\n              <Divider style={{ margin: \"8px 0\" }} />\r\n              <Space style={{ padding: \"0 8px 4px\" }}>\r\n                <Tooltip title=\"Nhập năm\">\r\n                  <Input\r\n                    placeholder=\"Nhập năm\"\r\n                    ref={inputRef}\r\n                    value={name}\r\n                    onChange={onNameChange}\r\n                  />\r\n                </Tooltip>\r\n                <Button type=\"text\" icon={<PlusOutlined />} onClick={addItem}>\r\n                  Thêm\r\n                </Button>\r\n              </Space>\r\n            </>\r\n          )}\r\n          options={items.map((item) => ({ label: item, value: item }))}\r\n        />\r\n      </div>\r\n      <Chart options={options} series={series} type=\"bar\" />\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useMemo, useRef, useState } from \"react\";\r\nimport Chart from \"react-apexcharts\";\r\nimport dayjs from \"dayjs\";\r\nimport { PlusOutlined } from \"@ant-design/icons\";\r\nimport { formatCurrency, formatNumber } from \"../../../utils\";\r\nimport { Button, Divider, Input, InputRef, Select, Space, Tooltip } from \"antd\";\r\nimport { collection, getDocs, query, where } from \"firebase/firestore\";\r\nimport { firestore } from \"../../../lib/firebase\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nlet index = 0;\r\nconst currentYear = dayjs().year();\r\n\r\nexport default function BarChartRevenue() {\r\n  const [contractData, setContractData] = useState<any[]>([]);\r\n  const [items, setItems] = useState([`${currentYear}`]);\r\n  const [defaultValue, setDefaultValue] = useState<number>(currentYear);\r\n  const [name, setName] = useState(\"\");\r\n  const inputRef = useRef<InputRef>(null);\r\n\r\n  const onNameChange = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    setName(event.target.value);\r\n  };\r\n\r\n  const handleChange = (value: { value: string; label: React.ReactNode }) => {\r\n    setDefaultValue(+value);\r\n  };\r\n\r\n  const addItem = (\r\n    e: React.MouseEvent<HTMLButtonElement | HTMLAnchorElement>\r\n  ) => {\r\n    e.preventDefault();\r\n    if (!items.includes(name)) {\r\n      setItems((prev) => [...prev, name || `New item ${index++}`]);\r\n      setName(\"\");\r\n      setTimeout(() => {\r\n        inputRef.current?.focus();\r\n      }, 0);\r\n      return;\r\n    }\r\n    toast.error(\r\n      \"Số năm đã tồn tại trọng danh sách vui lòng nhập số năm khác !\",\r\n      {\r\n        position: toast.POSITION.TOP_RIGHT,\r\n      }\r\n    );\r\n  };\r\n  // Lọc dữ liệu chỉ trong năm 2023\r\n  const filteredData = useMemo(() => {\r\n    return contractData.filter((item) => {\r\n      const itemYear = dayjs(item?.dueDate).year();\r\n      return itemYear === +defaultValue && item.status === \"complete\";\r\n    });\r\n  }, [contractData, defaultValue]);\r\n\r\n  // Lấy danh sách tháng từ dữ liệu lọc\r\n  const uniqueMonths = Array.from(\r\n    new Set(\r\n      filteredData.map((item) => {\r\n        // return dayjs(item.createDate).month() + 1\r\n        return item.dueDate.substring(5, 7);\r\n      })\r\n    )\r\n  );\r\n\r\n  // Sắp xếp danh sách tháng theo thứ tự\r\n  const sortedMonths = uniqueMonths.sort((a, b) => a - b);\r\n\r\n  // Tạo danh sách labels từ danh sách tháng\r\n  const labels = sortedMonths.map((month) => `Tháng ${month}`);\r\n\r\n  // Tạo datasets với tổng giá trị cho từng tháng\r\n  const datasets = filteredData.reduce((result: any, item) => {\r\n    const itemMonth = item.dueDate.substring(5, 7);\r\n    // const itemMonth = dayjs(item.createDate).month() + 1;\r\n    const dataIndex = sortedMonths.indexOf(itemMonth);\r\n\r\n    if (dataIndex !== -1) {\r\n      if (!result[item.contractType]) {\r\n        result[item.contractType] = Array(sortedMonths.length).fill(0);\r\n      }\r\n\r\n      result[item.contractType][dataIndex] +=\r\n        +item.totalPrice - (+item.discount + +item.servicesArisingPrice);\r\n    }\r\n\r\n    return result;\r\n  }, {});\r\n\r\n  const options = {\r\n    chart: {\r\n      stacked: true,\r\n    },\r\n    plotOptions: {\r\n      bar: {\r\n        // borderRadius: 8,\r\n        horizontal: false,\r\n        columnWidth: \"55%\",\r\n        // endingShape: \"rounded\",\r\n      },\r\n    },\r\n    dataLabels: {\r\n      enabled: false,\r\n    },\r\n    stroke: {\r\n      show: true,\r\n      width: 2,\r\n      colors: [\"transparent\"],\r\n    },\r\n    xaxis: {\r\n      categories: labels,\r\n    },\r\n    yaxis: {\r\n      title: {\r\n        text: \"VNĐ\",\r\n      },\r\n      labels: {\r\n        formatter: function (value: any) {\r\n          return formatNumber(+value);\r\n        },\r\n      },\r\n    },\r\n    fill: {\r\n      opacity: 1,\r\n    },\r\n    tooltip: {\r\n      theme: \"dark\",\r\n      y: {\r\n        formatter: function (val: any) {\r\n          return formatCurrency(`${val}`);\r\n        },\r\n      },\r\n    },\r\n  };\r\n\r\n  useEffect(() => {\r\n    const handleQuery = async () => {\r\n      const ref = query(\r\n        collection(firestore, \"contract\"),\r\n        where(\r\n          \"createDate\",\r\n          \">=\",\r\n          dayjs(`${+defaultValue}-01-01`).toISOString()\r\n        ),\r\n        where(\r\n          \"createDate\",\r\n          \"<\",\r\n          dayjs(`${+defaultValue + 1}-01-01`).toISOString()\r\n        )\r\n      );\r\n      const querySnapshot = await getDocs(ref);\r\n      let data: any = [];\r\n      querySnapshot.forEach((doc) => {\r\n        data.push({ id: doc.id, ...doc.data() });\r\n      });\r\n      setContractData(data);\r\n    };\r\n    handleQuery();\r\n  }, [defaultValue]);\r\n\r\n  const series = Object.keys(datasets).map((type) => ({\r\n    name: type,\r\n    data: datasets[type],\r\n  }));\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"flex items-center justify-between\">\r\n        <h4>Thu nhập tháng trong năm</h4>\r\n        <Select\r\n          defaultValue={{ value: `${currentYear}`, label: `${currentYear}` }}\r\n          style={{ width: 200 }}\r\n          placeholder=\"Filter theo năm\"\r\n          onChange={handleChange}\r\n          dropdownRender={(menu) => (\r\n            <>\r\n              {menu}\r\n              <Divider style={{ margin: \"8px 0\" }} />\r\n              <Space style={{ padding: \"0 8px 4px\" }}>\r\n                <Tooltip title=\"Nhập năm\">\r\n                  <Input\r\n                    placeholder=\"Nhập năm\"\r\n                    ref={inputRef}\r\n                    value={name}\r\n                    onChange={onNameChange}\r\n                  />\r\n                </Tooltip>\r\n                <Button type=\"text\" icon={<PlusOutlined />} onClick={addItem}>\r\n                  Thêm\r\n                </Button>\r\n              </Space>\r\n            </>\r\n          )}\r\n          options={items.map((item) => ({ label: item, value: item }))}\r\n        />\r\n      </div>\r\n      <Chart options={options} series={series} type=\"bar\" />\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useMemo, useRef, useState } from \"react\";\nimport Chart from \"react-apexcharts\";\nimport dayjs from \"dayjs\";\nimport { PlusOutlined } from \"@ant-design/icons\";\nimport { formatCurrency, formatNumber } from \"../../../utils\";\nimport { Button, Divider, Input, InputRef, Select, Space, Tooltip } from \"antd\";\nimport { collection, getDocs, query, where } from \"firebase/firestore\";\nimport { firestore } from \"../../../lib/firebase\";\nimport { toast } from \"react-toastify\";\n\nlet index = 0;\nconst currentYear = dayjs().year();\n\nexport default function BarchartDiscount() {\n  const [contractData, setContractData] = useState<any[]>([]);\n  const [items, setItems] = useState([`${currentYear}`]);\n  const [defaultValue, setDefaultValue] = useState<number>(currentYear);\n  const [name, setName] = useState(\"\");\n  const inputRef = useRef<InputRef>(null);\n\n  const onNameChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    setName(event.target.value);\n  };\n\n  const handleChange = (value: { value: string; label: React.ReactNode }) => {\n    setDefaultValue(+value);\n  };\n\n  const addItem = (\n    e: React.MouseEvent<HTMLButtonElement | HTMLAnchorElement>\n  ) => {\n    e.preventDefault();\n    if (!items.includes(name)) {\n      setItems((prev) => [...prev, name || `New item ${index++}`]);\n      setName(\"\");\n      setTimeout(() => {\n        inputRef.current?.focus();\n      }, 0);\n      return;\n    }\n    toast.error(\n      \"Số năm đã tồn tại trọng danh sách vui lòng nhập số năm khác !\",\n      {\n        position: toast.POSITION.TOP_RIGHT,\n      }\n    );\n  };\n  // Lọc dữ liệu chỉ trong năm 2023\n  const filteredData = useMemo(() => {\n    return contractData.filter((item) => {\n      const itemYear = dayjs(item?.dueDate).year();\n      return itemYear === +defaultValue && item.status === \"complete\";\n    });\n  }, [contractData, defaultValue]);\n\n  // Lấy danh sách tháng từ dữ liệu lọc\n  const uniqueMonths = Array.from(\n    new Set(\n      filteredData.map((item) => {\n        // return dayjs(item.createDate).month() + 1\n        return item.dueDate.substring(5, 7);\n      })\n    )\n  );\n\n  // Sắp xếp danh sách tháng theo thứ tự\n  const sortedMonths = uniqueMonths.sort((a, b) => a - b);\n\n  // Tạo danh sách labels từ danh sách tháng\n  const labels = sortedMonths.map((month) => `Tháng ${month}`);\n\n  // Tạo datasets với tổng giá trị cho từng tháng\n  const datasets = filteredData.reduce((result: any, item) => {\n    const itemMonth = item.dueDate.substring(5, 7);\n    // const itemMonth = dayjs(item.createDate).month() + 1;\n    const dataIndex = sortedMonths.indexOf(itemMonth);\n\n    if (dataIndex !== -1) {\n      if (!result[item.contractType]) {\n        result[item.contractType] = Array(sortedMonths.length).fill(0);\n      }\n\n      result[item.contractType][dataIndex] += +item.discount;\n    }\n\n    return result;\n  }, {});\n\n  const options = {\n    chart: {\n      stacked: true,\n    },\n    plotOptions: {\n      bar: {\n        // borderRadius: 8,\n        horizontal: false,\n        columnWidth: \"55%\",\n        // endingShape: \"rounded\",\n      },\n    },\n    dataLabels: {\n      enabled: false,\n    },\n    stroke: {\n      show: true,\n      width: 2,\n      colors: [\"transparent\"],\n    },\n    xaxis: {\n      categories: labels,\n    },\n    yaxis: {\n      title: {\n        text: \"VNĐ\",\n      },\n      labels: {\n        formatter: function (value: any) {\n          return formatNumber(+value);\n        },\n      },\n    },\n    fill: {\n      opacity: 1,\n    },\n    tooltip: {\n      theme: \"dark\",\n      y: {\n        formatter: function (val: any) {\n          return formatCurrency(`${val}`);\n        },\n      },\n    },\n  };\n\n  useEffect(() => {\n    const handleQuery = async () => {\n      const ref = query(\n        collection(firestore, \"contract\"),\n        where(\n          \"createDate\",\n          \">=\",\n          dayjs(`${+defaultValue}-01-01`).toISOString()\n        ),\n        where(\n          \"createDate\",\n          \"<\",\n          dayjs(`${+defaultValue + 1}-01-01`).toISOString()\n        )\n      );\n      const querySnapshot = await getDocs(ref);\n      let data: any = [];\n      querySnapshot.forEach((doc) => {\n        data.push({ id: doc.id, ...doc.data() });\n      });\n      setContractData(data);\n    };\n    handleQuery();\n  }, [defaultValue]);\n\n  const series = Object.keys(datasets).map((type) => ({\n    name: type,\n    data: datasets[type],\n  }));\n\n  return (\n    <div>\n      <div className=\"flex items-center justify-between\">\n        <h4>Discount tháng trong năm</h4>\n        <Select\n          defaultValue={{ value: `${currentYear}`, label: `${currentYear}` }}\n          style={{ width: 200 }}\n          placeholder=\"Filter theo năm\"\n          onChange={handleChange}\n          dropdownRender={(menu) => (\n            <>\n              {menu}\n              <Divider style={{ margin: \"8px 0\" }} />\n              <Space style={{ padding: \"0 8px 4px\" }}>\n                <Tooltip title=\"Nhập năm\">\n                  <Input\n                    placeholder=\"Nhập năm\"\n                    ref={inputRef}\n                    value={name}\n                    onChange={onNameChange}\n                  />\n                </Tooltip>\n                <Button type=\"text\" icon={<PlusOutlined />} onClick={addItem}>\n                  Thêm\n                </Button>\n              </Space>\n            </>\n          )}\n          options={items.map((item) => ({ label: item, value: item }))}\n        />\n      </div>\n      <Chart options={options} series={series} type=\"bar\" />\n    </div>\n  );\n}\n","import React from \"react\";\r\nimport BarChart from \"../../components/Chart/BarChart\";\r\nimport { Avatar, Badge, Button, Divider, Select, Space } from \"antd\";\r\nimport { FiShoppingBag } from \"react-icons/fi\";\r\nimport { FaDongSign } from \"react-icons/fa6\";\r\nimport AreaChart from \"../../components/Chart/AreaChart\";\r\nimport { colors } from \"../../styles/colors\";\r\nimport TotalSales from \"../../components/TotalSales\";\r\nimport { AiOutlineShopping } from \"react-icons/ai\";\r\nimport TotalIncome from \"../../components/TotalIncome\";\r\nimport { useUser } from \"../../store/useUser\";\r\nimport BarChartArising from \"../../components/Chart/BarChartArising\";\r\nimport BarChartRevenue from \"../../components/Chart/BarChartRevenue\";\r\nimport BarchartDiscount from \"../../components/Chart/BarChartDiscount\";\r\n\r\nexport default function Home() {\r\n  const { user } = useUser();\r\n  const isAdmin = user?.permission === \"admin\";\r\n  const renderEcommer = () => {\r\n    return (\r\n      <>\r\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n          <div className=\"analytics-report-container\">\r\n            {/* <div className=\"analytics-report bg-white rounded-3xl drop-shadow-lg p-[14px]\">\r\n              <p className=\"text-lg font-semibold leading-4 text-gray-900\">\r\n                Hey Minh Dat\r\n              </p>\r\n              <p className=\"text-lg font-semibold leading-4 text-gray-900\">\r\n                Download Latest Report\r\n              </p>\r\n              <div className=\"pb-6\">\r\n                <Button type=\"primary\">Download</Button>\r\n              </div>\r\n            </div> */}\r\n            <div className=\"grid grid-cols-2 mt-4 gap-6\">\r\n              <TotalIncome />\r\n              <AreaChart />\r\n            </div>\r\n          </div>\r\n          <div className=\"bg-white rounded-3xl drop-shadow-lg px-4 flex flex-col justify-center\">\r\n            <TotalSales />\r\n          </div>\r\n        </div>\r\n        <div>\r\n          <div className=\"grid grid-cols-2 gap-6 py-6\">\r\n            <div className=\"bg-white rounded-3xl drop-shadow-lg px-4 flex flex-col justify-center\">\r\n              <BarChartRevenue />\r\n            </div>\r\n            <div className=\"bg-white rounded-3xl drop-shadow-lg px-4 flex flex-col justify-center\">\r\n              <BarChart />\r\n            </div>\r\n            <div className=\"bg-white rounded-3xl drop-shadow-lg px-4 flex flex-col justify-center\">\r\n              <BarChartArising />\r\n            </div>\r\n            <div className=\"bg-white rounded-3xl drop-shadow-lg px-4 flex flex-col justify-center\">\r\n              <BarchartDiscount />\r\n            </div>\r\n          </div>\r\n        </div>\r\n        {/* <div className=\"grid grid-cols-2 gap-3 h-[100px] mt-6\">\r\n        <div className=\"bg-white rounded-3xl drop-shadow-lg px-4 \">\r\n            <BarChartRevenue />\r\n          </div>\r\n        </div> */}\r\n      </>\r\n    );\r\n  };\r\n  return <div className=\"h-full p-6\">{renderEcommer()}</div>;\r\n  // return <div className=\"h-full p-6\">{isAdmin ? renderEcommer() : null}</div>;\r\n}\r\n","import { MenuProps } from \"antd\";\r\nimport { chain, isEmpty, isNil } from \"lodash\";\r\n\r\nexport type StatusColorType =\r\n  | \"pending\"\r\n  | \"active\"\r\n  | \"complete\"\r\n  | \"rejected\"\r\n  | \"canceled\";\r\n\r\nexport type StatusOnlineType = \"online\" | \"offline\";\r\n\r\nconst getStatusColor = (color: StatusColorType = \"pending\") => {\r\n  const defaultColor = {\r\n    pending: \"orange\",\r\n    active: \"cyan\",\r\n    complete: \"green\",\r\n    rejected: \"red\",\r\n    canceled: \"red\",\r\n  };\r\n  return defaultColor[color];\r\n};\r\n\r\nconst getStatusOnline = (color: StatusOnlineType = \"offline\") => {\r\n  const defaultColor = {\r\n    offline: \"gray\",\r\n    online: \"green\",\r\n  };\r\n  return defaultColor[color];\r\n};\r\n\r\nfunction generateSlugUrl(str: string) {\r\n  // Remove diacritics\r\n  str = str\r\n    ?.normalize(\"NFD\")\r\n    .replace(/[\\u0300-\\u036f]/g, \"\")\r\n    ?.replace(\"đ\", \"d\");\r\n  // Replace spaces with hyphens and convert to lowercase\r\n  str = str?.replace(/\\s+/g, \"-\").toLowerCase();\r\n  return str;\r\n}\r\n\r\nconst regexPassword =\r\n  /^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$/;\r\n\r\nconst isVietnamesePhoneNumber = (number: string) => {\r\n  return /((^(\\+84|84|0|0084){1})(3|5|7|8|9))+([0-9]{8})$/.test(number);\r\n};\r\n\r\nconst formatCurrency = (number: string) => {\r\n  if (isNil(number) || isEmpty(number)) return \"--\";\r\n  return parseInt(number).toLocaleString(\"vi-VN\", {\r\n    style: \"currency\",\r\n    currency: \"VND\",\r\n  });\r\n};\r\n\r\nconst formatNumber = (num: number) => {\r\n  if (num === 0) return `${num.toString()}`;\r\n  if (num >= 1000000000) {\r\n    return `${(num / 1000000000).toFixed(0)} tỷ`;\r\n  } else if (num >= 1000000) {\r\n    return `${(num / 1000000).toFixed(0)} tr`;\r\n  } else {\r\n    return `${(num / 1000).toFixed(0)} k`;\r\n  }\r\n};\r\n\r\nexport {\r\n  isVietnamesePhoneNumber,\r\n  formatCurrency,\r\n  getStatusColor,\r\n  getStatusOnline,\r\n  regexPassword,\r\n  formatNumber,\r\n  generateSlugUrl,\r\n};\r\n\r\ntype PermissionKey =\r\n  | \"ecommerce\"\r\n  | \"employees\"\r\n  | \"contracts\"\r\n  | \"wedding-dresses\"\r\n  | \"member-management\"\r\n  | \"pricing\"\r\n  | \"page-management\"\r\n  | \"customer-contact\"\r\n  | \"booking-schedule\"\r\n  | \"machine-schedule\";\r\n\r\ntype MenuItem = Required<MenuProps>[\"items\"][number];\r\n\r\nexport const canView = (\r\n  permissions: Partial<Record<PermissionKey, string[]>>,\r\n  key: PermissionKey\r\n) => {\r\n  return permissions?.[key]?.includes(\"view\");\r\n};\r\n\r\nexport const canCreate = (\r\n  permissions: Partial<Record<PermissionKey, string[]>>,\r\n  key: PermissionKey\r\n) => {\r\n  return permissions?.[key]?.includes(\"create\");\r\n};\r\n\r\nexport const canEdit = (\r\n  permissions: Partial<Record<PermissionKey, string[]>>,\r\n  key: PermissionKey\r\n) => {\r\n  return permissions?.[key]?.includes(\"edit\");\r\n};\r\n\r\nexport const canDelete = (\r\n  permissions: Partial<Record<PermissionKey, string[]>>,\r\n  key: PermissionKey\r\n) => {\r\n  return permissions?.[key]?.includes(\"delete\");\r\n};\r\n\r\n// Helper để tránh false/null trong mảng\r\nexport const canViewItem = (\r\n  key: PermissionKey,\r\n  item: MenuItem,\r\n  permissions: Partial<Record<PermissionKey, string[]>>\r\n): MenuItem | null => (canView(permissions, key) ? item : null);\r\n\r\nexport const last3Digits = (phone: string) =>\r\n  chain(phone)\r\n    .replace(/\\D/g, \"\") // bỏ mọi ký tự không phải số\r\n    .toArray() // chuyển thành mảng ký tự\r\n    .takeRight(3) // lấy 3 ký tự cuối\r\n    .join(\"\") // ghép lại thành string\r\n    .value();\r\n\r\nexport const lastWord = (s: string) =>\r\n  chain(s)\r\n    .trim() // bỏ khoảng trắng đầu/cuối\r\n    .split(/\\s+/) // tách theo 1+ khoảng trắng\r\n    .last() // lấy phần tử cuối\r\n    .defaultTo(\"\") // phòng chuỗi rỗng\r\n    .value();\r\n"],"names":["useContract","ref","query","collection","firestore","orderBy","queryContract","useFirestoreQuery","snapshot","data","forEach","docSnapshot","push","_objectSpread","id","refetchContract","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_context","prev","next","refetch","t0","console","error","stop","apply","arguments","isError","isLoading","isFetching","index","currentYear","dayjs","year","BarChart","_useState","useState","_useState2","_slicedToArray","contractData","setContractData","_useState3","concat","_useState4","items","setItems","_useState5","_useState6","defaultValue","setDefaultValue","_useState7","_useState8","name","setName","inputRef","useRef","onNameChange","event","target","value","addItem","e","preventDefault","includes","_toConsumableArray","setTimeout","_inputRef$current","current","focus","toast","position","POSITION","TOP_RIGHT","filteredData","useMemo","filter","item","dueDate","status","sortedMonths","Array","from","Set","map","substring","sort","a","b","labels","month","datasets","reduce","result","itemMonth","dataIndex","indexOf","contractType","length","fill","totalPrice","options","chart","stacked","plotOptions","bar","horizontal","columnWidth","dataLabels","enabled","stroke","show","width","colors","xaxis","categories","yaxis","title","text","formatter","formatNumber","opacity","tooltip","theme","y","val","formatCurrency","useEffect","handleQuery","querySnapshot","where","toISOString","getDocs","sent","doc","series","Object","keys","type","_jsxs","children","className","_jsx","Select","label","style","placeholder","onChange","dropdownRender","menu","_Fragment","Divider","margin","Space","padding","Tooltip","Input","Button","icon","PlusOutlined","onClick","Chart","AreaChart","createDate","groupedData","groupBy","seriestotalsales","yearData","sumBy","grid","borderColor","strokeDashArray","left","right","bottom","primary","toolbar","foreColor","fontFamily","sparkline","markers","size","legend","curve","total","Avatar","backgroundColor","FiShoppingBag","height","TotalSales","setDefaultYear","seriesTotalSales","optionsTotalSales","responsive","breakpoint","offsetY","pie","customScale","donut","w","_w$globals$seriesTota","_w$globals$seriesTota2","globals","seriesTotals","toFixed","call","fillSeriesColor","marginTop","res","TotalIncome","totalIncome","discount","servicesArisingPrice","secondary","FaDongSign","color","trigger","BarChartArising","BarChartRevenue","BarchartDiscount","Home","user","useUser","permission","getStatusColor","pending","active","complete","rejected","canceled","undefined","getStatusOnline","offline","online","generateSlugUrl","str","_str","_str$normalize$replac","_str2","normalize","replace","toLowerCase","regexPassword","isVietnamesePhoneNumber","number","test","isNil","isEmpty","parseInt","toLocaleString","currency","num","toString","canCreate","permissions","key","_permissions$key2","canEdit","_permissions$key3","canDelete","_permissions$key4","canViewItem","_permissions$key","canView","last3Digits","phone","chain","toArray","takeRight","join","lastWord","s","trim","split","last","defaultTo"],"sourceRoot":""}