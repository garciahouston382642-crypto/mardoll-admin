{"version":3,"file":"static/js/3554.4549d899.chunk.js","mappings":"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","sources":["components/Form/index.tsx","pages/Calendar/CalendarForm/index.tsx","pages/Calendar/index.tsx","pages/ContactInfo/useContactInfo.ts","utils/index.ts"],"sourcesContent":["import React from 'react';\nimport { Form as AntdForm } from 'antd';\nimport type { Control, FieldPath, FieldValues } from 'react-hook-form';\nimport { useController } from 'react-hook-form';\nimport _ from 'lodash'\n\ntype AntdFormItemProps = React.ComponentProps<typeof AntdForm.Item>;\n\nexport type FormItemProps<TFieldValues extends FieldValues = FieldValues> = {\n    children: React.ReactNode;\n    control?: Control<TFieldValues>;\n    name: FieldPath<TFieldValues>;\n} & Omit<AntdFormItemProps, 'name' | 'normalize' | 'rules' | 'validateStatus'>;\n\n// TODO: Support `onBlur` `ref`\n// FIXME: `Touched` does not change in devtool\nexport const FormItem = <TFieldValues extends FieldValues = FieldValues>({\n    children,\n    control,\n    name,\n    help,\n    hasFeedback = false,\n    ...props\n}: FormItemProps<TFieldValues>) => {\n    const { field, fieldState, formState: { errors } } = useController({ name, control });\n    const handleNormalize: AntdFormItemProps['normalize'] = (value) => {\n        field.onChange(value);\n        return value;\n    };\n    return (\n        <AntdForm.Item\n            hasFeedback={hasFeedback}\n            name={name as string}\n            // initialValue={field.value}\n            normalize={handleNormalize}\n            validateStatus={fieldState.invalid ? 'error' : undefined}\n            help={(errors[name]?.message ?? help) as string}\n            {...props}\n        >\n            {children}\n        </AntdForm.Item>\n    );\n};","// import React, { useState } from 'react'\n// import { Form, Input, Modal } from 'antd'\n// import { FormItem } from '../../../components/Form'\n\n// export default function CalendarForm() {\n// \tconst [modalVisible, setModalVisible] = useState(false)\n\n// \tconst closeModal = () => {\n// \t\tsetModalVisible(false)\n// \t}\n\n// \treturn (\n// \t\t<Modal\n// \t\t\ttitle=\"Add Notice\"\n// \t\t\topen={modalVisible}\n// \t\t\tonCancel={closeModal}\n// \t\t>\n// <Form>\n// \t<FormItem name='Date' label=\"Date\">\n// \t\t<Input />\n// \t</FormItem>\n// \t<Form.Item name=\"Notice\" label=\"Notice\">\n// \t\t<Input\n// \t\t\t// value={notice}\n// \t\t\t// onChange={handleNoticeChange}\n// \t\t\tplaceholder=\"Enter notice here\"\n// \t\t/>\n// \t</Form.Item>\n// </Form>\n// \t\t</Modal>\n// \t)\n// }\n\nimport React, { forwardRef, ForwardRefRenderFunction, useEffect, useImperativeHandle, useRef, useState } from 'react'\nimport { Button, Modal, ModalProps, Form, FormInstance, TimePicker, DatePicker, message, Input } from 'antd'\nimport { FormItem } from '../../../components/Form'\nimport { useForm } from 'react-hook-form';\nimport * as yup from 'yup';\nimport dayjs, { Dayjs } from 'dayjs'\nimport { yupResolver } from '@hookform/resolvers/yup'\nimport { isVietnamesePhoneNumber } from '../../../utils';\nimport { addDoc, collection } from 'firebase/firestore';\nimport { firestore } from '../../../lib/firebase';\nimport { isEmpty } from 'lodash';\n\ninterface CalendarFormRef {\n\tonShow: () => void\n\tonClose: () => void\n}\nconst currentDate = dayjs();\n\nconst schema = yup.object({\n\tname: yup.string().required('Vui lòng nhập họ tên của bạn!'),\n\tphone: yup.string().required('Vui lòng nhập số điện thoại của bạn!').test(\n\t\t'phone', 'Số điên thoại sai định dạng', (str, context) => {\n\t\t\treturn isVietnamesePhoneNumber(str)\n\t\t}\n\t),\n\ttime: yup\n\t\t.date()\n\t\t.transform((currentValue, originalValue) => {\n\t\t\t// Transform the TimePicker value into a Date object\n\t\t\treturn originalValue ? dayjs(originalValue, 'HH:mm').toDate() : null;\n\t\t})\n\t\t.nullable()\n\t\t.test('is-valid-time', 'Thời gian dự kiến phải nằm trong khung giờ từ 9:00 - 21:30', (value) => {\n\t\t\tif (!value) return false; // Handle null or undefined values\n\n\t\t\tconst selectedTime = dayjs(value);\n\n\t\t\tconst startTime = dayjs('09:00', 'HH:mm');\n\t\t\tconst endTime = dayjs('21:30', 'HH:mm');\n\n\t\t\treturn selectedTime.isAfter(startTime) && selectedTime.isBefore(endTime);\n\t\t}).required('Vui lòng chọn thời gian dự kiến!')\n}).required();\n\nconst dateFormat = \"DD-MM-YYYY\";\ndayjs.locale('vi')\n\ninterface CalendarForm extends ModalProps {\n\tselectedDate?: string\n\thandleReload?: () => void\n}\n\nconst CalendarForm: ForwardRefRenderFunction<CalendarFormRef, CalendarForm> = (props, ref) => {\n\n\tconst defaultValues = {\n\t\tname: '', phone: '',\n\t\ttime: dayjs(currentDate.format('HH:mm'), 'HH:mm').add(1, 'hour'),\n\t}\n\n\tconst [isOpen, setIsOpen] = useState(false)\n\tconst formRef = useRef<FormInstance>(null);\n\tconst [form] = Form.useForm();\n\tconst [messageApi, contextHolder] = message.useMessage();\n\tconst [loading, setLoading] = useState(false)\n\tconst { control, handleSubmit, formState: { errors }, reset, getValues, setValue } = useForm<any>({\n\t\tdefaultValues,\n\t\tresolver: yupResolver(schema)\n\t});\n\n\tconst handleShow = () => {\n\t\tsetIsOpen(true)\n\t}\n\n\tconst handleClose = () => {\n\t\tsetIsOpen(false)\n\t}\n\n\tuseImperativeHandle(ref, () => ({\n\t\tonShow: handleShow,\n\t\tonClose: handleClose\n\t}) as CalendarFormRef)\n\n\treturn (\n\t\t<Modal\n\t\t\tcentered\n\t\t\topen={isOpen}\n\t\t\ttitle=\"Đặt hẹn\"\n\t\t\tonCancel={handleClose}\n\t\t\tfooter={null}\n\t\t\t{...props}>\n\t\t\t{contextHolder}\n\t\t\t<Form\n\t\t\t\tform={form}\n\t\t\t\tname=\"control-ref\"\n\t\t\t\tref={formRef}\n\t\t\t\tlayout=\"vertical\"\n\t\t\t\tinitialValues={defaultValues}\n\t\t\t\tstyle={{ maxWidth: 600 }}\n\t\t\t\tonFinish={handleSubmit(async (data) => {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tsetLoading(true)\n\n\t\t\t\t\t\tconst newItem = {\n\t\t\t\t\t\t\tname: data?.name,\n\t\t\t\t\t\t\tphone: data?.phone,\n\t\t\t\t\t\t\ttime: data?.time?.toISOString(),\n\t\t\t\t\t\t\tcreateTime: dayjs(props.selectedDate).toISOString()\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst docRef = await addDoc(collection(firestore, 'booking'), newItem)\n\n\t\t\t\t\t\tif (docRef.id) {\n\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\tsetLoading(false)\n\t\t\t\t\t\t\t\thandleClose?.()\n\t\t\t\t\t\t\t\tform.resetFields()\n\t\t\t\t\t\t\t\tformRef.current?.resetFields()\n\t\t\t\t\t\t\t\treset()\n\t\t\t\t\t\t\t\tmessageApi.open({\n\t\t\t\t\t\t\t\t\ttype: 'success',\n\t\t\t\t\t\t\t\t\tcontent: 'Đặt hẹn thành công',\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tprops.handleReload?.()\n\t\t\t\t\t\t\t}, 1500)\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\tconsole.log('error orderTimeForm', error)\n\t\t\t\t\t}\n\t\t\t\t})}\n\t\t\t>\n\t\t\t\t<FormItem\n\t\t\t\t\tcontrol={control}\n\t\t\t\t\tname=\"name\"\n\t\t\t\t\tlabel=\"Họ và tên\"\n\t\t\t\t>\n\t\t\t\t\t<Input allowClear className='h-[48px]' placeholder='Nhập họ và tên' />\n\t\t\t\t</FormItem>\n\t\t\t\t<FormItem control={control} name=\"phone\" label=\"Số điện thoại\">\n\t\t\t\t\t<Input allowClear className='h-[48px]' placeholder='Nhập số điện thoại' inputMode='numeric' />\n\t\t\t\t</FormItem>\n\t\t\t\t<FormItem control={control} name='time' label=\"Thời gian dự kiến\">\n\t\t\t\t\t<TimePicker placeholder='Thời gian' format=\"HH:mm\" className='h-[48px]' />\n\t\t\t\t</FormItem>\n\t\t\t\t<div className='flex justify-end pt-4'>\n\t\t\t\t\t<Button size='large' loading={loading} disabled={!isEmpty(errors)} type=\"primary\" htmlType=\"submit\">\n\t\t\t\t\t\tĐặt ngay\n\t\t\t\t\t</Button>\n\t\t\t\t</div>\n\t\t\t</Form>\n\t\t</Modal>\n\t)\n}\n\nexport default forwardRef<CalendarFormRef, CalendarForm>(CalendarForm)\n\nexport type {\n\tCalendarFormRef\n}","import React, { useState, useRef } from \"react\";\nimport {\n  Calendar,\n  Badge,\n  List,\n  Modal,\n  CalendarProps,\n  Breadcrumb,\n  Space,\n  Button,\n} from \"antd\";\nimport type { Dayjs } from \"dayjs\";\nimport dayjs from \"dayjs\";\nimport { useQueryClient } from \"react-query\";\nimport { useContactInfo } from \"../ContactInfo/useContactInfo\";\nimport { groupBy, map } from \"lodash\";\nimport CalendarForm, { CalendarFormRef } from \"./CalendarForm\";\nimport { MdAddCircleOutline } from \"react-icons/md\";\n\n// const customNoticeData: any = {\n// \t'2023-09-15': [\n// \t\t{ time: '10:00 AM', notice: 'Meeting with Team' },\n// \t\t{ time: '2:30 PM', notice: 'Review Project Progress' },\n// \t],\n// \t'2023-09-20': [\n// \t\t{ time: '9:30 AM', notice: 'Client Presentation' },\n// \t],\n// };\nconst today = dayjs();\n\nfunction CustomCalendar() {\n  const {\n    data: contactInfoData,\n    isLoading,\n    refetchContactInfo,\n  } = useContactInfo();\n  const [modalDetailVisible, setModalDetailVisible] = useState(false);\n  // const [modalVisible, setModalDetailVisible] = useState(false);\n  const [selectedItem, setSelectedItem] = useState<any>(null);\n  const [selectedDate, setSelectedDate] = useState<any>(null);\n  const calendarRef = useRef<CalendarFormRef>(null);\n  const queryClient = useQueryClient();\n\n  const formatISODate = (isoDate: any) => {\n    return dayjs(isoDate).format(\"YYYY-MM-DD\");\n  };\n\n  const formatTimeISODate = (isoDate: any) => {\n    return dayjs(isoDate).format(\"HH:mm\");\n  };\n\n  const formattedData = map(contactInfoData, (item) => {\n    return {\n      ...item,\n      createTime: formatISODate(item.createTime),\n    };\n  });\n\n  const customNoticeData = groupBy(formattedData, \"createTime\");\n\n  const handleItemClick = (item: any) => {\n    setSelectedItem(item);\n    setModalDetailVisible(true);\n    calendarRef.current?.onClose();\n  };\n\n  const handleReload = () => {\n    queryClient.invalidateQueries(\"booking\");\n    setTimeout(async () => await refetchContactInfo(), 300);\n  };\n\n  const handleDateClick = (value: any) => {\n    const selectedDateString = value.format(\"YYYY-MM-DD\");\n    const formattedCurrentDate = today.format(\"YYYY-MM-DD\");\n    const date1 = dayjs(formattedCurrentDate);\n    const date2 = dayjs(selectedDateString);\n\n    if (date1.isSame(date2) || date1.isBefore(date2)) {\n      calendarRef.current?.onShow();\n      setSelectedDate(selectedDateString);\n    }\n  };\n\n  const closeModal = () => {\n    setModalDetailVisible(false);\n  };\n\n  const dateCellRender = (value: any) => {\n    const dateString = value.format(\"YYYY-MM-DD\");\n    const selectedDateString = value.format(\"YYYY-MM-DD\");\n    const formattedCurrentDate = today.format(\"YYYY-MM-DD\");\n    const date1 = dayjs(formattedCurrentDate);\n    const date2 = dayjs(selectedDateString);\n\n    const validationDate = date1.isSame(date2) || date1.isBefore(date2);\n\n    if (customNoticeData[dateString]) {\n      return (\n        <>\n          {validationDate && (\n            <div className=\"absolute left-0 top-1\">\n              <Button\n                onClick={() => handleDateClick(value)}\n                type=\"default\"\n                size=\"small\"\n                icon={<MdAddCircleOutline />}\n              />\n            </div>\n          )}\n          <List\n            dataSource={customNoticeData[dateString]}\n            renderItem={(item, index) => (\n              <List.Item key={index} onClick={() => handleItemClick(item)}>\n                <Space direction=\"vertical\">\n                  <Badge status=\"warning\" text={formatTimeISODate(item.time)} />\n                  {item.name}\n                  {item.phone}\n                </Space>\n              </List.Item>\n            )}\n          />\n        </>\n      );\n    }\n\n    if (validationDate) {\n      return (\n        <div className=\"absolute left-0 top-1\">\n          <Button\n            onClick={() => handleDateClick(value)}\n            type=\"default\"\n            size=\"small\"\n            icon={<MdAddCircleOutline />}\n          />\n        </div>\n      );\n    }\n    return null;\n  };\n\n  const cellRender: CalendarProps<Dayjs>[\"cellRender\"] = (current, info) => {\n    if (info.type === \"date\") return dateCellRender(current);\n    return info.originNode;\n  };\n\n  const handleMonthChange = (value: any) => {\n    // Reset the selectedDate when changing months\n    setModalDetailVisible(false);\n  };\n\n  return (\n    <div className=\"m-2 p-2 md:p-10 bg-white rounded-3xl\">\n      <div className=\"mb-4\">\n        <Breadcrumb\n          items={[\n            {\n              href: \"/\",\n              title: \"Trang chủ\",\n            },\n            {\n              title: \"Lịch đặt của khách hàng\",\n            },\n          ]}\n        />\n      </div>\n      <Calendar onPanelChange={handleMonthChange} cellRender={cellRender} />\n      <Modal\n        centered\n        title=\"Thông tin liên hệ khách hàng\"\n        open={modalDetailVisible}\n        onOk={closeModal}\n        footer={null}\n        onCancel={closeModal}\n      >\n        {selectedItem && (\n          <div>\n            <p>Thời gian: {formatTimeISODate(selectedItem.time)}</p>\n            <p>Tên khách hàng: {selectedItem.name}</p>\n            <p>Số điện thoại: {selectedItem.phone}</p>\n            <p>Email: {selectedItem.email || \"--\"}</p>\n            <p>Ghi chú: {selectedItem.description || \"--\"}</p>\n          </div>\n        )}\n      </Modal>\n      <CalendarForm\n        ref={calendarRef}\n        selectedDate={selectedDate}\n        handleReload={handleReload}\n      />\n    </div>\n  );\n}\n\nexport default CustomCalendar;\n","import { firestore } from '../../lib/firebase';\r\nimport { useFirestoreQuery } from '@react-query-firebase/firestore';\r\nimport { query, collection } from 'firebase/firestore';\r\n\r\nexport function useContactInfo() {\r\n  const ref = query(collection(firestore, 'booking'));\r\n  // Provide the query to the hook\r\n  const queryContactInfo = useFirestoreQuery(['booking'], ref);\r\n  const snapshot = queryContactInfo.data;\r\n  let data: any[] = [];\r\n  snapshot?.forEach((docSnapshot) => {\r\n    data.push({ id: docSnapshot.id, ...docSnapshot.data() });\r\n  });\r\n  const refetchContactInfo = async () => {\r\n    try {\r\n      await queryContactInfo.refetch(); // You can use refetch to fetch data again\r\n    } catch (error) {\r\n      console.error('Error refetching tea, data:', error);\r\n    }\r\n  };\r\n  return {\r\n    isError: queryContactInfo.isError,\r\n    isLoading: queryContactInfo.isLoading,\r\n    data: data,\r\n    refetchContactInfo\r\n  };\r\n}\r\n","import { MenuProps } from \"antd\";\r\nimport { chain, isEmpty, isNil } from \"lodash\";\r\n\r\nexport type StatusColorType =\r\n  | \"pending\"\r\n  | \"active\"\r\n  | \"complete\"\r\n  | \"rejected\"\r\n  | \"canceled\";\r\n\r\nexport type StatusOnlineType = \"online\" | \"offline\";\r\n\r\nconst getStatusColor = (color: StatusColorType = \"pending\") => {\r\n  const defaultColor = {\r\n    pending: \"orange\",\r\n    active: \"cyan\",\r\n    complete: \"green\",\r\n    rejected: \"red\",\r\n    canceled: \"red\",\r\n  };\r\n  return defaultColor[color];\r\n};\r\n\r\nconst getStatusOnline = (color: StatusOnlineType = \"offline\") => {\r\n  const defaultColor = {\r\n    offline: \"gray\",\r\n    online: \"green\",\r\n  };\r\n  return defaultColor[color];\r\n};\r\n\r\nfunction generateSlugUrl(str: string) {\r\n  // Remove diacritics\r\n  str = str\r\n    ?.normalize(\"NFD\")\r\n    .replace(/[\\u0300-\\u036f]/g, \"\")\r\n    ?.replace(\"đ\", \"d\");\r\n  // Replace spaces with hyphens and convert to lowercase\r\n  str = str?.replace(/\\s+/g, \"-\").toLowerCase();\r\n  return str;\r\n}\r\n\r\nconst regexPassword =\r\n  /^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$/;\r\n\r\nconst isVietnamesePhoneNumber = (number: string) => {\r\n  return /((^(\\+84|84|0|0084){1})(3|5|7|8|9))+([0-9]{8})$/.test(number);\r\n};\r\n\r\nconst formatCurrency = (number: string) => {\r\n  if (isNil(number) || isEmpty(number)) return \"--\";\r\n  return parseInt(number).toLocaleString(\"vi-VN\", {\r\n    style: \"currency\",\r\n    currency: \"VND\",\r\n  });\r\n};\r\n\r\nconst formatNumber = (num: number) => {\r\n  if (num === 0) return `${num.toString()}`;\r\n  if (num >= 1000000000) {\r\n    return `${(num / 1000000000).toFixed(0)} tỷ`;\r\n  } else if (num >= 1000000) {\r\n    return `${(num / 1000000).toFixed(0)} tr`;\r\n  } else {\r\n    return `${(num / 1000).toFixed(0)} k`;\r\n  }\r\n};\r\n\r\nexport {\r\n  isVietnamesePhoneNumber,\r\n  formatCurrency,\r\n  getStatusColor,\r\n  getStatusOnline,\r\n  regexPassword,\r\n  formatNumber,\r\n  generateSlugUrl,\r\n};\r\n\r\ntype PermissionKey =\r\n  | \"ecommerce\"\r\n  | \"employees\"\r\n  | \"contracts\"\r\n  | \"wedding-dresses\"\r\n  | \"member-management\"\r\n  | \"pricing\"\r\n  | \"page-management\"\r\n  | \"customer-contact\"\r\n  | \"booking-schedule\"\r\n  | \"machine-schedule\";\r\n\r\ntype MenuItem = Required<MenuProps>[\"items\"][number];\r\n\r\nexport const canView = (\r\n  permissions: Partial<Record<PermissionKey, string[]>>,\r\n  key: PermissionKey\r\n) => {\r\n  return permissions?.[key]?.includes(\"view\");\r\n};\r\n\r\nexport const canCreate = (\r\n  permissions: Partial<Record<PermissionKey, string[]>>,\r\n  key: PermissionKey\r\n) => {\r\n  return permissions?.[key]?.includes(\"create\");\r\n};\r\n\r\nexport const canEdit = (\r\n  permissions: Partial<Record<PermissionKey, string[]>>,\r\n  key: PermissionKey\r\n) => {\r\n  return permissions?.[key]?.includes(\"edit\");\r\n};\r\n\r\nexport const canDelete = (\r\n  permissions: Partial<Record<PermissionKey, string[]>>,\r\n  key: PermissionKey\r\n) => {\r\n  return permissions?.[key]?.includes(\"delete\");\r\n};\r\n\r\n// Helper để tránh false/null trong mảng\r\nexport const canViewItem = (\r\n  key: PermissionKey,\r\n  item: MenuItem,\r\n  permissions: Partial<Record<PermissionKey, string[]>>\r\n): MenuItem | null => (canView(permissions, key) ? item : null);\r\n\r\nexport const last3Digits = (phone: string) =>\r\n  chain(phone)\r\n    .replace(/\\D/g, \"\") // bỏ mọi ký tự không phải số\r\n    .toArray() // chuyển thành mảng ký tự\r\n    .takeRight(3) // lấy 3 ký tự cuối\r\n    .join(\"\") // ghép lại thành string\r\n    .value();\r\n\r\nexport const lastWord = (s: string) =>\r\n  chain(s)\r\n    .trim() // bỏ khoảng trắng đầu/cuối\r\n    .split(/\\s+/) // tách theo 1+ khoảng trắng\r\n    .last() // lấy phần tử cuối\r\n    .defaultTo(\"\") // phòng chuỗi rỗng\r\n    .value();\r\n"],"names":["FormItem","_ref","_errors$name$message","_errors$name","children","control","name","help","_ref$hasFeedback","hasFeedback","props","_objectWithoutProperties","_excluded","_useController","useController","field","fieldState","errors","formState","_jsx","AntdForm","Item","_objectSpread","normalize","value","onChange","validateStatus","invalid","undefined","message","currentDate","dayjs","schema","yup","required","phone","test","str","context","isVietnamesePhoneNumber","time","transform","currentValue","originalValue","toDate","nullable","selectedTime","startTime","endTime","isAfter","isBefore","CalendarForm","ref","defaultValues","format","add","_useState","useState","_useState2","_slicedToArray","isOpen","setIsOpen","formRef","useRef","_Form$useForm","Form","useForm","form","_message$useMessage","useMessage","_message$useMessage2","messageApi","contextHolder","_useState3","_useState4","loading","setLoading","_useForm","resolver","yupResolver","handleSubmit","reset","handleShow","getValues","setValue","handleClose","useImperativeHandle","onShow","onClose","_jsxs","Modal","centered","open","title","onCancel","footer","layout","initialValues","style","maxWidth","onFinish","_asyncToGenerator","_regeneratorRuntime","mark","_callee","data","_data$time","newItem","wrap","_context","prev","next","toISOString","createTime","selectedDate","addDoc","collection","firestore","sent","id","setTimeout","_formRef$current","_props$handleReload","resetFields","current","type","content","handleReload","call","t0","console","log","stop","_x","apply","arguments","label","Input","allowClear","className","placeholder","inputMode","TimePicker","Button","size","disabled","isEmpty","htmlType","forwardRef","today","_useContactInfo","useContactInfo","contactInfoData","refetchContactInfo","isLoading","modalDetailVisible","setModalDetailVisible","selectedItem","setSelectedItem","_useState5","_useState6","setSelectedDate","calendarRef","queryClient","useQueryClient","formatTimeISODate","isoDate","formattedData","map","item","customNoticeData","groupBy","handleDateClick","_calendarRef$current2","selectedDateString","formattedCurrentDate","date1","date2","isSame","closeModal","dateCellRender","dateString","validationDate","_Fragment","onClick","icon","MdAddCircleOutline","List","dataSource","renderItem","index","_calendarRef$current","handleItemClick","Space","direction","Badge","status","text","Breadcrumb","items","href","Calendar","onPanelChange","cellRender","info","originNode","onOk","email","description","invalidateQueries","abrupt","query","queryContactInfo","useFirestoreQuery","snapshot","forEach","docSnapshot","push","refetch","error","isError","getStatusColor","pending","active","complete","rejected","canceled","length","getStatusOnline","offline","online","generateSlugUrl","_str","_str$normalize$replac","_str2","replace","toLowerCase","regexPassword","number","formatCurrency","isNil","parseInt","toLocaleString","currency","formatNumber","num","concat","toString","toFixed","canCreate","permissions","key","_permissions$key2","includes","canEdit","_permissions$key3","canDelete","_permissions$key4","canViewItem","_permissions$key","canView","last3Digits","chain","toArray","takeRight","join","lastWord","s","trim","split","last","defaultTo"],"sourceRoot":""}