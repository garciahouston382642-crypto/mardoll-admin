"use strict";(self.webpackChunkmardoll_admin=self.webpackChunkmardoll_admin||[]).push([[8788],{47701:function(e,n,r){r.d(n,{x:function(){return s}});var t=r(1413),i=r(44925),a=(r(72791),r(93070)),l=r(61134),o=r(80184),c=["children","control","name","help","hasFeedback"],s=function(e){var n,r,s=e.children,u=e.control,d=e.name,m=e.help,h=e.hasFeedback,f=void 0!==h&&h,p=(0,i.Z)(e,c),v=(0,l.bc)({name:d,control:u}),g=v.field,x=v.fieldState,b=v.formState.errors;return(0,o.jsx)(a.Z.Item,(0,t.Z)((0,t.Z)({hasFeedback:f,name:d,normalize:function(e){return g.onChange(e),e},validateStatus:x.invalid?"error":void 0,help:null!==(n=null===(r=b[d])||void 0===r?void 0:r.message)&&void 0!==n?n:m},p),{},{children:s}))}},38788:function(e,n,r){r.r(n),r.d(n,{default:function(){return R}});var t=r(72791),i=r(74165),a=r(1413),l=r(15861),o=r(29439),c=r(93070),s=r(86005),u=r(89862),d=r(2641),m=r(77154),h=r(98272),f=r(47701),p=r(61134),v=r(12481),g=r(8007),x=r(29655),b=r(44695),k=r(25850),w=r(763),y=r(40204),Z=r(54174),j=r(57689),N=r(80704),_=r(18106),F=r(80184),S=g.Ry({email:g.Z_().required("Vui l\xf2ng nh\u1eadp email"),password:g.Z_().min(8,"\u0110\u1ed9 d\xe0i t\u1eeb 8-50 k\xed t\u1ef1").max(50,"\u0110\u1ed9 d\xe0i t\u1eeb 8-50 k\xed t\u1ef1").matches(k.Gw,"Ch\u1ee9a \xedt nh\u1ea5t m\u1ed9t k\xed t\u1ef1 th\u01b0\u1eddng, m\u1ed9t k\xed t\u1ef1 hoa, m\u1ed9t k\xed t\u1ef1 \u0111\u1eb7c bi\u1ec7t v\xe0 m\u1ed9t s\u1ed1").required("Vui l\xf2ng nh\u1eadp m\u1eadt kh\u1ea9u")}).required();function I(){var e=(0,N._)("token",null),n=(0,o.Z)(e,2),r=(n[0],n[1]),g=(0,N._)("remember",!1),k=(0,o.Z)(g,2),I=k[0],R=k[1],V=(0,N._)("formLogin",{email:"",password:""}),P=(0,o.Z)(V,2),T=P[0],A=P[1],C=c.Z.useForm(),O=(0,o.Z)(C,1)[0],z=(0,t.useState)(!1),G=(0,o.Z)(z,2),D=G[0],E=G[1],L=(0,t.useRef)(null),$=(0,v.hJ)(Z.R,"employee"),q=(0,_.a)().setUser,H=(0,j.s0)(),J={email:T.email,password:T.password,remember:I},U=(0,p.cI)({defaultValues:J,resolver:(0,b.X)(S)}),M=U.control,X=U.handleSubmit,Q=U.formState.errors,B=U.reset;return(0,F.jsx)(F.Fragment,{children:(0,F.jsxs)(c.Z,{className:"space-y-4 md:space-y-6",form:O,name:"control-contect-ref",ref:L,layout:"vertical",initialValues:J,onFinish:X(function(){var e=(0,l.Z)((0,i.Z)().mark((function e(n){var t,l,o,c,s,u;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,E(!0),n.remember?(R(n.remember),A({email:n.email,password:n.password})):(R(!1),A({email:"",password:""})),t=(0,v.IO)($,(0,v.ar)("email","==",n.email),(0,v.ar)("password","==",n.password),(0,v.b9)(1)),e.next=6,(0,v.PL)(t);case 6:if((l=e.sent).empty){e.next=25;break}return c=[],l.forEach((function(e){c.push((0,a.Z)({id:e.id},e.data()))})),e.next=12,(0,y.hash)("".concat(n.email,"-").concat(n.password),10);case 12:return s=e.sent,q((0,a.Z)((0,a.Z)({},c[0]),{},{password:null,isUserValid:!0})),u=(0,v.JU)($,c[0].id),e.next=17,(0,v.r7)(u,(0,a.Z)((0,a.Z)({},c[0]),{},{token:s}));case 17:r(s),O.resetFields(),null===(o=L.current)||void 0===o||o.resetFields(),B(),x.Am.success("\u0110\u0103ng nh\u1eadp th\xe0nh c\xf4ng !",{position:x.Am.POSITION.TOP_RIGHT}),H("/"),e.next=26;break;case 25:x.Am.error("Sai email ho\u1eb7c m\u1eadt kh\u1ea9u !",{position:x.Am.POSITION.TOP_RIGHT});case 26:E(!1),e.next=32;break;case 29:e.prev=29,e.t0=e.catch(0),console.log(e.t0,"error firebase");case 32:case"end":return e.stop()}}),e,null,[[0,29]])})));return function(n){return e.apply(this,arguments)}}()),children:[(0,F.jsx)(f.x,{control:M,name:"email",label:"Email",children:(0,F.jsx)(s.Z,{allowClear:!0,className:"h-[48px]",placeholder:"Vui l\xf2ng nh\u1eadp email"})}),(0,F.jsx)(f.x,{control:M,name:"password",label:"M\u1eadt kh\u1ea9u",children:(0,F.jsx)(s.Z.Password,{allowClear:!0,className:"h-[48px]",type:"password",iconRender:function(e){return e?(0,F.jsx)(m.Z,{}):(0,F.jsx)(h.Z,{})},placeholder:"Vui l\xf2ng nh\u1eadp m\u1eadt kh\u1ea9u"})}),(0,F.jsx)(f.x,{control:M,name:"remember",valuePropName:"checked",children:(0,F.jsx)(u.Z,{children:"Remember me"})}),(0,F.jsx)(d.ZP,{loading:D,disabled:!(0,w.isEmpty)(Q),type:"primary",htmlType:"submit",block:!0,size:"large",children:"\u0110\u0103ng nh\u1eadp"})]})})}function R(){return(0,F.jsx)("section",{className:"bg-gray-5 bg-cover bg-[50%] bg-[rgb(55_65_81_/_0.6)] bg-blend-multiply bg-[url(https://flowbite.s3.amazonaws.com/blocks/marketing-ui/authentication/background.jpg)]",children:(0,F.jsxs)("div",{className:"flex flex-col items-center justify-center px-6 py-8 mx-auto lg:py-0 h-screen",children:[(0,F.jsxs)("a",{href:"#",className:"flex items-center mb-6 text-2xl font-semibold text-white",children:[(0,F.jsx)("img",{className:"w-8 h-8 mr-2",src:"/marrdoll_studio_logo.jpeg",alt:"logo"}),"Mardoll Studio"]}),(0,F.jsx)("div",{className:"w-full bg-white rounded-lg shadow dark:border md:mt-0 sm:max-w-md xl:p-0",children:(0,F.jsxs)("div",{className:"p-6 space-y-4 md:space-y-6 sm:p-8",children:[(0,F.jsx)("h1",{className:"text-xl font-bold leading-tight tracking-tight text-gray-900 md:text-2xl",children:"\u0110\u0103ng nh\u1eadp v\xe0o t\xe0i kho\u1ea3n c\u1ee7a b\u1ea1n"}),(0,F.jsx)(I,{})]})})]})})}},25850:function(e,n,r){r.d(n,{$5:function(){return l},Dw:function(){return a},Gw:function(){return o},Hl:function(){return c},J5:function(){return m},Q_:function(){return v},Rf:function(){return p},cX:function(){return f},k7:function(){return h},uf:function(){return u},xG:function(){return s},yA:function(){return d},z2:function(){return i}});var t=r(763),i=function(){return{pending:"orange",active:"cyan",complete:"green",rejected:"red",canceled:"red"}[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"pending"]},a=function(){return{offline:"gray",online:"green"}[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"offline"]};function l(e){var n,r,t;return e=null===(t=e=null===(n=e)||void 0===n||null===(r=n.normalize("NFD").replace(/[\u0300-\u036f]/g,""))||void 0===r?void 0:r.replace("\u0111","d"))||void 0===t?void 0:t.replace(/\s+/g,"-").toLowerCase()}var o=/^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$/,c=function(e){return/((^(\+84|84|0|0084){1})(3|5|7|8|9))+([0-9]{8})$/.test(e)},s=function(e){return(0,t.isNil)(e)||(0,t.isEmpty)(e)?"--":parseInt(e).toLocaleString("vi-VN",{style:"currency",currency:"VND"})},u=function(e){return 0===e?"".concat(e.toString()):e>=1e9?"".concat((e/1e9).toFixed(0)," t\u1ef7"):e>=1e6?"".concat((e/1e6).toFixed(0)," tr"):"".concat((e/1e3).toFixed(0)," k")},d=function(e,n){var r;return null===e||void 0===e||null===(r=e[n])||void 0===r?void 0:r.includes("create")},m=function(e,n){var r;return null===e||void 0===e||null===(r=e[n])||void 0===r?void 0:r.includes("edit")},h=function(e,n){var r;return null===e||void 0===e||null===(r=e[n])||void 0===r?void 0:r.includes("delete")},f=function(e,n,r){return function(e,n){var r;return null===e||void 0===e||null===(r=e[n])||void 0===r?void 0:r.includes("view")}(r,e)?n:null},p=function(e){return(0,t.chain)(e).replace(/\D/g,"").toArray().takeRight(3).join("").value()},v=function(e){return(0,t.chain)(e).trim().split(/\s+/).last().defaultTo("").value()}}}]);
//# sourceMappingURL=8788.8aed13a8.chunk.js.map